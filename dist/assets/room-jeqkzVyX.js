import{a9 as Ft,aa as nn,_ as ln,u as an,o as on,r as Ae,a as rn,g as un,c as sn,ab as dn,Q as fn,I as cn,ac as mn,B as be,d as k,e as P,F as Y,f as c,w as h,j as n,k as O,p as Qe,i as U,t as A,m as W,n as ve,v as ne,X as gn,A as ht,y as Mt,ad as Vt}from"./index-GPZQ2_zk.js";import{s as Tt}from"./index-DVaXKKQA.js";import{s as yt}from"./index-CnpRXku3.js";import{g as Me,_ as le,o as s,a as tt,c as nt,b as ct,d as mt}from"./levelDataSetting-B5peIqO0.js";var St={exports:{}};St.exports;(function(lt,p){(function(ce,b,N){var Ve=p&&!p.nodeType&&p,ue=lt&&!lt.nodeType&&lt,ye=Ve&&ue&&typeof Ft=="object"&&Ft,st=ue&&ue.exports===Ve&&Ve;ye&&(ye.global===ye||ye.window===ye||ye.self===ye)&&(ce=ye),N(Ve&&ue?st?ue.exports:Ve:ce[b]={})})(Ft,"luaparse",function(ce){ce.version="0.3.1";var b,N,Ve,ue,ye,st=ce.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Ye(a,i){return i=i||0,a<128?String.fromCharCode(a):a<2048?String.fromCharCode(i|192|a>>6,i|128|a&63):a<65536?String.fromCharCode(i|224|a>>12,i|128|a>>6&63,i|128|a&63):a<1114112?String.fromCharCode(i|240|a>>18,i|128|a>>12&63,i|128|a>>6&63,i|128|a&63):null}function We(a,i){for(var C=a.toString(16);C.length<i;)C="0"+C;return C}function at(a){return function(i){var C=a.exec(i);if(!C)return i;ae(null,ie.invalidCodeUnit,We(C[0].charCodeAt(0),4).toUpperCase())}}var ee={"pseudo-latin1":{fixup:at(/[^\x00-\xff]/),encodeByte:function(a){return a===null?"":String.fromCharCode(a)},encodeUTF8:function(a){return Ye(a)}},"x-user-defined":{fixup:at(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(a){return a===null?"":a>=128?String.fromCharCode(a|63232):String.fromCharCode(a)},encodeUTF8:function(a){return Ye(a,63232)}},none:{discardStrings:!0,fixup:function(a){return a},encodeByte:function(a){return""},encodeUTF8:function(a){return""}}},Re=1,De=2,xe=4,Ce=8,M=16,Ne=32,Xe=64,Te=128,et=256;ce.tokenTypes={EOF:Re,StringLiteral:De,Keyword:xe,Identifier:Ce,NumericLiteral:M,Punctuator:Ne,BooleanLiteral:Xe,NilLiteral:Te,VarargLiteral:et};var ie=ce.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},H=ce.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,i){return{type:"IfClause",condition:a,body:i}},elseifClause:function(a,i){return{type:"ElseifClause",condition:a,body:i}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,i){return{type:"WhileStatement",condition:a,body:i}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,i){return{type:"RepeatStatement",condition:a,body:i}},localStatement:function(a,i){return{type:"LocalStatement",variables:a,init:i}},assignmentStatement:function(a,i){return{type:"AssignmentStatement",variables:a,init:i}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,i,C,G){return{type:"FunctionDeclaration",identifier:a,isLocal:C,parameters:i,body:G}},forNumericStatement:function(a,i,C,G,x){return{type:"ForNumericStatement",variable:a,start:i,end:C,step:G,body:x}},forGenericStatement:function(a,i,C){return{type:"ForGenericStatement",variables:a,iterators:i,body:C}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,i,C){return a=a===De?"StringLiteral":a===M?"NumericLiteral":a===Xe?"BooleanLiteral":a===Te?"NilLiteral":"VarargLiteral",{type:a,value:i,raw:C}},tableKey:function(a,i){return{type:"TableKey",key:a,value:i}},tableKeyString:function(a,i){return{type:"TableKeyString",key:a,value:i}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,i,C){var G=a==="and"||a==="or"?"LogicalExpression":"BinaryExpression";return{type:G,operator:a,left:i,right:C}},unaryExpression:function(a,i){return{type:"UnaryExpression",operator:a,argument:i}},memberExpression:function(a,i,C){return{type:"MemberExpression",indexer:i,identifier:C,base:a}},indexExpression:function(a,i){return{type:"IndexExpression",base:a,index:i}},callExpression:function(a,i){return{type:"CallExpression",base:a,arguments:i}},tableCallExpression:function(a,i){return{type:"TableCallExpression",base:a,arguments:i}},stringCallExpression:function(a,i){return{type:"StringCallExpression",base:a,argument:i}},comment:function(a,i){return{type:"Comment",value:a,raw:i}}};function oe(a){if($){var i=D.pop();i.complete(),i.bless(a)}return N.onCreateNode&&N.onCreateNode(a),a}var qe=Array.prototype.slice,we=function(a,i){for(var C=0,G=a.length;C<G;++C)if(a[C]===i)return C;return-1};Array.prototype.indexOf&&(we=function(a,i){return a.indexOf(i)});function gt(a,i,C){for(var G=0,x=a.length;G<x;++G)if(a[G][i]===C)return G;return-1}function Be(a){var i=qe.call(arguments,1);return a=a.replace(/%(\d)/g,function(C,G){return""+i[G-1]||""}),a}var ot=function(a){for(var i=qe.call(arguments,1),C,G,x=0,pe=i.length;x<pe;++x){C=i[x];for(G in C)Object.prototype.hasOwnProperty.call(C,G)&&(a[G]=C[G])}return a};Object.assign&&(ot=Object.assign),ce.SyntaxError=SyntaxError;function dt(a){return Object.create?Object.create(a,{line:{writable:!0,value:a.line},index:{writable:!0,value:a.index},column:{writable:!0,value:a.column}}):a}function ae(a){var i=Be.apply(null,qe.call(arguments,1)),C,G;throw a===null||typeof a.line>"u"?(G=V-g+1,C=dt(new SyntaxError(Be("[%1:%2] %3",d,G,i))),C.index=V,C.line=d,C.column=G):(G=a.range[0]-a.lineStart,C=dt(new SyntaxError(Be("[%1:%2] %3",a.line,G,i))),C.line=a.line,C.index=a.range[0],C.column=G),C}function ke(a){var i=b.slice(a.range[0],a.range[1]);return i||a.value}function Ie(a,i){ae(i,ie.expectedToken,a,ke(i))}function Oe(a){var i=ke(j);if(typeof a.type<"u"){var C;switch(a.type){case De:C="string";break;case xe:C="keyword";break;case Ce:C="identifier";break;case M:C="number";break;case Ne:C="symbol";break;case Xe:C="boolean";break;case Te:return ae(a,ie.unexpected,"symbol","nil",i);case Re:return ae(a,ie.unexpectedEOF)}return ae(a,ie.unexpected,C,ke(a),i)}return ae(a,ie.unexpected,"symbol",a,i)}var V,S,Le,j,w,m,d,g;ce.lex=_;function _(){for(L();b.charCodeAt(V)===45&&b.charCodeAt(V+1)===45;)de(),L();if(V>=Ve)return{type:Re,value:"<eof>",line:d,lineStart:g,range:[V,V]};var a=b.charCodeAt(V),i=b.charCodeAt(V+1);if(m=V,$e(a))return v();switch(a){case 39:case 34:return E();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o();case 46:return Ue(i)?o():i===46?b.charCodeAt(V+2)===46?T():f(".."):f(".");case 61:return f(i===61?"==":"=");case 62:return ue.bitwiseOperators&&i===62?f(">>"):f(i===61?">=":">");case 60:return ue.bitwiseOperators&&i===60?f("<<"):f(i===61?"<=":"<");case 126:if(i===61)return f("~=");if(!ue.bitwiseOperators)break;return f("~");case 58:return ue.labels&&i===58?f("::"):f(":");case 91:return i===91||i===61?t():f("[");case 47:return ue.integerDivision&&i===47?f("//"):f("/");case 38:case 124:if(!ue.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return f(b.charAt(V))}return Oe(b.charAt(V))}function l(){var a=b.charCodeAt(V),i=b.charCodeAt(V+1);return Ke(a)?(a===10&&i===13&&++V,a===13&&i===10&&++V,++d,g=++V,!0):!1}function L(){for(;V<Ve;){var a=b.charCodeAt(V);if(pt(a))++V;else if(!l())break}}function v(){for(var a,i;He(b.charCodeAt(++V)););return a=ye.fixup(b.slice(m,V)),Q(a)?i=xe:a==="true"||a==="false"?(i=Xe,a=a==="true"):a==="nil"?(i=Te,a=null):i=Ce,{type:i,value:a,line:d,lineStart:g,range:[m,V]}}function f(a){return V+=a.length,{type:Ne,value:a,line:d,lineStart:g,range:[m,V]}}function T(){return V+=3,{type:et,value:"...",line:d,lineStart:g,range:[m,V]}}function E(){for(var a=b.charCodeAt(V++),i=d,C=g,G=V,x=ye.discardStrings?null:"",pe;pe=b.charCodeAt(V++),a!==pe;)if((V>Ve||Ke(pe))&&(x+=b.slice(G,V-1),ae(null,ie.unfinishedString,b.slice(m,V-1))),pe===92){if(!ye.discardStrings){var _e=b.slice(G,V-1);x+=ye.fixup(_e)}var Fe=he();ye.discardStrings||(x+=Fe),G=V}return ye.discardStrings||(x+=ye.encodeByte(null),x+=ye.fixup(b.slice(G,V-1))),{type:De,value:x,line:i,lineStart:C,lastLine:d,lastLineStart:g,range:[m,V]}}function t(){var a=d,i=g,C=q(!1);return C===!1&&ae(S,ie.expected,"[",ke(S)),{type:De,value:ye.discardStrings?null:ye.fixup(C),line:a,lineStart:i,lastLine:d,lastLineStart:g,range:[m,V]}}function o(){var a=b.charAt(V),i=b.charAt(V+1),C=a==="0"&&"xX".indexOf(i||null)>=0?R():X(),G=r(),x=u();return x&&(G||C.hasFractionPart)&&ae(null,ie.malformedNumber,b.slice(m,V)),{type:M,value:C.value,line:d,lineStart:g,range:[m,V]}}function r(){if(ue.imaginaryNumbers)return"iI".indexOf(b.charAt(V)||null)>=0?(++V,!0):!1}function u(){if(ue.integerSuffixes){if("uU".indexOf(b.charAt(V)||null)>=0)if(++V,"lL".indexOf(b.charAt(V)||null)>=0){if(++V,"lL".indexOf(b.charAt(V)||null)>=0)return++V,"ULL";ae(null,ie.malformedNumber,b.slice(m,V))}else ae(null,ie.malformedNumber,b.slice(m,V));else if("lL".indexOf(b.charAt(V)||null)>=0){if(++V,"lL".indexOf(b.charAt(V)||null)>=0)return++V,"LL";ae(null,ie.malformedNumber,b.slice(m,V))}}}function R(){var a=0,i=1,C=1,G,x,pe,_e;for(_e=V+=2,je(b.charCodeAt(V))||ae(null,ie.malformedNumber,b.slice(m,V));je(b.charCodeAt(V));)++V;G=parseInt(b.slice(_e,V),16);var Fe=!1;if(b.charAt(V)==="."){for(Fe=!0,x=++V;je(b.charCodeAt(V));)++V;a=b.slice(x,V),a=x===V?0:parseInt(a,16)/Math.pow(16,V-x)}var bt=!1;if("pP".indexOf(b.charAt(V)||null)>=0){for(bt=!0,++V,"+-".indexOf(b.charAt(V)||null)>=0&&(C=b.charAt(V++)==="+"?1:-1),pe=V,Ue(b.charCodeAt(V))||ae(null,ie.malformedNumber,b.slice(m,V));Ue(b.charCodeAt(V));)++V;i=b.slice(pe,V),i=Math.pow(2,i*C)}return{value:(G+a)*i,hasFractionPart:Fe||bt}}function X(){for(;Ue(b.charCodeAt(V));)++V;var a=!1;if(b.charAt(V)===".")for(a=!0,++V;Ue(b.charCodeAt(V));)++V;var i=!1;if("eE".indexOf(b.charAt(V)||null)>=0)for(i=!0,++V,"+-".indexOf(b.charAt(V)||null)>=0&&++V,Ue(b.charCodeAt(V))||ae(null,ie.malformedNumber,b.slice(m,V));Ue(b.charCodeAt(V));)++V;return{value:parseFloat(b.slice(m,V)),hasFractionPart:a||i}}function te(){var a=V++;for(b.charAt(V++)!=="{"&&ae(null,ie.braceExpected,"{","\\"+b.slice(a,V)),je(b.charCodeAt(V))||ae(null,ie.hexadecimalDigitExpected,"\\"+b.slice(a,V));b.charCodeAt(V)===48;)++V;for(var i=V;je(b.charCodeAt(V));)++V,V-i>6&&ae(null,ie.tooLargeCodepoint,"\\"+b.slice(a,V));var C=b.charAt(V++);C!=="}"&&(C==='"'||C==="'"?ae(null,ie.braceExpected,"}","\\"+b.slice(a,V--)):ae(null,ie.hexadecimalDigitExpected,"\\"+b.slice(a,V)));var G=parseInt(b.slice(i,V-1)||"0",16),x="\\"+b.slice(a,V);return G>1114111&&ae(null,ie.tooLargeCodepoint,x),ye.encodeUTF8(G,x)}function he(){var a=V;switch(b.charAt(V)){case"a":return++V,"\x07";case"n":return++V,`
`;case"r":return++V,"\r";case"t":return++V,"	";case"v":return++V,"\v";case"b":return++V,"\b";case"f":return++V,"\f";case"\r":case`
`:return l(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;Ue(b.charCodeAt(V))&&V-a<3;)++V;var i=b.slice(a,V),C=parseInt(i,10);return C>255&&ae(null,ie.decimalEscapeTooLarge,"\\"+C),ye.encodeByte(C,"\\"+i);case"z":if(ue.skipWhitespaceEscape)return++V,L(),"";break;case"x":if(ue.hexEscapes){if(je(b.charCodeAt(V+1))&&je(b.charCodeAt(V+2)))return V+=3,ye.encodeByte(parseInt(b.slice(a+1,V),16),"\\"+b.slice(a,V));ae(null,ie.hexadecimalDigitExpected,"\\"+b.slice(a,V+2))}break;case"u":if(ue.unicodeEscapes)return te();break;case"\\":case'"':case"'":return b.charAt(V++)}return ue.strictEscapes&&ae(null,ie.invalidEscape,"\\"+b.slice(a,V+1)),b.charAt(V++)}function de(){m=V,V+=2;var a=b.charAt(V),i="",C=!1,G=V,x=g,pe=d;if(a==="["&&(i=q(!0),i===!1?i=a:C=!0),!C){for(;V<Ve&&!Ke(b.charCodeAt(V));)++V;N.comments&&(i=b.slice(G,V))}if(N.comments){var _e=H.comment(i,b.slice(m,V));N.locations&&(_e.loc={start:{line:pe,column:m-x},end:{line:d,column:V-g}}),N.ranges&&(_e.range=[m,V]),N.onCreateNode&&N.onCreateNode(_e),w.push(_e)}}function q(a){var i=0,C="",G=!1,x,pe,_e=d;for(++V;b.charAt(V+i)==="=";)++i;if(b.charAt(V+i)!=="[")return!1;for(V+=i+1,Ke(b.charCodeAt(V))&&l(),pe=V;V<Ve;){for(;Ke(b.charCodeAt(V));)l();if(x=b.charAt(V++),x==="]"){G=!0;for(var Fe=0;Fe<i;++Fe)b.charAt(V+Fe)!=="="&&(G=!1);b.charAt(V+i)!=="]"&&(G=!1)}if(G)return C+=b.slice(pe,V-1),V+=i+1,C}ae(null,a?ie.unfinishedLongComment:ie.unfinishedLongString,_e,"<eof>")}function z(){Le=S,S=j,j=_()}function Z(a){return a===S.value?(z(),!0):!1}function re(a){a===S.value?z():ae(S,ie.expected,a,ke(S))}function pt(a){return a===9||a===32||a===11||a===12}function Ke(a){return a===10||a===13}function Ue(a){return a>=48&&a<=57}function je(a){return a>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70}function $e(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||ue.extendedIdentifiers&&a>=128)}function He(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||a>=48&&a<=57||ue.extendedIdentifiers&&a>=128)}function Q(a){switch(a.length){case 2:return a==="do"||a==="if"||a==="in"||a==="or";case 3:return a==="and"||a==="end"||a==="for"||a==="not";case 4:return a==="else"||a==="then"?!0:ue.labels&&!ue.contextualGoto?a==="goto":!1;case 5:return a==="break"||a==="local"||a==="until"||a==="while";case 6:return a==="elseif"||a==="repeat"||a==="return";case 8:return a==="function"}return!1}function ft(a){return Ne===a.type?"#-~".indexOf(a.value)>=0:xe===a.type?a.value==="not":!1}function _t(a){if(Re===a.type)return!0;if(xe!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var Je,Ze,it;function F(){var a=Je[Ze++].slice();Je.push(a),N.onCreateScope&&N.onCreateScope()}function I(){Je.pop(),--Ze,N.onDestroyScope&&N.onDestroyScope()}function B(a){N.onLocalDeclaration&&N.onLocalDeclaration(a),we(Je[Ze],a)===-1&&Je[Ze].push(a)}function e(a){B(a.name),y(a,!0)}function y(a,i){!i&&gt(it,"name",a.name)===-1&&it.push(a),a.isLocal=i}function K(a){return we(Je[Ze],a)!==-1}var D=[],$;function J(){return new fe(S)}function fe(a){N.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),N.ranges&&(this.range=[a.range[0],0])}fe.prototype.complete=function(){N.locations&&(this.loc.end.line=Le.lastLine||Le.line,this.loc.end.column=Le.range[1]-(Le.lastLineStart||Le.lineStart)),N.ranges&&(this.range[1]=Le.range[1])},fe.prototype.bless=function(a){if(this.loc){var i=this.loc;a.loc={start:{line:i.start.line,column:i.start.column},end:{line:i.end.line,column:i.end.column}}}this.range&&(a.range=[this.range[0],this.range[1]])};function me(){$&&D.push(J())}function ge(a){$&&D.push(a)}function Ge(){this.scopes=[],this.pendingGotos=[]}Ge.prototype.isInLoop=function(){for(var a=this.scopes.length;a-- >0;)if(this.scopes[a].isLoop)return!0;return!1},Ge.prototype.pushScope=function(a){var i={labels:{},locals:[],deferredGotos:[],isLoop:!!a};this.scopes.push(i)},Ge.prototype.popScope=function(){for(var a=0;a<this.pendingGotos.length;++a){var i=this.pendingGotos[a];i.maxDepth>=this.scopes.length&&--i.maxDepth<=0&&ae(i.token,ie.labelNotVisible,i.target)}this.scopes.pop()},Ge.prototype.addGoto=function(a,i){for(var C=[],G=0;G<this.scopes.length;++G){var x=this.scopes[G];if(C.push(x.locals.length),Object.prototype.hasOwnProperty.call(x.labels,a))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:a,token:i,localCounts:C})},Ge.prototype.addLabel=function(a,i){var C=this.currentScope();if(Object.prototype.hasOwnProperty.call(C.labels,a))ae(i,ie.labelAlreadyDefined,a,C.labels[a].line);else{for(var G=[],x=0;x<this.pendingGotos.length;++x){var pe=this.pendingGotos[x];if(pe.maxDepth>=this.scopes.length&&pe.target===a){pe.localCounts[this.scopes.length-1]<C.locals.length&&C.deferredGotos.push(pe);continue}G.push(pe)}this.pendingGotos=G}C.labels[a]={localCount:C.locals.length,line:i.line}},Ge.prototype.addLocal=function(a,i){this.currentScope().locals.push({name:a,token:i})},Ge.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},Ge.prototype.raiseDeferredErrors=function(){for(var a=this.currentScope(),i=a.deferredGotos,C=0;C<i.length;++C){var G=i[C];ae(G.token,ie.gotoJumpInLocalScope,G.target,a.locals[G.localCounts[this.scopes.length-1]].name)}};function se(){this.level=0,this.loopLevels=[]}se.prototype.isInLoop=function(){return!!this.loopLevels.length},se.prototype.pushScope=function(a){++this.level,a&&this.loopLevels.push(this.level)},se.prototype.popScope=function(){var a=this.loopLevels,i=a.length;i&&a[i-1]===this.level&&a.pop(),--this.level},se.prototype.addGoto=se.prototype.addLabel=function(){throw new Error("This should never happen")},se.prototype.addLocal=se.prototype.raiseDeferredErrors=function(){};function Pe(){return ue.labels?new Ge:new se}function rt(){z(),me(),N.scope&&F();var a=Pe();a.allowVararg=!0,a.pushScope();var i=Se(a);return a.popScope(),N.scope&&I(),Re!==S.type&&Oe(S),$&&!i.length&&(Le=S),oe(H.chunk(i))}function Se(a){for(var i=[],C;!_t(S);){if(S.value==="return"||!ue.relaxedBreak&&S.value==="break"){i.push(Bt(a));break}C=Bt(a),Z(";"),C&&i.push(C)}return i}function Bt(a){if(me(),Ne===S.type&&Z("::"))return xt(a);if(ue.emptyStatement&&Z(";")){$&&D.pop();return}if(a.raiseDeferredErrors(),xe===S.type)switch(S.value){case"local":return z(),Xt(a);case"if":return z(),Ht(a);case"return":return z(),jt(a);case"function":z();var i=Qt();return Lt(i);case"while":return z(),qt(a);case"for":return z(),Jt(a);case"repeat":return z(),Kt(a);case"break":return z(),a.isInLoop()||ae(S,ie.noLoopToBreak,S.value),Ot();case"do":return z(),Wt(a);case"goto":return z(),Gt(a)}return ue.contextualGoto&&S.type===Ce&&S.value==="goto"&&j.type===Ce&&j.value!=="goto"?(z(),Gt(a)):($&&D.pop(),Zt(a))}function xt(a){var i=S,C=ze();return N.scope&&(B("::"+i.value+"::"),y(C,!0)),re("::"),a.addLabel(i.value,i),oe(H.labelStatement(C))}function Ot(){return oe(H.breakStatement())}function Gt(a){var i=S.value,C=Le,G=ze();return a.addGoto(i,C),oe(H.gotoStatement(G))}function Wt(a){N.scope&&F(),a.pushScope();var i=Se(a);return a.popScope(),N.scope&&I(),re("end"),oe(H.doStatement(i))}function qt(a){var i=Ee(a);re("do"),N.scope&&F(),a.pushScope(!0);var C=Se(a);return a.popScope(),N.scope&&I(),re("end"),oe(H.whileStatement(i,C))}function Kt(a){N.scope&&F(),a.pushScope(!0);var i=Se(a);re("until"),a.raiseDeferredErrors();var C=Ee(a);return a.popScope(),N.scope&&I(),oe(H.repeatStatement(C,i))}function jt(a){var i=[];if(S.value!=="end"){var C=kt(a);for(C!=null&&i.push(C);Z(",");)C=Ee(a),i.push(C);Z(";")}return oe(H.returnStatement(i))}function Ht(a){var i=[],C,G,x;for($&&(x=D[D.length-1],D.push(x)),C=Ee(a),re("then"),N.scope&&F(),a.pushScope(),G=Se(a),a.popScope(),N.scope&&I(),i.push(oe(H.ifClause(C,G))),$&&(x=J());Z("elseif");)ge(x),C=Ee(a),re("then"),N.scope&&F(),a.pushScope(),G=Se(a),a.popScope(),N.scope&&I(),i.push(oe(H.elseifClause(C,G))),$&&(x=J());return Z("else")&&($&&(x=new fe(Le),D.push(x)),N.scope&&F(),a.pushScope(),G=Se(a),a.popScope(),N.scope&&I(),i.push(oe(H.elseClause(G)))),re("end"),oe(H.ifStatement(i))}function Jt(a){var i=ze(),C;if(N.scope&&(F(),e(i)),Z("=")){var G=Ee(a);re(",");var x=Ee(a),pe=Z(",")?Ee(a):null;return re("do"),a.pushScope(!0),C=Se(a),a.popScope(),re("end"),N.scope&&I(),oe(H.forNumericStatement(i,G,x,pe,C))}else{for(var _e=[i];Z(",");)i=ze(),N.scope&&e(i),_e.push(i);re("in");var Fe=[];do{var bt=Ee(a);Fe.push(bt)}while(Z(","));return re("do"),a.pushScope(!0),C=Se(a),a.popScope(),re("end"),N.scope&&I(),oe(H.forGenericStatement(_e,Fe,C))}}function Xt(a){var i,C=Le;if(Ce===S.type){var G=[],x=[];do i=ze(),G.push(i),a.addLocal(i.name,C);while(Z(","));if(Z("="))do{var pe=Ee(a);x.push(pe)}while(Z(","));if(N.scope)for(var _e=0,Fe=G.length;_e<Fe;++_e)e(G[_e]);return oe(H.localStatement(G,x))}if(Z("function"))return i=ze(),a.addLocal(i.name,C),N.scope&&(e(i),F()),Lt(i,!0);Ie("<name>",S)}function Zt(a){var i,C,G,x,pe,_e=[];$&&(C=J());do{if($&&(i=J()),Ce===S.type)pe=S.value,x=ze(),N.scope&&y(x,K(pe)),G=!0;else if(S.value==="(")z(),x=Ee(a),re(")"),G=!1;else return Oe(S);e:for(;;){switch(De===S.type?'"':S.value){case".":case"[":G=!0;break;case":":case"(":case"{":case'"':G=null;break;default:break e}x=Ut(x,i,a)}if(_e.push(x),S.value!==",")break;if(!G)return Oe(S);z()}while(!0);if(_e.length===1&&G===null)return ge(i),oe(H.callStatement(_e[0]));if(!G)return Oe(S);re("=");var Fe=[];do Fe.push(Ee(a));while(Z(","));return ge(C),oe(H.assignmentStatement(_e,Fe))}function ze(){me();var a=S.value;return Ce!==S.type&&Ie("<name>",S),z(),oe(H.identifier(a))}function Lt(a,i){var C=Pe();C.pushScope();var G=[];if(re("("),!Z(")"))for(;;){if(Ce===S.type){var x=ze();if(N.scope&&e(x),G.push(x),Z(","))continue}else et===S.type?(C.allowVararg=!0,G.push(Et(C))):Ie("<name> or '...'",S);re(")");break}var pe=Se(C);return C.popScope(),re("end"),N.scope&&I(),i=i||!1,oe(H.functionStatement(a,G,i,pe))}function Qt(){var a,i,C;for($&&(C=J()),a=ze(),N.scope&&(y(a,K(a.name)),F());Z(".");)ge(C),i=ze(),a=oe(H.memberExpression(a,".",i));return Z(":")&&(ge(C),i=ze(),a=oe(H.memberExpression(a,":",i)),N.scope&&B("self")),a}function It(a){for(var i=[],C,G;;){if(me(),Ne===S.type&&Z("["))C=Ee(a),re("]"),re("="),G=Ee(a),i.push(oe(H.tableKey(C,G)));else if(Ce===S.type)j.value==="="?(C=ze(),z(),G=Ee(a),i.push(oe(H.tableKeyString(C,G)))):(G=Ee(a),i.push(oe(H.tableValue(G))));else{if((G=kt(a))==null){D.pop();break}i.push(oe(H.tableValue(G)))}if(",;".indexOf(S.value)>=0){z();continue}break}return re("}"),oe(H.tableConstructorExpression(i))}function kt(a){var i=Ct(0,a);return i}function Ee(a){var i=kt(a);if(i==null)Ie("<expression>",S);else return i}function Yt(a){var i=a.charCodeAt(0),C=a.length;if(C===1)switch(i){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(C===2)switch(i){case 47:return 10;case 46:return 8;case 60:case 62:return a==="<<"||a===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(i===97&&a==="and")return 2;return 0}function Ct(a,i){var C=S.value,G,x;if($&&(x=J()),ft(S)){me(),z();var pe=Ct(10,i);pe==null&&Ie("<expression>",S),G=oe(H.unaryExpression(C,pe))}if(G==null&&(G=Et(i),G==null&&(G=en(i))),G==null)return null;for(var _e;C=S.value,_e=Ne===S.type||xe===S.type?Yt(C):0,!(_e===0||_e<=a);){(C==="^"||C==="..")&&--_e,z();var Fe=Ct(_e,i);Fe==null&&Ie("<expression>",S),$&&D.push(x),G=oe(H.binaryExpression(C,G,Fe))}return G}function Ut(a,i,C){var G,x;if(Ne===S.type)switch(S.value){case"[":return ge(i),z(),G=Ee(C),re("]"),oe(H.indexExpression(a,G));case".":return ge(i),z(),x=ze(),oe(H.memberExpression(a,".",x));case":":return ge(i),z(),x=ze(),a=oe(H.memberExpression(a,":",x)),ge(i),wt(a,C);case"(":case"{":return ge(i),wt(a,C)}else if(De===S.type)return ge(i),wt(a,C);return null}function en(a){var i,C,G;if($&&(G=J()),Ce===S.type)C=S.value,i=ze(),N.scope&&y(i,K(C));else if(Z("("))i=Ee(a),re(")");else return null;for(;;){var x=Ut(i,G,a);if(x===null)break;i=x}return i}function wt(a,i){if(Ne===S.type)switch(S.value){case"(":ue.emptyStatement||S.line!==Le.line&&ae(null,ie.ambiguousSyntax,S.value),z();var C=[],G=kt(i);for(G!=null&&C.push(G);Z(",");)G=Ee(i),C.push(G);return re(")"),oe(H.callExpression(a,C));case"{":me(),z();var x=It(i);return oe(H.tableCallExpression(a,x))}else if(De===S.type)return oe(H.stringCallExpression(a,Et(i)));Ie("function arguments",S)}function Et(a){var i=De|M|Xe|Te|et,C=S.value,G=S.type,x;if($&&(x=J()),G===et&&!a.allowVararg&&ae(S,ie.cannotUseVararg,S.value),G&i){ge(x);var pe=b.slice(S.range[0],S.range[1]);return z(),oe(H.literal(G,C,pe))}else{if(xe===G&&C==="function")return ge(x),z(),N.scope&&F(),Lt(null);if(Z("{"))return ge(x),It(a)}}ce.parse=tn;var Pt={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function tn(a,i){if(typeof i>"u"&&typeof a=="object"&&(i=a,a=void 0),i||(i={}),b=a||"",N=ot({},st,i),V=0,d=1,g=0,Ve=b.length,Je=[[]],Ze=0,it=[],D=[],!Object.prototype.hasOwnProperty.call(Pt,N.luaVersion))throw new Error(Be("Lua version '%1' not supported",N.luaVersion));if(ue=ot({},Pt[N.luaVersion]),N.extendedIdentifiers!==void 0&&(ue.extendedIdentifiers=!!N.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(ee,N.encodingMode))throw new Error(Be("Encoding mode '%1' not supported",N.encodingMode));return ye=ee[N.encodingMode],N.comments&&(w=[]),N.wait?ce:Dt()}ce.write=zt;function zt(a){return b+=String(a),Ve=b.length,ce}ce.end=Dt;function Dt(a){typeof a<"u"&&zt(a),b&&b.substr(0,2)==="#!"&&(b=b.replace(/^.*/,function(C){return C.replace(/./g," ")})),Ve=b.length,$=N.locations||N.ranges,j=_();var i=rt();if(N.comments&&(i.comments=w),N.scope&&(i.globals=it),D.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return i}})})(St,St.exports);var pn=St.exports;const ut=nn(pn);var vt={},Rt={exports:{}};Rt.exports;(function(lt){function p(j){for(var w=0,m=j.length;m--;)w+=j.charCodeAt(m),w+=w<<10,w^=w>>6;return w+=w<<3,w^=w>>11,w+=w<<15,w}const ce=console.log,b=function(j,w){if(!j)throw w};function N(j,w){if(!j)return 0;var m=j.toString().split(".");return m.length>1?parseInt(m[0],w)+parseInt(m[1],w)/Math.pow(w,m[1].length):parseInt(m[0],w)}let Ve=[" ",`
`,"	","\r"],ue={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const ye=new Proxy(ue,{get(j,w){return N(w)}});let st=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ye=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],We=["0","1","2","3","4","5","6","7","8","9"],at=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],ee=["0","1"],Re=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],De=["~","=",">","<"],xe=["+","-","*","/","^","..","%","//"],Ce=["+=","-=","*=","/=","^=","..=","%=","//="],M=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],Ne=["else","elseif","until","end"],Xe=["-","not","#","~"],Te=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],et=11,ie={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function H(j){let w=0,m=j.length,d=[];function g(t){return t=t||0,w<=m?j.substr(w+t,1):""}function _(){if(w<=m){let t=j.substr(w,1);return w++,t}else return""}function l(t){let o=0,r=1,u=1;for(;o<=w;)j.substr(o,1)==`
`?(r++,u=1):u++;let R;for(R=0;R<d.length;R++){let X=d[R];ce(`${X.Type}<${X.Source}>`)}throw`file<${r}:${u}>: ${t}`}function L(t){for(;;){let o=_();if(o=="")l("Unfinished long string.");else if(o=="]"){let r=!0,u;for(u=1;u<=t;u++)if(g()=="=")w++;else{r=!1;break}if(r&&_()=="]")return}}}function v(){let t=w;for(;g()=="=";)w++;if(g()=="[")return w++,w-t-1;w=t}let f=0,T=0;function E(t){let o=j.substr(T,w-T),r=null;t=="Number"&&(o.substr(0,2).toLowerCase()=="0x"?(r="hex",parseInt(o,16)<999999999999&&(o=parseInt(o,16))):o.substr(0,2).toLowerCase()=="0b"&&(r="bin",parseInt(o.substr(2),2)<999999999999&&(o=parseInt(o.substr(2),2))));let u={Type:t,LeadingWhite:j.substr(f,T-f),Source:o};return r!==null&&(u.NType=r),d.push(u),f=w,T=w,u}for(;;){for(f=w;;){let o=g();if(o=="")break;if(o=="-")if(g(1)=="-")if(w+=2,g()=="["){w++;let r=v();if(r!=null)L(r),f=w;else for(;;){let u=_();if(u==""||u==`
`)break}}else for(;;){let r=_();if(r==""||r==`
`)break}else break;else if(Ve.includes(o))w++;else break}j.substr(f,w-f),T=w;let t=_();if(t==""){E("Eof");break}else if(t=="'"||t=='"'){for(;;){let o=_();if(o=="\\"){let r=_();if(ye[r]==null)throw`Invalid Escape Sequence \`${r}\`.`}else{if(o==t)break;if(o=="")throw"Unfinished string!"}}E("String")}else if(t=="`"){for(;;){let o=_();if(o=="\\"){let r=_();if(ye[r]==null)throw`Invalid Escape Sequence \`${r}\`.`}else{if(o==t)break;if(o=="")throw"Unfinished string!"}}E("Hash")}else if(st.includes(t)){for(;Ye.includes(g());)w++;M.includes(j.substr(T,w-T))?E("Keyword"):E("Ident")}else if(We.includes(t)||t=="."&&We.includes(g())){if(t=="0"&&g().toLowerCase()=="x")for(w++;at.includes(g())||g()==="_";)w++;else if(t=="0"&&g().toLowerCase()=="b")for(w++;ee.includes(g())||g()==="_";)w++;else{for(;We.includes(g())||g()==="_";)w++;if(g()==".")for(w++;We.includes(g());)w++;if(g()=="e"||g()=="E")for(w++,(g()=="-"||g()=="+")&&w++;We.includes(g());)w++}E("Number")}else if(t=="["){let o=v();o!=null?(L(o),E("String")):E("Symbol")}else if(t==".")g()=="."&&(_(),(g()=="."||g()=="=")&&_()),E("Symbol");else if(t+g()=="//")_(),g()=="="&&_(),E("Symbol");else if(t+g()=="::")_(),E("Symbol");else if(Te.includes(t+g()))_(),E("Symbol");else if(De.includes(t))g()=="="&&w++,E("Symbol");else if(xe.includes(t)&&g()=="=")_(),E("Symbol");else if(Re.includes(t))E("Symbol");else throw`Bad symbol \`${t}\` in source. ${w}`}return d}function oe(j){let w=H(j),m=0;function d(){let F=w[m];return m<w.length&&m++,F}function g(F){return F=m+(F||0),w[F]||w[w.length-1]}function _(F){let I=1,B=0,e=0;for(;;){let y=w[e],K;y==F?K=y.LeadingWhite:K=y.LeadingWhite+y.Source;let D;for(D=0;D<=K.length;D++)K.substr(D,1)==`
`?(I++,B=0):B++;if(y==F)break;e++}return`${I}:${B+1}`}function l(){let F=g();return`<${F.Type} \`${F.Source}\`> at: ${_(F)}`}function L(){let F=g();return F.Type=="Eof"||F.Type=="Keyword"&&Ne.includes(F.Source)}function v(){return Xe.includes(g().Source)||!1}function f(){return Te.includes(g().Source)||!1}function T(F,I){let B=g();if(B.Type==F&&(I==null||B.Source==I))return d();{let e;for(e=-3;e<=3;e++)ce(`Tokens[${e}] = \`${g(e).Source}\``);throw I?`${_(B)}: \`${I}\` expected.`:`${_(B)}: ${F} expected.`}}function E(F){let I=F.GetFirstToken,B=F.GetLastToken,e=F;return F.GetFirstToken=function(){let y=I(e);return b(y),y},F.GetLastToken=function(){let y=B(e);return b(y),y},F}let t,o;function r(F,I){let B=[o(F,I)],e=[];for(;g().Source==",";)e.push(d()),B.push(o(F,I));return[B,e]}function u(F,I){var e,y,K,D;let B=g();if(B.Source=="("){let $=d(),J=o(F,I),fe=T("Symbol",")"),me;return me=E({Type:"ParenExpr",Expression:J,Token_OpenParen:$,Token_CloseParen:fe,GetFirstToken:()=>me.Token_OpenParen,GetLastToken:()=>me.Token_CloseParen}),me}else if(B.Type=="Ident"){let $;return $=E({Type:"VariableExpr",Token:d(),GetFirstToken:()=>$.Token,GetLastToken:()=>$.Token}),F[$.Token.Source]!=null&&((y=(e=F[$.Token.Source])==null?void 0:e.Tokens)==null?void 0:y.push)!=null?(F[$.Token.Source].Tokens.push($.Token),F[$.Token.Source].UseCountIncrease()):I[$.Token.Source]!=null&&((D=(K=I[$.Token.Source])==null?void 0:K.Tokens)==null?void 0:D.push)!=null&&(I[$.Token.Source].Tokens.push($.Token),I[$.Token.Source].UseCountIncrease()),$}else throw ce(l()),`${_(B)}: Unexpected symbol. ${B.Type} ${B.Source}`}function R(F,I){let B=T("Symbol","{"),e=[],y=[];for(;g().Source!="}";){if(g().Source=="["){let $=d(),J=o(F,I),fe=T("Symbol","]"),me=T("Symbol","="),ge=o(F,I);J.Token&&J.Token.Source,e.push({EntryType:"Index",Index:J,Value:ge,Token_OpenBracket:$,Token_CloseBracket:fe,Token_Equals:me})}else if(g().Type=="Ident"&&g(1).Source=="="){let $=d(),J=d(),fe=o(F,I);e.push({EntryType:"Field",Field:$,Value:fe,Token_Equals:J})}else{let $=o(F,I);e.push({EntryType:"Value",Value:$})}if(g().Source==","||g().Source==";")y.push(d());else break}let K=T("Symbol","}"),D;return D=E({Type:"TableLiteral",EntryList:e,Token_SeperatorList:y,Token_OpenBrace:B,Token_CloseBrace:K,GetFirstToken:()=>D.Token_OpenBrace,GetLastToken:()=>D.Token_CloseBrace}),D}function X(F,I){let B=[],e=[];if(g().Type=="Ident"){let y=d();if(I&&g().Source=="<"&&g(2).Source==">"){let K=g(1).Source;y.Attribute={LeadingWhite:g().LeadingWhite,Source:`<${K}>`},d(),d(),d()}B.push(y)}else if(g().Source=="..."&&F)return[B,e,d()];for(;g().Source==",";){if(e.push(d()),g().Source=="..."&&F)return[B,e,d()];{let y=T("Ident");if(I&&g().Source=="<"&&g(2).Source==">"){let K=g(1).Source;y.Attribute={LeadingWhite:g().LeadingWhite,Source:`<${K}>`},d(),d(),d()}B.push(y)}}return[B,e]}function te(F,I,B){let e=t(I,B),y=g();if(y.Type=="Keyword"&&y.Source==F)return d(),[e,y];throw ce(y.Type,y.Source),`${_(y)}: ${F} expected.`}function he(F,I,B,e){let y=d(),K,D;if(!F){K=[],D=[];let rt=T("Ident");for(K.push(rt);g().Source==".";)D.push(d()),K.push(T("Ident"));g().Source==":"&&(D.push(d()),K.push(T("Ident")))}let $=T("Symbol","("),[J,fe,me]=X(!0),ge=T("Symbol",")"),[Ge,se]=te("end",I,B),Pe;return Pe=E({Type:F==!0?"FunctionLiteral":"FunctionStat",NameChain:K,ArgList:J,Body:Ge,Token_Function:y,Token_NameChainSeperator:D,Token_OpenParen:$,Token_Varg:me,Token_ArgCommaList:fe,Token_CloseParen:ge,Token_End:se,GetFirstToken:()=>Pe.Token_Function,GetLastToken:()=>Pe.Token_End}),Pe}function de(F,I){let B=g();if(B.Source=="("){let e=d(),y=[],K=[];for(;g().Source!=")"&&(y.push(o(F,I)),g().Source==",");)K.push(d());let D=T("Symbol",")"),$;return $=E({CallType:"ArgCall",ArgList:y,Token_CommaList:K,Token_OpenParen:e,Token_CloseParen:D,GetFirstToken:()=>$.Token_OpenParen,GetLastToken:()=>$.Token_CloseParen}),$}else if(B.Source=="{"){let e;return e=E({CallType:"TableCall",TableExpr:o(F,I),GetFirstToken:()=>e.TableExpr.GetFirstToken(),GetLastToken:()=>e.TableExpr.GetLastToken()}),e}else if(B.Type=="String"){let e;return e=E({CallType:"StringCall",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else throw"Function arguments expected."}function q(F,I){let B=u(F,I);for(b(B,"nil prefixexpr");;){let e=g();if(e.Source=="."){let y=d(),K=T("Ident"),D;D=E({Type:"FieldExpr",Base:B,Field:K,Token_Dot:y,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Field}),B=D}else if(e.Source==":"){let y=d(),K=T("Ident"),D=de(F,I),$;$=E({Type:"MethodExpr",Base:B,Method:K,FunctionArguments:D,Token_Colon:y,GetFirstToken:()=>$.Base.GetFirstToken(),GetLastToken:()=>$.FunctionArguments.GetLastToken()}),B=$}else if(e.Source=="["){let y=d(),K=o(F,I),D=T("Symbol","]"),$;$=E({Type:"IndexExpr",Base:B,Index:K,Token_OpenBracket:y,Token_CloseBracket:D,GetFirstToken:()=>$.Base.GetFirstToken(),GetLastToken:()=>$.Token_CloseBracket}),B=$}else if(e.Source=="{"||e.Source=="("||e.Type=="String"){let y;y=E({Type:"CallExpr",Base:B,FunctionArguments:de(F,I),GetFirstToken:()=>y.Base.GetFirstToken(),GetLastToken:()=>y.FunctionArguments.GetLastToken()}),B=y}else if(Ce.includes(e.Source)){let y=d(),K=o(F,I),D;D=E({Type:"CompoundStat",Base:B,Token_Compound:y,Rhs:K,Lhs:B,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),B=D}else return B}}function z(F,I){let B=g();if(B.Type=="Number"){let e;return e=E({Type:"NumberLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else if(B.Type=="String"){let e;return e=E({Type:"StringLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else if(B.Type=="Hash"){let e;return e=E({Type:"HashLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else if(B.Source=="nil"){let e;return e=E({Type:"NilLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else if(B.Source=="true"||B.Source=="false"){let e;return e=E({Type:"BooleanLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else if(B.Source=="..."){let e;return e=E({Type:"VargLiteral",Token:d(),GetFirstToken:()=>e.Token,GetLastToken:()=>e.Token}),e}else return B.Source=="{"?R(F,I):B.Source=="function"?he(!0,F,I):q(F,I)}function Z(F,I,B){let e;if(v()){let y=d(),K=Z(et,I,B),D;D=E({Type:"UnopExpr",Token_Op:y,Rhs:K,GetFirstToken:()=>D.Token_Op,GetLastToken:()=>D.Rhs.GetLastToken()}),e=D}else e=z(I,B),b(e,"nil sipleexpr");for(;f()&&ie[g().Source]!=null&&ie[g().Source][0]>F;){let y=d(),K=Z(ie[y.Source][1],I,B);b(K,"RhsNeeded");let D;D=E({Type:"BinopExpr",Lhs:e,Rhs:K,Token_Op:y,GetFirstToken:()=>D.Lhs.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),e=D}return e}o=(F,I)=>Z(0,F,I);function re(F,I){let B=q(F,I);if(B.Type=="MethodExpr"||B.Type=="CallExpr"){let e;return e=E({Type:"CallExprStat",Expression:B,GetFirstToken:()=>e.Expression.GetFirstToken(),GetLastToken:()=>e.Expression.GetLastToken()}),e}else{if(B.Type=="CompoundStat")return B;{let e=[B],y=[];for(;g().Source==",";){y.push(d());let fe=q(F,I);if(fe.Type=="MethodExpr"||fe.Type=="CallExpr")throw"Bad left hand side of asignment";e.push(fe)}let K=T("Symbol","="),D=[o(F,I)],$=[];for(;g().Source==",";)$.push(d()),D.push(o(F,I));let J;return J=E({Type:"AssignmentStat",Rhs:D,Lhs:e,Token_Equals:K,Token_LhsSeperatorList:y,Token_RhsSeperatorList:$,GetFirstToken:()=>J.Lhs[0].GetFirstToken(),GetLastToken:()=>J.Rhs[J.Rhs.length-1].GetLastToken()}),J}}}function pt(F,I){let B=d(),e=o(F,I),y=T("Keyword","then"),K=t(F,I),D=[];for(;g().Source=="elseif"||g().Source=="else";){let fe=d(),me,ge;fe.Source=="elseif"&&(me=o(F,I),ge=T("Keyword","then"));let Ge=t(F,I);if(D.push({Condition:me,Body:Ge,ClauseType:fe.Source,Token:fe,Token_Then:ge}),fe.Source=="else")break}let $=T("Keyword","end"),J;return J=E({Type:"IfStat",Condition:e,Body:K,ElseClauseList:D,Token_If:B,Token_Then:y,Token_End:$,GetFirstToken:()=>J.Token_If,GetLastToken:()=>J.Token_End}),J}function Ke(F,I){let B=d(),[e,y]=te("end",F,I),K;return K=E({Type:"DoStat",Body:e,Token_Do:B,Token_End:y,GetFirstToken:()=>K.Token_Do,GetLastToken:()=>K.Token_End}),K}function Ue(F,I){let B=d(),e=o(F,I),y=T("Keyword","do"),[K,D]=te("end",F,I),$;return $=E({Type:"WhileStat",Condition:e,Body:K,Token_While:B,Token_Do:y,Token_End:D,GetFirstToken:()=>$.Token_While,GetLastToken:()=>$.Token_End}),$}function je(F,I){let B=d(),[e,y]=X();if(g().Source=="="){let K=d(),[D,$]=r(F,I);if(D.length<2||D.length>3)throw"Expected 2 or 3 values for range bounds";let J=T("Keyword","do"),[fe,me]=te("end",F,I),ge;return ge=E({Type:"NumericForStat",VarList:e,RangeList:D,Body:fe,Token_For:B,Token_VarCommaList:y,Token_Equals:K,Token_RangeCommaList:$,Token_Do:J,Token_End:me,GetFirstToken:()=>ge.Token_For,GetLastToken:()=>ge.Token_End}),ge}else if(g().Source=="in"){let K=d(),[D,$]=r(F,I),J=T("Keyword","do"),[fe,me]=te("end",F,I),ge;return ge=E({Type:"GenericForStat",VarList:e,GeneratorList:D,Body:fe,Token_For:B,Token_VarCommaList:y,Token_In:K,Token_GeneratorCommaList:$,Token_Do:J,Token_End:me,GetFirstToken:()=>ge.Token_For,GetLastToken:()=>ge.Token_End}),ge}}function $e(F,I){let B=d(),[e,y]=te("until",F),K=o(F,I),D;return D=E({Type:"RepeatStat",Body:e,Condition:K,Token_Repeat:B,Token_Until:y,GetFirstToken:()=>D.Token_Repeat,GetLastToken:()=>D.Condition.GetLastToken()}),D}function He(F,I){let B=d();if(g().Source=="function"){let e=he(!1,F,I);if(e.NameChain.length>1)throw _(e.Token_NameChainSeperator[0])+": `(` expected.";let y;return y=E({Type:"LocalFunctionStat",FunctionStat:e,Token_Local:B,GetFirstToken:()=>y.Token_Local,GetLastToken:()=>y.FunctionStat.GetLastToken()}),y}else if(g().Type=="Ident"){let[e,y]=X(!1,!0),K=[],D=[],$;if(g().Source=="="){$=d();let[fe,me]=r(F,I);K=fe,D=me}let J;return J=E({Type:"LocalVarStat",VarList:e,ExprList:K,Token_Local:B,Token_Equals:$,Token_VarCommaList:y,Token_ExprCommaList:D,GetFirstToken:()=>J.Token_Local,GetLastToken:function(){return J.ExprList.length>0?J.ExprList[J.ExprList.length-1].GetLastToken():J.VarList[J.VarList.length-1]}}),J}else throw"`function` or ident expected"}function Q(F,I){let B=d(),e,y;L()||g().Source==";"?(e=[],y=[]):[e,y]=r(F,I);let K;return K={Type:"ReturnStat",ExprList:e,Token_Return:B,Token_CommaList:y,GetFirstToken:()=>K.Token_Return,GetLastToken:function(){return K.ExprList.length>0?K.ExprList[K.ExprList.length-1].GetLastToken():K.Token_Return}},K}function ft(F,I){let B=d(),e;return e={Type:"BreakStat",Token_Break:B,GetFirstToken:()=>e.Token_Break,GetLastToken:()=>e.Token_Break},e}function _t(F,I){let B=d(),e;return e={Type:"ContinueStat",Token_Continue:B,GetFirstToken:()=>e.Token_Continue,GetLastToken:()=>e.Token_Continue},e}function Je(){let F=d(),I;g().Type=="Keyword"?I=T("Keyword"):I=T("Ident");let B;return B={Type:"GotoStat",Token_Goto:F,Token_Label:I,GetFirstToken:()=>B.Token_Goto,GetLastToken:()=>B.Token_Label},B}function Ze(){let F=d(),I;g().Type=="Keyword"?I=T("Keyword"):I=T("Ident");let B=T("Symbol","::"),e;return e={Type:"LabelStat",Token_ColonsLeft:F,Token_Label:I,Token_ColonsRight:B,GetFirstToken:()=>e.Token_ColonsLeft,GetLastToken:()=>e.Token_ColonsRight},e}function it(F,I){let B=g();return B.Source=="if"?[!1,pt(F,I)]:B.Source=="while"?[!1,Ue(F,I)]:B.Source=="do"?[!1,Ke(F,I)]:B.Source=="for"?[!1,je(F,I)]:B.Source=="repeat"?[!1,$e(F,I)]:B.Source=="function"?[!1,he(!1,F,I)]:B.Source=="local"?[!1,He(F,I)]:B.Source=="return"?[!0,Q(F,I)]:B.Source=="break"?[!0,ft()]:B.Source=="continue"?[!0,_t()]:B.Source=="goto"?[!1,Je()]:B.Source=="::"?[!1,Ze()]:[!1,re(F,I)]}return t=function(F,I){let B=[],e=[],y={},K={};if(I!=null)for(let[fe,me]of Object.entries(I))K[fe]=me;if(F!=null)for(let[fe,me]of Object.entries(F))K[fe]=me;let D,$=0;for(;!L();){D&&D==g()&&ce(`INFINITE LOOP POSSIBLE ON STATEMENT ${D.Source} :`,D),D=g();let[fe,me]=it(y,K);if(me)switch(B.push(me),me.Type){case"LocalVarStat":me.VarList.forEach(se=>{se.UseCount=0,se.Number=$++,y[se.Source]=se;let Pe=[];function rt(){se.UseCount++,Pe.forEach(Se=>{Se.UseCount=se.UseCount})}se.Tokens={},se.Tokens.push=Se=>{Se.UseCountIncrease=rt,Se.UseCount=se.UseCount,Se.Tokens=se.Tokens,Pe.push(Se)},se.Tokens.get=()=>Pe,se.UseCountIncrease=rt});break;case"LocalFunctionStat":let Ge=me.FunctionStat.NameChain;if(Ge.length===1){let rt=function(){se.UseCount++,Pe.forEach(Se=>{Se.UseCount=se.UseCount})},se=Ge[0];se.UseCount=0,se.Number=$++,y[se.Source]=se;let Pe=[];se.Tokens={},se.Tokens.push=Se=>{Se.UseCountIncrease=rt,Se.UseCount=se.UseCount,Se.Tokens=se.Tokens,Pe.push(Se)},se.Tokens.get=()=>Pe,se.UseCountIncrease=rt}break}let ge=g();ge.Type=="Symbol"&&ge.Source==";"&&(e[B.length-1]=d())}let J;return J={Type:"StatList",StatementList:B,SemicolonList:e,GetFirstToken:function(){var fe;if(J.StatementList.length!=0)return(fe=J.StatementList[0])==null?void 0:fe.GetFirstToken()},GetLastToken:function(){if(J.StatementList.length!=0)return J.SemicolonList[J.StatementList.length-1]?J.SemicolonList[J.StatementList.length-1]:J.StatementList[J.StatementList.length-1].GetLastToken()}},J},t([],[])}function qe(j,w){let m={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},d={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[g,_]of Object.entries(w))if(!d[g]&&!m[g])throw`Invalid visitor target: \`${g}\``;function l(T){if(T!=null){let E=w[T.Type];if(typeof E=="function")return E(T);if(E&&E.Pre)return E.Pre(T)}}function L(T){let E=w[T.Type];if(E&&typeof E=="object"&&E.Post)return E.Post(T)}let v,f;v=function(T){if(!l(T)){if(T.Type=="BinopExpr")v(T.Lhs),v(T.Rhs);else if(T.Type=="UnopExpr")v(T.Rhs);else if(!(T.Type=="NumberLiteral"||T.Type=="StringLiteral"||T.Type=="NilLiteral"||T.Type=="BooleanLiteral"||T.Type=="VargLiteral"||T.Type=="HashLiteral")){if(T.Type=="FieldExpr")v(T.Base);else if(T.Type=="IndexExpr")v(T.Base),v(T.Index);else if(T.Type=="MethodExpr"||T.Type=="CallExpr")v(T.Base),T.FunctionArguments.CallType=="ArgCall"?T.FunctionArguments.ArgList.forEach((E,t)=>{v(E)}):T.FunctionArguments.CallType=="TableCall"&&v(T.FunctionArguments.TableExpr);else if(T.Type=="FunctionLiteral")f(T.Body);else if(T.Type!="VariableExpr")if(T.Type=="ParenExpr")v(T.Expression);else if(T.Type=="TableLiteral")T.EntryList.forEach((E,t)=>{if(E.EntryType=="Field")v(E.Value);else if(E.EntryType=="Index")v(E.Index),v(E.Value);else if(E.EntryType=="Value")v(E.Value);else throw"unreachable"});else if(T.Type=="CompoundStat")v(T.Lhs),v(T.Rhs);else throw`unreachable, type: ${T.Type}: ${T}`}L(T)}},f=function(T){if(!l(T)){if(T.Type=="StatList")T.StatementList.forEach((E,t)=>{if(E!=null){if(E===null||E.Type===null)return;E.Remove=()=>{T.StatementList[t]=null},f(E)}});else if(T.Type!="BreakStat"){if(T.Type!="ContinueStat"){if(T.Type!="GotoStat"){if(T.Type!="LabelStat")if(T.Type=="ReturnStat")T.ExprList.forEach((E,t)=>{v(E)});else if(T.Type=="LocalVarStat")T.Token_Equals&&T.ExprList.forEach((E,t)=>{v(E)});else if(T.Type=="LocalFunctionStat")f(T.FunctionStat.Body);else if(T.Type=="FunctionStat")f(T.Body);else if(T.Type=="RepeatStat")f(T.Body),v(T.Condition);else if(T.Type=="GenericForStat")T.GeneratorList.forEach((E,t)=>{v(E)}),f(T.Body);else if(T.Type=="NumericForStat")T.RangeList.forEach((E,t)=>{v(E)}),f(T.Body);else if(T.Type=="WhileStat")v(T.Condition),f(T.Body);else if(T.Type=="DoStat")f(T.Body);else if(T.Type=="IfStat")v(T.Condition),f(T.Body),T.ElseClauseList.forEach(E=>{E.Condition!=null&&v(E.Condition),f(E.Body)});else if(T.Type=="CallExprStat")v(T.Expression);else if(T.Type=="CompoundStat")v(T.Lhs),v(T.Rhs);else if(T.Type=="AssignmentStat")T.Lhs.forEach(E=>{v(E)}),T.Rhs.forEach(E=>{v(E)});else throw"unreachable"}}}L(T)}},d[j.Type]?f(j):v(j)}function we(j){let w=[],m,d=0;function g(){return d++,d}function _(){m={ParentScope:m,ChildScopeList:[],VariableList:[],BeginLocation:g(),Depth:null,GetVar:null},m.ParentScope?(m.Depth=m.ParentScope.Depth+1,m.ParentScope.ChildScopeList.push(m)):m.Depth=1;let o=m;m.GetVar=function(r){for(const u of o.VariableList)if(u.Name==r)return u;if(o.ParentScope)return o.ParentScope.GetVar(r);for(const u of w)if(u.Name==r)return u}}function l(){let o=m;return o.EndLocation=g(),o.VariableList.forEach(r=>{r.ScopeEndLocation=o.EndLocation}),m=o.ParentScope,o}_();function L(o,r,u){b(u,"MIssing localInfo"),b(o,"Missing local var name");let R={Type:"Local",Name:o,RenameList:[r],AssignedTo:!1,Info:u,Scope:m,BeginLocation:g(),EndLocation:g(),ReferenceLocationList:[g()]};return R.Rename=function(X){R.Name=X,R.RenameList.forEach(te=>{te(X)})},m.VariableList.push(R),R}function v(o){for(const u of w)if(u.Name==o)return u;let r={Type:"Global",Name:o,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:g(),EndLocation:g(),ReferenceLocationList:[]};return r.Rename=function(u){r.Name=u,r.RenameList.forEach(R=>{R(u)})},w.push(r),r}function f(o,r){b(o,"Missing var name");let u=v(o);return u.RenameList.push(r),u}function T(o,r){let u;for(u=o.VariableList.length-1;u>=0;u--)if(o.VariableList[u].Name==r)return o.VariableList[u];if(o.ParentScope){let R=T(o.ParentScope,r);if(R)return R}}function E(o,r){b(o,"Missing var name");let u=T(m,o);u?u.RenameList.push(r):u=f(o,r);let R=g();return u.EndLocation=R,u.ReferenceLocationList.push(u.EndLocation),u}let t={};return t.FunctionLiteral={Pre:function(o){_(),o.ArgList.forEach((r,u)=>{let R=L(r.Source,function(X,te){te||(r.Source=X)},{Type:"Argument",Index:u});r.var=R})},Post:function(o){l()}},t.VariableExpr=function(o){o.Variable=E(o.Token.Source,function(r){o.Token.Source=r})},t.StatList={Pre:function(o){_()},Post:function(o){o.SkipPop||l()}},t.LocalVarStat={Post:function(o){o.VarList.forEach((r,u)=>{L(r.Source,function(R){o.VarList[u].Source=R},{Type:"Local"})})}},t.LocalFunctionStat={Pre:function(o){L(o.FunctionStat.NameChain[0].Source,function(r){o.FunctionStat.NameChain[0].Source=r},{Type:"LocalFunction"}),_(),o.FunctionStat.ArgList.forEach((r,u)=>{L(r.Source,function(R){r.Source=R},{Type:"Argument",Index:u})})},Post:function(){l()}},t.FunctionStat={Pre:function(o){let r=o.NameChain,u;r.length==1?T(m,r[0].Source)?u=E(r[0].Source,function(R){r[0].Source=R}):u=f(r[0].Source,function(R){r[0].Source=R}):u=E(r[0].Source,function(R){r[0].Source=R}),u.AssignedTo=!0,_(),o.ArgList.forEach((R,X)=>{L(R.Source,function(te){R.Source=te},{Type:"Argument",Index:X})})},Post:function(){l()}},t.GenericForStat={Pre:function(o){return o.GeneratorList.forEach(r=>{qe(r,t)}),_(),o.VarList.forEach((r,u)=>{L(r.Source,function(R){r.Source=R},{Type:"ForRange",Index:u})}),qe(o.Body,t),l(),!0}},t.NumericForStat={Pre:function(o){return o.RangeList.forEach(r=>{qe(r,t)}),_(),o.VarList.forEach((r,u)=>{L(r.Source,function(R){r.Source=R},{Type:"ForRange",Index:u})}),qe(o.Body,t),l(),!0}},t.RepeatStat={Pre:function(o){o.Body.SkipPop=!0},Post:function(o){l()}},t.AssignmentStat={Post:function(o){o.Lhs.forEach(r=>{r.Variable!=null&&(r.Variable.AssignedTo=!0)})}},qe(j,t),[w,l()]}function gt(j){let w,m,d="",g=l=>typeof(l==null?void 0:l.LeadingWhite)!="string"?" ":l.LeadingWhite;function _(l){if(l.LeadingWhite==null||l.Source==null)throw`Bad token: tk=${l} | lwhite=${l.LeadingWhite} | source=${l.Source}`;d=`${d}${l.LeadingWhite}${l.Source}`}return m=function(l){if(l.Type=="BinopExpr")m(l.Lhs),_(l.Token_Op),m(l.Rhs);else if(l.Type=="UnopExpr")_(l.Token_Op),m(l.Rhs);else if(l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="VargLiteral"||l.Type=="HashLiteral")_(l.Token);else if(l.Type=="FieldExpr")m(l.Base),_(l.Token_Dot),_(l.Field);else if(l.Type=="IndexExpr")m(l.Base),_(l.Token_OpenBracket),m(l.Index),_(l.Token_CloseBracket);else if(l.Type=="MethodExpr"||l.Type=="CallExpr")m(l.Base),l.Type=="MethodExpr"&&(_(l.Token_Colon),_(l.Method)),l.FunctionArguments.CallType=="StringCall"?_(l.FunctionArguments.Token):l.FunctionArguments.CallType=="ArgCall"?(_(l.FunctionArguments.Token_OpenParen),l.FunctionArguments.ArgList.forEach((L,v)=>{m(L);let f=l.FunctionArguments.Token_CommaList[v];f!=null&&_(f)}),_(l.FunctionArguments.Token_CloseParen)):l.FunctionArguments.CallType=="TableCall"&&m(l.FunctionArguments.TableExpr);else if(l.Type=="FunctionLiteral")_(l.Token_Function),_(l.Token_OpenParen),l.ArgList.forEach((L,v)=>{_(L);let f=l.Token_ArgCommaList[v];f!=null&&_(f)}),l.Token_Varg!=null&&_(l.Token_Varg),_(l.Token_CloseParen),w(l.Body),_(l.Token_End);else if(l.Type=="VariableExpr")_(l.Token);else if(l.Type=="ParenExpr")_(l.Token_OpenParen),m(l.Expression),_(l.Token_CloseParen);else if(l.Type=="TableLiteral")_(l.Token_OpenBrace),l.EntryList.forEach((L,v)=>{if(L.EntryType=="Field")_(L.Field),_(L.Token_Equals),m(L.Value);else if(L.EntryType=="Index")_(L.Token_OpenBracket),m(L.Index),_(L.Token_CloseBracket),_(L.Token_Equals),m(L.Value);else if(L.EntryType=="Value")m(L.Value);else throw"unreachable";let f=l.Token_SeperatorList[v];f!=null&&_(f)}),_(l.Token_CloseBrace);else if(l.Type=="CompoundStat")w(l);else throw`unreachable, type: ${l.Type}: ${l}`},w=function(l){if(l==null)throw`STAT IS NIL! ${l}`;if(!(l.Type==="StatList"&&l.StatementList.length===0)){if(l.WrapInDo){let L=g(l.GetFirstToken());l.GetFirstToken().LeadingWhite="",d+=`${L}do `}l.Type=="StatList"?l.StatementList.forEach((L,v)=>{L===null||L.Type===null||(L.Remove=()=>{l.StatementList[v]=null},w(L),l.SemicolonList[v]&&_(l.SemicolonList[v]))}):l.Type=="BreakStat"?_(l.Token_Break):l.Type=="ContinueStat"?_(l.Token_Continue):l.Type=="GotoStat"?(_(l.Token_Goto),_(l.Token_Label)):l.Type=="LabelStat"?(_(l.Token_ColonsLeft),_(l.Token_Label),_(l.Token_ColonsRight)):l.Type=="ReturnStat"?(_(l.Token_Return),l.ExprList.forEach((L,v)=>{m(L),l.Token_CommaList[v]&&_(l.Token_CommaList[v])})):l.Type=="LocalVarStat"?(_(l.Token_Local),l.VarList.forEach((L,v)=>{_(L),L.Attribute!=null&&_(L.Attribute);let f=l.Token_VarCommaList[v];f!=null&&_(f)}),l.Token_Equals!=null&&(_(l.Token_Equals),l.ExprList.forEach((L,v)=>{m(L);let f=l.Token_ExprCommaList[v];f!=null&&_(f)}))):l.Type=="LocalFunctionStat"?(_(l.Token_Local),_(l.FunctionStat.Token_Function),_(l.FunctionStat.NameChain[0]),_(l.FunctionStat.Token_OpenParen),l.FunctionStat.ArgList.forEach((L,v)=>{_(L);let f=l.FunctionStat.Token_ArgCommaList[v];f!=null&&_(f)}),l.FunctionStat.Token_Varg&&_(l.FunctionStat.Token_Varg),_(l.FunctionStat.Token_CloseParen),w(l.FunctionStat.Body),_(l.FunctionStat.Token_End)):l.Type=="FunctionStat"?(_(l.Token_Function),l.NameChain.forEach((L,v)=>{_(L);let f=l.Token_NameChainSeperator[v];f!=null&&_(f)}),_(l.Token_OpenParen),l.ArgList.forEach((L,v)=>{_(L);let f=l.Token_ArgCommaList[v];f!=null&&_(f)}),l.Token_Varg&&_(l.Token_Varg),_(l.Token_CloseParen),w(l.Body),_(l.Token_End)):l.Type=="RepeatStat"?(_(l.Token_Repeat),w(l.Body),_(l.Token_Until),m(l.Condition)):l.Type=="GenericForStat"?(_(l.Token_For),l.VarList.forEach((L,v)=>{_(L);let f=l.Token_VarCommaList[v];f!=null&&_(f)}),_(l.Token_In),l.GeneratorList.forEach((L,v)=>{m(L);let f=l.Token_GeneratorCommaList[v];f!=null&&_(f)}),_(l.Token_Do),w(l.Body),_(l.Token_End)):l.Type=="NumericForStat"?(_(l.Token_For),l.VarList.forEach((L,v)=>{_(L);let f=l.Token_VarCommaList[v];f!=null&&_(f)}),_(l.Token_Equals),l.RangeList.forEach((L,v)=>{m(L);let f=l.Token_RangeCommaList[v];f!=null&&_(f)}),_(l.Token_Do),w(l.Body),_(l.Token_End)):l.Type=="WhileStat"?(_(l.Token_While),m(l.Condition),_(l.Token_Do),w(l.Body),_(l.Token_End)):l.Type=="DoStat"?(_(l.Token_Do),w(l.Body),_(l.Token_End)):l.Type=="IfStat"?(_(l.Token_If),m(l.Condition),_(l.Token_Then),w(l.Body),l.ElseClauseList.forEach(L=>{_(L.Token),L.Condition!=null&&(m(L.Condition),_(L.Token_Then)),w(L.Body)}),_(l.Token_End)):l.Type=="CallExprStat"?m(l.Expression):l.Type=="CompoundStat"?(m(l.Lhs),_(l.Token_Compound),m(l.Rhs),l.Type="CompoundStat"):l.Type=="AssignmentStat"?(l.Lhs.forEach((L,v)=>{m(L);let f=l.Token_LhsSeperatorList[v];f!=null&&_(f)}),_(l.Token_Equals),l.Rhs.forEach((L,v)=>{m(L);let f=l.Token_RhsSeperatorList[v];f!=null&&_(f)})):b(!1,"unreachable"),l.WrapInDo&&(d+=" end ")}},w(j),d}function Be(j){let w,m,d=0;function g(t){if(t===void 0)return;let o=`
${"	".repeat(d)}`;if(t.LeadingWhite==""||t.LeadingWhite.substr(-o.length,o.length)!=o){let r="",u;for(u=t.LeadingWhite.length;u>=0;u--){let R=t.LeadingWhite.substr(u,1);if(!(R==""||R.match(/\s/g))){r=t.LeadingWhite.substr(0,u+1);break}}t.LeadingWhite=`${r}${o}`}}function _(){d++}function l(){d--,b(d>=0,"Undented too far")}function L(t){return t.LeadingWhite.length>0?t.LeadingWhite.substr(0,1):t.Source.toString().substr(0,1)}function v(t){t.LeadingWhite=t.LeadingWhite.trim()}function f(t){v(t),Ve.includes(L(t))||(t.LeadingWhite=" "+t.LeadingWhite)}function T(t){f(t.GetFirstToken())}function E(t,o,r){_(),w(o),l(),g(r)}m=function(t){if(t.Type=="BinopExpr")m(t.Lhs),m(t.Rhs),T(t.Rhs),f(t.Token_Op);else if(t.Type=="UnopExpr")v(t.Token_Op),m(t.Rhs),t.Token_Op.Source[0]&&f(t.Rhs.GetFirstToken());else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")v(t.Token),t.Type=="HashLiteral"&&(t.Token.Source='"'+p(`${t.Token.Source.substring(1,t.Token.Source.length-1)}`)+'"',t.Type="StringLiteral",t.Token.Type="String");else if(t.Type=="FieldExpr")m(t.Base);else if(t.Type=="IndexExpr")m(t.Base),m(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr")m(t.Base),v(t.FunctionArguments.GetFirstToken()),v(t.FunctionArguments.GetLastToken()),t.Type=="MethodExpr",t.FunctionArguments.CallType=="StringCall"||(t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((o,r)=>{m(o),r>0&&T(o);let u=t.FunctionArguments.Token_CommaList[r];u!=null&&v(u)}):t.FunctionArguments.CallType=="TableCall"&&m(t.FunctionArguments.TableExpr));else if(t.Type=="FunctionLiteral")t.ArgList.forEach((o,r)=>{r>0&&f(o),t.Token_ArgCommaList[r]}),t.ArgList.length>0&&t.Token_Varg!=null&&f(t.Token_Varg),E(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr")v(t.Token_OpenParen),v(t.Token_CloseParen),m(t.Expression);else if(t.Type=="TableLiteral"){if(t.EntryList.length!=0){_();let o=100;t.EntryList.forEach((r,u)=>{r.EntryType=="Field"?(t.EntryList.length>o?ot(r.Value):g(r.Field),f(r.Token_Equals),m(r.Value),T(r.Value)):r.EntryType=="Index"?(t.EntryList.length>o?v(r.Token_OpenBracket):g(r.Token_OpenBracket),m(r.Index),f(r.Token_Equals),m(r.Value),T(r.Value)):r.EntryType=="Value"?(m(r.Value),t.EntryList.length>o?ot(r.Value):g(r.Value.GetFirstToken())):b(!1,"unreachable");let R=t.Token_SeperatorList[u];R!=null&&(t.EntryList.length>o?R.LeadingWhite="":v(R))}),l(),t.EntryList.length>o?t.Token_CloseBrace.LeadingWhite="":g(t.Token_CloseBrace)}}else if(t.Type=="CompoundStat")w(t);else throw ce(t),`unreachable, type: ${t.Type}:`+t},w=function(t){if(t.Type=="StatList")t.StatementList.forEach((o,r)=>{o===null||o.Type===null||o.Type==="StatList"&&o.StatementList.length===0||(o.Remove=()=>{o.StatementList[r]=null},w(o),g(o.GetFirstToken()))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat"){if(t.Type!="GotoStat"){if(t.Type!="LabelStat")if(t.Type=="ReturnStat")t.ExprList.forEach((o,r)=>{m(o),T(o),t.Token_CommaList[r]});else if(t.Type=="LocalVarStat"){if(t.VarList.forEach((o,r)=>{f(o),o.Attribute&&(o.Attribute.LeadingWhite=" "),t.Token_VarCommaList[r]}),t.Token_Equals){v(t.Token_Equals),f(t.Token_Equals);let o=[],r=[];t.ExprList.forEach((u,R)=>{u!=null&&(R<t.VarList.length||u.Type=="CallExpr"||u.Type=="ParenExpr"||u.Type=="VargLiteral"||u.Type=="BinopExpr"||u.Type=="UnopExpr")&&(o.push(u),r.push(t.Token_ExprCommaList[R]))}),t.ExprList=o,t.CommaList=r,t.ExprList.forEach((u,R)=>{u!=null&&(m(u),T(u),t.Token_ExprCommaList[R]!=null&&t.ExprList.length-1==R&&(t.Token_ExprCommaList[R]=null))})}}else if(t.Type=="LocalFunctionStat")f(t.FunctionStat.Token_Function),f(t.FunctionStat.NameChain[0]),t.FunctionStat.ArgList.forEach((o,r)=>{r>0?f(o):v(o);let u=t.FunctionStat.Token_ArgCommaList[r];u&&v(u)}),t.FunctionStat.ArgList.length>0&&t.FunctionStat.Token_Varg?(v(t.FunctionStat.Token_Varg),f(t.FunctionStat.Token_Varg)):t.FunctionStat.Token_Varg&&v(t.FunctionStat.Token_Varg),v(t.FunctionStat.Token_OpenParen),v(t.FunctionStat.Token_CloseParen),E(t.FunctionStat.Token_CloseParen,t.FunctionStat.Body,t.FunctionStat.Token_End);else if(t.Type=="FunctionStat")t.NameChain.forEach((o,r)=>{r==0&&f(o),t.Token_NameChainSeperator[r]}),t.ArgList.forEach((o,r)=>{r>0&&f(o),t.Token_ArgCommaList[r]}),t.ArgList.length>0&&t.Token_Varg&&f(t.Token_Varg),E(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type=="RepeatStat")E(t.Token_Repeat,t.Body,t.Token_Until),m(t.Condition),T(t.Condition);else if(t.Type=="GenericForStat")t.VarList.forEach((o,r)=>{f(o),t.Token_VarCommaList[r]}),f(t.Token_In),t.GeneratorList.forEach((o,r)=>{m(o),T(o),t.Token_GeneratorCommaList[r]}),f(t.Token_Do),E(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="NumericForStat")t.VarList.forEach((o,r)=>{f(o),t.Token_VarCommaList[r]}),f(t.Token_Equals),t.RangeList.forEach((o,r)=>{m(o),T(o),t.Token_RangeCommaList[r]}),f(t.Token_Do),E(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="WhileStat")m(t.Condition),T(t.Condition),f(t.Token_Do),E(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="DoStat")E(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="IfStat"){m(t.Condition),T(t.Condition),f(t.Token_Then);let o=t.Token_Then,r=t.Body;t.ElseClauseList.forEach(u=>{E(o,r,u.Token),o=u.Token,u.Condition!=null&&(m(u.Condition),T(u.Condition),f(u.Token_Then),o=u.Token_Then),r=u.Body}),E(o,r,t.Token_End)}else t.Type=="CallExprStat"?m(t.Expression):t.Type=="CompoundStat"?(m(t.Lhs),m(t.Rhs),T(t.Lhs),T(t.Rhs),f(t.Token_Compound)):t.Type=="AssignmentStat"?(t.Lhs.forEach((o,r)=>{m(o),r>0&&T(o),t.Token_LhsSeperatorList[r]}),f(t.Token_Equals),t.Rhs.forEach((o,r)=>{m(o),T(o),t.Token_RhsSeperatorList[r]})):b(!1,"Unreachable")}}}},w(j)}function ot(j){let w,m;function d(l){l&&(l.LeadingWhite="")}function g(l,L,v=!1){d(L);let f=(typeof l.Source=="string"?l.Source:l.Source.toString()).substr(l.Source.length-1,1),T=(typeof L.Source=="string"?L.Source:L.Source.toString()).substr(0,1);f=="-"&&T=="-"||Ye.includes(f)&&Ye.includes(T)||v&&f==")"&&T=="("?L.LeadingWhite=v?";":" ":L.LeadingWhite=""}function _(l,L,v){w(L),d(v);let f=L.GetFirstToken(),T=L.GetLastToken();f!=null?(g(l,f),g(T,v)):g(l,v)}m=function(l){if(l.Type==="BinopExpr")m(l.Lhs),m(l.Rhs),l.Lhs.Type=="NumberLiteral"&&l.Token_Op.Source==".."?l.Token_Op.LeadingWhite=" ":(d(l.Token_Op),g(l.Lhs.GetLastToken(),l.Token_Op)),g(l.Token_Op,l.Rhs.GetFirstToken());else if(l.Type==="UnopExpr")d(l.Token_Op),m(l.Rhs),g(l.Token_Op,l.Rhs.GetFirstToken());else if(l.Type==="NumberLiteral"||l.Type==="StringLiteral"||l.Type==="NilLiteral"||l.Type==="BooleanLiteral"||l.Type==="VargLiteral"||l.Type==="HashLiteral")d(l.Token);else if(l.Type=="FieldExpr")m(l.Base),d(l.Token_Dot),d(l.Field);else if(l.Type=="IndexExpr")m(l.Base),d(l.Token_OpenBracket),m(l.Index),d(l.Token_CloseBracket);else if(l.Type=="MethodExpr"||l.Type=="CallExpr")m(l.Base),l.Type=="MethodExpr"&&(d(l.Token_Colon),d(l.Method)),l.FunctionArguments.CallType=="StringCall"?d(l.FunctionArguments.Token):l.FunctionArguments.CallType=="ArgCall"?(d(l.FunctionArguments.Token_OpenParen),l.FunctionArguments.ArgList.forEach((L,v)=>{m(L);let f=l.FunctionArguments.Token_CommaList[v];f!=null&&d(f)}),d(l.FunctionArguments.Token_CloseParen)):l.FunctionArguments.CallType=="TableCall"&&m(l.FunctionArguments.TableExpr);else if(l.Type=="FunctionLiteral")d(l.Token_Function),d(l.Token_OpenParen),l.ArgList.forEach((L,v)=>{d(L);let f=l.Token_ArgCommaList[v];f!=null&&d(f)}),l.Token_Varg!=null&&d(l.Token_Varg),d(l.Token_CloseParen),_(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type=="VariableExpr")d(l.Token);else if(l.Type=="ParenExpr")d(l.Token_OpenParen),m(l.Expression),d(l.Token_CloseParen);else if(l.Type=="TableLiteral")d(l.Token_OpenBrace),l.EntryList.forEach((L,v)=>{L.EntryType=="Field"?(d(L.Field),d(L.Token_Equals),m(L.Value)):L.EntryType=="Index"?(d(L.Token_OpenBracket),m(L.Index),d(L.Token_CloseBracket),d(L.Token_Equals),m(L.Value)):L.EntryType=="Value"?m(L.Value):b(!1,"unreachable");let f=l.Token_SeperatorList[v];f!=null&&d(f)}),l.Token_SeperatorList[l.EntryList.length-1]=null,d(l.Token_CloseBrace);else throw`unreachable, type: ${l.Type}:${l}  undefined`},w=function(l){if(l.Type=="StatList"){let L;for(L=0;L<=l.StatementList.length;L++){let v=l.StatementList[L];if(v==null)continue;w(v),d(v.GetFirstToken());let f=l.StatementList[L-1];if(f!=null){let T={")":["(","["],"]":["(","["]};if(l.SemicolonList[L-1]){let E=f.GetLastToken().Source,t=v.GetFirstToken().Source;(T[E]===null||T[E]===void 0||!T[E].includes(t))&&(l.SemicolonList[L-1]=null)}l.SemicolonList[L-1]||g(f.GetLastToken(),v.GetFirstToken(),!0)}}l.SemicolonList[l.StatementList.length-1]=null,l.StatementList.length>0&&d(l.StatementList[0].GetFirstToken())}else if(l.Type=="BreakStat")d(l.Token_Break);else if(l.Type=="ContinueStat")d(l.Token_Continue);else if(l.Type=="GotoStat")d(l.Token_Goto),g(l.Token_Goto,l.Token_Label);else if(l.Type=="LabelStat")d(l.Token_ColonsLeft),d(l.Token_Label),d(l.Token_ColonsRight);else if(l.Type=="ReturnStat")d(l.Token_Return),l.ExprList.forEach((L,v)=>{m(L),l.Token_CommaList[v]!=null&&d(l.Token_CommaList[v])}),l.ExprList.length>0&&g(l.Token_Return,l.ExprList[0].GetFirstToken());else if(l.Type=="LocalVarStat"){d(l.Token_Local);let L=!1;l.VarList.forEach((v,f)=>{f==0?g(l.Token_Local,v):d(v),v.Attribute&&(d(v.Attribute),f+1==l.VarList.length&&(L=!0));let T=l.Token_VarCommaList[f];T!=null&&d(T)}),l.Token_Equals!=null&&(L||d(l.Token_Equals),l.ExprList.forEach((v,f)=>{m(v);let T=l.Token_ExprCommaList[f];T!=null&&d(T)}))}else if(l.Type=="LocalFunctionStat")d(l.Token_Local),g(l.Token_Local,l.FunctionStat.Token_Function),g(l.FunctionStat.Token_Function,l.FunctionStat.NameChain[0]),g(l.FunctionStat.NameChain[0],l.FunctionStat.Token_OpenParen),l.FunctionStat.ArgList.forEach((L,v)=>{d(L);let f=l.FunctionStat.Token_ArgCommaList[v];f!=null&&d(f)}),l.FunctionStat.Token_Varg&&d(l.FunctionStat.Token_Varg),d(l.FunctionStat.Token_CloseParen),_(l.FunctionStat.Token_CloseParen,l.FunctionStat.Body,l.FunctionStat.Token_End);else if(l.Type=="FunctionStat")d(l.Token_Function),l.NameChain.forEach((L,v)=>{v==0?g(l.Token_Function,L):d(L);let f=l.Token_NameChainSeperator[v];f!=null&&d(f)}),d(l.Token_OpenParen),l.ArgList.forEach((L,v)=>{d(L);let f=l.Token_ArgCommaList[v];f!=null&&d(f)}),l.Token_Varg&&d(l.Token_Varg),d(l.Token_CloseParen),_(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type=="RepeatStat")d(l.Token_Repeat),_(l.Token_Repeat,l.Body,l.Token_Until),m(l.Condition),g(l.Token_Until,l.Condition.GetFirstToken());else if(l.Type=="GenericForStat")d(l.Token_For),l.VarList.forEach((L,v)=>{v==0?g(l.Token_For,L):d(L);let f=l.Token_VarCommaList[v];f!=null&&d(f)}),g(l.VarList[l.VarList.length-1],l.Token_In),l.GeneratorList.forEach((L,v)=>{m(L),v==0&&g(l.Token_In,L.GetFirstToken());let f=l.Token_GeneratorCommaList[v];f!=null&&d(f)}),g(l.GeneratorList[l.GeneratorList.length-1].GetLastToken(),l.Token_Do),_(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="NumericForStat")d(l.Token_For),l.VarList.forEach((L,v)=>{v==0?g(l.Token_For,L):d(L);let f=l.Token_VarCommaList[v];f!=null&&d(f)}),g(l.VarList[l.VarList.length-1],l.Token_Equals),l.RangeList.forEach((L,v)=>{m(L),v==0&&g(l.Token_Equals,L.GetFirstToken());let f=l.Token_RangeCommaList[v];f!=null&&d(f)}),g(l.RangeList[l.RangeList.length-1].GetLastToken(),l.Token_Do),_(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="WhileStat")d(l.Token_While),m(l.Condition),d(l.Token_Do),g(l.Token_While,l.Condition.GetFirstToken()),g(l.Condition.GetLastToken(),l.Token_Do),_(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="DoStat")d(l.Token_Do),d(l.Token_End),_(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="IfStat"){d(l.Token_If),m(l.Condition),g(l.Token_If,l.Condition.GetFirstToken()),g(l.Condition.GetLastToken(),l.Token_Then);let L=l.Token_Then,v=l.Body;l.ElseClauseList.forEach((f,T)=>{_(L,v,f.Token),L=f.Token,f.Condition!=null&&(m(f.Condition),g(f.Token,f.Condition.GetFirstToken()),g(f.Condition.GetLastToken(),f.Token_Then),L=f.Token_Then),w(f.Body),v=f.Body}),_(L,v,l.Token_End)}else if(l.Type=="CallExprStat")m(l.Expression);else if(l.Type=="CompoundStat")m(l.Lhs),d(l.Token_Compound),m(l.Rhs),g(l.Lhs.GetLastToken(),l.Token_Compound),g(l.Token_Compound,l.Rhs.GetFirstToken());else if(l.Type=="AssignmentStat")l.Lhs.forEach((L,v)=>{m(L);let f=l.Token_LhsSeperatorList[v];f!=null&&d(f)}),d(l.Token_Equals),l.Rhs.forEach((L,v)=>{m(L);let f=l.Token_RhsSeperatorList[v];f!=null&&d(f)});else return m(l)},w(j)}function dt(j){let w,m,d={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function g(t,o,r=null){let u;return u={Type:t,Token:{Type:r??"Number",LeadingWhite:"",Source:o},GetFirstToken:()=>u.Token,GetLastToken:()=>u.Token},u}function _(t,o,r){let u;return u={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Lhs:o,Rhs:r,GetFirstToken:()=>u.Lhs.GetFirstToken(),GetLastToken:()=>u.Rhs.GetLastToken()},u}function l(t,o){let r;return r={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:t},Rhs:o,GetFirstToken:()=>r.Token_Op,GetLastToken:()=>r.Rhs.GetLastToken()},r}function L(t,o){if(o!=null)for(var[r,u]of Object.entries(o))t[r]=u}function v(t){if(t==null||t.substr==null)return;let o=t.substr(0,1),r;if((o=='"'||o=="'")&&(r=t.substr(1,t.length-2)),o=="["){let X=0,te=1;for(;t.substr(te,1)=="=";)X++,te++;r=t.substr(2+X,t.length-4-X-2)}if(r==null)return"";let u="",R;for(R=0;R<=r.length;R++){let X=r.substr(R,1);X=="'"||X=='"'?u+=`\\${X}`:u+=X}return u}function f(t){if(typeof t=="object"&&t.Type=="ParenExpr")return L(t,t.Expression)}function T(t,o,r){let u=o,R=r;if(o&&o.Type=="ParenExpr"&&(u=o.Expression),r&&r.Type=="ParenExpr"&&(R=r.Expression),u==null||R==null||u.Type==null||R.Type==null||u.Type=="VariableExpr"||u.Type=="CallExpr"||u.Type=="BinopExpr"||R.Type=="CallExpr"||R.Type=="BinopExpr"||R.Type=="VariableExpr")return;let X=u.Token||u.Expression!=null&&u.Expression.Token||null,te=R.Token||R.Expression!=null&&R.Expression.Token||null,he=X!=null?X.Source:null,de=te!=null?te.Source:null,q,z;if(u.Type=="BooleanLiteral"&&(q=he=="true"),R.Type=="BooleanLiteral"&&(z=de=="true"),!(u.Type=="NumberLiteral"&&(q=N(he),q==null))&&!(R.Type=="NumberLiteral"&&(z=N(de),z==null))&&((u.Type=="StringLiteral"||u.Type=="HashLiteral")&&(q=he.toString()),(R.Type=="StringLiteral"||R.Type=="HashLiteral")&&(z=de.toString()),q!=null&&z!=null)){if(t=="==")return q==z;if(t=="~=")return q!=z;if(t=="and")return q&&z;if(t=="or")return q||z;if(t==".."&&u.Type=="StringLiteral"&&R.Type=="StringLiteral")return`"${v(he)+v(de)}"`;if(u.Type=="StringLiteral"&&(q=N(v(q))),R.Type=="StringLiteral"&&(z=N(v(z))),q==null||z==null)return;let Z;if(t=="+"&&(Z=q+z),t=="-"&&(Z=q-z),t=="*"&&(Z=q*z),t=="/"&&(Z=q/z),t=="^"&&(Z=q**z),t=="%"&&(Z=q%z),t==">"&&(Z=q>z),t=="<"&&(Z=q<z),t==">="&&(Z=q>=z),t=="<="&&(Z=q<=z),Z==!1||Z==!0||isFinite(Z)&&Z>-(10**6)&&Z<10**6)return Z}}function E(t,o){let r=o.Token||o.Expression||o.EntryList||o;if(r==null||r.Source==null&&o.Type!="TableLiteral"||o.Type=="VariableExpr"||o.Type=="CallExpr"||o.Type=="BinopExpr")return;let u=r.Source,R;if(o.Type=="TableLiteral"&&r!=null){let X=[],te=0,he=!1,de=!1,q=0;if(r.forEach((z,Z)=>{if(he)X.push(z);else if(z.EntryType=="Value"||z.EntryType=="Index")if((z.Index==null||z.Index.Type=="NumberLiteral")&&z.Value){if((z.Index!=null&&z.Index.Token!=null&&z.Index.Token.Source!==null?z.Index.Token.Source:q+1).toString()!==(++q).toString())return he=!0,de=!0,X.push(z);z.Value.Type!="CallExpr"?te++:(he=!0,X.push(z))}else X.push(z)}),de)return;if(t=="#")return o.EntryList=X,o.EntryList.length<=0?g("NumberLiteral",te!==null?te:o.EntryList.length):te<=0?l("#",o):_("+",g("NumberLiteral",te),l("#",o))}if(o.Type=="BooleanLiteral"&&(R=u=="true"),!(o.Type=="NumberLiteral"&&(R=N(u),R===null))){if(o.Type=="StringLiteral"&&(R=u.substr(1,u.length-2)),t=="not"&&o.Type!==null)return o.Type=="NilLiteral"||o.Type=="BooleanLiteral"&&R===!1;if(R!=null){if(t=="#")return R.length;if(t=="-")return-R}}}m=function(t){if(t.Type=="BinopExpr"){if(m(t.Lhs),m(t.Rhs),t.Lhs!=null&&t.Rhs!=null){let o=t.Token_Op;if(o!=null&&o.Source!=null){let r=T(o.Source,t.Lhs,t.Rhs);if(r!=null){if(typeof r=="boolean"){let u=g("BooleanLiteral",r.toString(),"Keyword");L(t,u);return}else if(typeof r=="number"){if(isFinite(r)==!0){let u=g("NumberLiteral",r.toString(),"Number");L(t,u);return}}else if(typeof r=="string"){let u=g("StringLiteral",r,"String");L(t,u);return}else if(typeof r=="object"){L(t,r);return}return}}if(t.Lhs.Type=="ParenExpr"){let u=t.Lhs.Expression;u.Type=="NumberLiteral"||u.Type=="StringLiteral"||u.Type=="NilLiteral"||u.Type=="BooleanLiteral"||u.Type=="HashLiteral"}if(t.Rhs.Type=="ParenExpr"){let u=t.Rhs.Expression;u.Type=="NumberLiteral"||u.Type=="StringLiteral"||u.Type=="NilLiteral"||u.Type=="BooleanLiteral"||u.Type=="HashLiteral"}}}else if(t.Type=="UnopExpr"){if(m(t.Rhs),t.Rhs!=null&&d[t.Rhs.Type]==!0){let o=t.Token_Op;if(o!=null&&o.Source!=null){let r=t.Rhs.Expression!=null?t.Rhs.Expression:t.Rhs,u=E(o.Source,r);if(u!=null){if(typeof u=="boolean"){let R=g("BooleanLiteral",u.toString(),"Keyword");L(t,R);return}else if(typeof u=="number"){if(isFinite(u)==!0){let R=g("NumberLiteral",u,"Number");L(t,R);return}}else if(typeof u=="string"){let R=g("StringLiteral",u,"String");L(t,R);return}else if(typeof u=="object"){L(t,u);return}return}}}}else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral"){let o=t.Token;if(o!=null){if(o.Type=="Number"){let r=o.Source.toString().split("e");if(r.length===2){let u=N(r[0]),R=N(r[1]);isFinite(u)&&isFinite(R)&&u**R<999999999&&!o.Source.includes("+")&&o.Source.includes(".")&&!o.Source.includes("-")&&(o.Source=(u**R).toString())}}o.Type=="String"&&(o.Source=o.Source.replace(/\\\d+/gi,r=>{let u=N(r.substr(1,r.length-1));return u&&isFinite(u)&&(u>=97&&u<=122||u>=65&&u<=90||u>=33&&u<=47||u>=58&&u<=64||u>=91&&u<=96||u>=123&&u<=126)&&u!==34&&u!==39&&u!==92?String.fromCharCode(u):r}))}}else if(t.Type=="FieldExpr")m(t.Base);else if(t.Type=="IndexExpr")m(t.Base),m(t.Index);else if(t.Type=="MethodExpr"||t.Type=="CallExpr"){if(m(t.Base),t.FunctionArguments.CallType=="ArgCall"?t.FunctionArguments.ArgList.forEach((o,r)=>{m(o)}):t.FunctionArguments.CallType=="TableCall"&&m(t.FunctionArguments.TableExpr),t.Base.Type==="ParenExpr"&&t.Base.Expression.Type==="FunctionLiteral"&&t.FunctionArguments.CallType==="ArgCall"){let o=t.Base.Expression;t.FunctionArguments.ArgList.forEach((r,u)=>{let R=t.FunctionArguments.ArgList[u];if(R!==void 0&&(R.Type=="NumberLiteral"||R.Type=="StringLiteral"||R.Type=="NilLiteral"||R.Type=="BooleanLiteral"||R.Type=="HashLiteral")){let X=o.ArgList[u];X&&X.var.RenameList.forEach(te=>{te(R.Token.Source,!0)})}})}}else if(t.Type=="FunctionLiteral")w(t.Body);else if(t.Type!="VariableExpr")if(t.Type=="ParenExpr"){let o=t.Expression;o!=null&&o.Type=="ParenExpr"&&(t.Expression=o.Expression),m(t.Expression),(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")&&f(t)}else t.Type=="TableLiteral"&&t.EntryList.forEach((o,r)=>{o.EntryType=="Field"?m(o.Value):o.EntryType=="Index"?(m(o.Index),m(o.Value)):o.EntryType=="Value"?m(o.Value):b(!1,"unreachable")})},w=function(t){if(t.Type=="StatList")t.StatementList.forEach((o,r)=>{o===null||o.Type===null||(o.Remove=()=>{t.StatementList[r]=null},w(o))});else if(t.Type!="BreakStat"){if(t.Type!="ContinueStat")if(t.Type=="ReturnStat")t.ExprList.forEach((o,r)=>{m(o)});else if(t.Type=="LocalVarStat")t.Token_Equals!=null&&t.ExprList.forEach((o,r)=>{m(o)});else if(t.Type=="LocalFunctionStat")w(t.FunctionStat.Body),t.FunctionStat.NameChain.length===1&&t.FunctionStat.NameChain[0].UseCount;else if(t.Type=="FunctionStat")w(t.Body);else if(t.Type=="RepeatStat")w(t.Body),m(t.Condition),t.Body.Type=="StatList"&&t.Body.StatementList.length;else if(t.Type=="GenericForStat")t.GeneratorList.forEach((o,r)=>{m(o)}),w(t.Body);else if(t.Type=="NumericForStat"){t.RangeList.forEach((z,Z)=>{m(z)}),w(t.Body);let o=t.RangeList[0],r=t.RangeList[1],u=t.RangeList[2];if(o==null||r==null)return t.Remove();if(f(o),f(r),f(u),o.Type!="NumberLiteral"||r.Type!="NumberLiteral"||u!=null&&u.Type!="NumberLiteral"||u==null)return;let R=N(o.Token.Source),X=N(r.Token.Source),te=u!=null&&N(u.Token.Source)||1,he=te>0&&R<=X||te<0&&R>=X,de=(X-R+te)/te;if(!(he&&de>=0)||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove()}else if(t.Type=="WhileStat"){m(t.Condition),w(t.Body);let o=t.Condition;switch(o.Type){case"ParenExpr":o=o.Expression;case"BooleanLiteral":if(o==null||o.Token==null||o.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else if(t.Type=="DoStat"){if(w(t.Body),t.Body===null||t.Body.Type=="StatList"&&t.Body.StatementList.length===0)return t.Remove();if(t.Body.StatementList.length===1){let o=t.Body.StatementList[0];o.Type!=="ContinueStat"&&o.Type!=="BreakStat"&&o.Type!=="ReturnStat"&&L(t,o)}}else if(t.Type=="IfStat"){m(t.Condition),w(t.Body),t.ElseClauseList.forEach((r,u)=>{r.Condition!=null&&m(r.Condition),w(r.Body)});let o=t.Condition;switch(o.Type){case"ParenExpr":o=o.Expression;case"BooleanLiteral":if(t.ElseClauseList.length>=1||o==null||o.Token==null||o.Token.Source!=="false")break;case"NilLiteral":t.Remove();break}}else t.Type=="CallExprStat"?m(t.Expression):t.Type=="CompoundStat"?(m(t.Lhs),m(t.Rhs)):t.Type=="AssignmentStat"&&(t.Lhs.forEach((o,r)=>{m(o)}),t.Rhs.forEach((o,r)=>{m(o)}))}},w(j)}let ae=[],ke;for(ke=97;ke<=122;ke++)ae.push(String.fromCharCode(ke));for(ke=65;ke<=90;ke++)ae.push(String.fromCharCode(ke));for(ke=48;ke<=57;ke++)ae.push(String.fromCharCode(ke));ae.push("_");let Ie=[];for(ke=97;ke<=122;ke++)Ie.push(String.fromCharCode(ke));for(ke=65;ke<=90;ke++)Ie.push(String.fromCharCode(ke));function Oe(j){let w="",m=j%Ie.length;for(j=(j-m)/Ie.length,w=`${w}${Ie[m]}`;j>0;){let d=j%ae.length;j=(j-d)/ae.length,w=`${w}${ae[d]}`}return w}function V(j,w,m){let d=[];for(var[g,_]of Object.entries(M))d[g]=!0;let l=[];j.forEach(E=>{E.AssignedTo&&m?l.push(E):d[E.Name]=!0});function L(E){E.VariableList.forEach(t=>{l.push(t)}),E.ChildScopeList.forEach(t=>{L(t)})}L(w),l.forEach(E=>{E.UsedNameArray=[]}),l.sort((E,t)=>E-t);let v=0,f=[];function T(E){let t=f[E];if(t==null){for(t=Oe(v),v++;d[t];)t=Oe(v),v++;f[E]=t}return t}l.forEach((E,t)=>{E.Renamed=!0;let o=0;for(;E.UsedNameArray[o];)o++;E.Rename(T(o)),E.Scope?l.forEach(r=>{r.Renamed||(!r.Scope||r.Scope.Depth<E.Scope.Depth?r.ReferenceLocationList.some(u=>u>=E.BeginLocation&&u<=E.ScopeEndLocation?(r.UsedNameArray[o]=!0,!0):!1):r.Scope.Depth>E.Scope.Depth?E.ReferenceLocationList.some(u=>u>=r.BeginLocation&&u<=r.ScopeEndLocation?(r.UsedNameArray[o]=!0,!0):!1):E.BeginLocation<r.EndLocation&&E.EndLocation>r.BeginLocation&&(r.UsedNameArray[o]=!0))}):l.forEach(r=>{if(!r.Renamed)if(r.Type=="Global")r.UsedNameArray[o]=!0;else if(r.Type=="Local")E.ReferenceLocationList.some(u=>u>=r.BeginLocation&&u<=r.ScopeEndLocation?(r.UsedNameArray[o]=!0,!0):!1);else throw"Unreachable"})})}function S(j,w,m){let d=[];j.forEach(v=>{(!v.AssignedTo||!m)&&(d[v.Name]=!0)});let g=1,_=1;function l(v,f){v.Name=f,v.RenameList.forEach(T=>{T(f)})}if(m){let v={};j.forEach(f=>{f.AssignedTo&&!f.ChangedName&&(v[f.Name]=v[f.Name]||`G_${_}_`,f.ChangedName=!0,l(f,v[f.Name]),_++)})}function L(v){v.VariableList.forEach(f=>{let T=`L_${g}_`;f.Info.Type=="Argument"?T=`${T}arg${f.Info.Index}`:f.Info.Type=="LocalFunction"?T=`${T}func`:f.Info.Type=="ForRange"&&(T=`${T}forvar${f.Info.Index}`),l(f,T),g++}),v.ChildScopeList.forEach(f=>{L(f)})}L(w)}let Le={};Le.Minify=function(j,w){let m=oe(j),[d,g]=we(m);return w.RenameVariables==!0&&V(d,g,w.RenameGlobals),w.SolveMath==!0&&dt(m),ot(m),gt(m)},Le.Beautify=function(j,w){let m=oe(j),[d,g]=we(m);return w.RenameVariables&&S(d,g,w.RenameGlobals),w.SolveMath==!0&&dt(m),Be(m),gt(m)};try{lt!=null&&lt.exports!=null&&(lt.exports.Beautify=Le.Beautify,lt.exports.Minify=Le.Minify)}catch{}})(Rt);var hn=Rt.exports;const At=hn;vt.Beautify=At.Beautify;vt.Minify=At.Minify;vt.Uglify=At.Uglify;const Nt={master:`return {
  desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="无尽",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  settings_id="ENDLESS",
  settings_name="无尽",
  substitutes={  },
  version=4,
  worldgen_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  worldgen_id="ENDLESS",
  worldgen_name="无尽" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},$t={master:`return {
  desc="标准《饥荒》体验。",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="生存",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="标准《饥荒》体验。",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="生存",
  substitutes={  },
  version=4,
  worldgen_desc="标准《饥荒》体验。",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="生存" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},Tn={class:"page-div"},yn={class:"card-header"},_n={class:"el-form-item-msg"},vn={style:{"font-weight":"bolder"}},kn={class:"item-container"},bn={style:{"font-weight":"bolder"}},Vn={class:"item-container"},Sn={style:{"font-weight":"bolder"}},Ln={class:"item-container"},Cn={style:{"font-weight":"bolder"}},wn={class:"item-container"},En={style:{"font-weight":"bolder"}},Fn={class:"item-container"},Mn={style:{"font-weight":"bolder"}},Rn={class:"item-container"},An={style:{"font-weight":"bolder"}},Bn={class:"item-container"},Gn={style:{"font-weight":"bolder"}},In={class:"item-container"},Un={style:{"font-weight":"bolder"}},Pn={class:"item-container"},zn={style:{"font-weight":"bolder"}},Dn={class:"item-container"},Nn={style:{"font-weight":"bolder"}},$n={class:"item-container"},xn={style:{"font-weight":"bolder"}},On={class:"item-container"},Wn={style:{"font-weight":"bolder"}},qn={class:"item-container"},Kn={style:{"font-weight":"bolder"}},jn={class:"item-container"},Hn={style:{"margin-top":"10px"}},Jn={style:{"font-weight":"bolder"}},Xn={class:"item-container"},Zn={style:{"font-weight":"bolder"}},Qn={class:"item-container"},Yn={style:{"font-weight":"bolder"}},el={class:"item-container"},tl={style:{"font-weight":"bolder"}},nl={class:"item-container"},ll={style:{"font-weight":"bolder"}},al={class:"item-container"},ol={style:{"font-weight":"bolder"}},il={class:"item-container"},rl={style:{"font-weight":"bolder"}},ul={class:"item-container"},sl={style:{"font-weight":"bolder"}},dl={class:"item-container"},fl={style:{"font-weight":"bolder"}},cl={class:"item-container"},ml={style:{display:"flex","justify-content":"flex-end"}},gl={class:"card-header"},pl={class:"el-form-item-msg"},hl={class:"card-header"},Tl={style:{"font-weight":"bolder"}},yl={class:"item-container"},_l={style:{"font-weight":"bolder"}},vl={class:"item-container"},kl={style:{"font-weight":"bolder"}},bl={class:"item-container"},Vl={style:{"font-weight":"bolder"}},Sl={class:"item-container"},Ll={style:{"font-weight":"bolder"}},Cl={class:"item-container"},wl={style:{"font-weight":"bolder"}},El={class:"item-container"},Fl={style:{"font-weight":"bolder"}},Ml={class:"item-container"},Rl={style:{"font-weight":"bolder"}},Al={class:"item-container"},Bl={style:{"font-weight":"bolder"}},Gl={class:"item-container"},Il={style:{"font-weight":"bolder"}},Ul={class:"item-container"},Pl={style:{"font-weight":"bolder"}},zl={class:"item-container"},Dl={style:{"font-weight":"bolder"}},Nl={class:"item-container"},$l={style:{"font-weight":"bolder"}},xl={class:"item-container"},Ol={style:{"font-weight":"bolder"}},Wl={class:"item-container"},ql={style:{"font-weight":"bolder"}},Kl={class:"item-container"},jl={style:{"font-weight":"bolder"}},Hl={class:"item-container"},Jl={style:{"font-weight":"bolder"}},Xl={class:"item-container"},Zl={style:{"font-weight":"bolder"}},Ql={class:"item-container"},Yl={style:{"font-weight":"bolder"}},ea={class:"item-container"},ta={style:{"font-weight":"bolder"}},na={class:"item-container"},la={style:{"font-weight":"bolder"}},aa={class:"item-container"},oa={style:{"font-weight":"bolder"}},ia={class:"item-container"},ra={style:{"font-weight":"bolder"}},ua={class:"item-container"},sa={style:{display:"flex","justify-content":"flex-end"}},da=gn({name:"settingsRoom"}),fa=Object.assign(da,{setup(lt){const{t:p}=an();on(async()=>{await L(),await ot()});const ce=Ae(!1),{isMobile:b}=rn(),N=un(),Ve=sn(()=>N.isDark),ue=dn();fn();const ye=cn(),st=mn("refresh"),Ye=()=>{setTimeout(()=>{ue.meta.isKeepAlive&&ye.removeKeepAliveName(ue.name),st(!1),Vt(()=>{ue.meta.isKeepAlive&&ye.addKeepAliveName(ue.name),st(!0)})},0)},We=Ae(),at=Ae(),ee=Ae(0),Re=t=>{l.value?ee.value>t&&(ee.value=t):ee.value>t&&(t===1&&Le(),t===2&&j(),ee.value=t)},De=()=>{l.value||(ee.value===2&&Le(),ee.value===3&&j()),ee.value--},xe=async()=>{if(l.value){if(ee.value===0){if(Te.value.groundSetting!==""&&H.value.caveSetting!==""){await v(!1),ee.value=0,ht("检测到刷新页面，已重置为单节点服务器");return}Ce.value.validate(t=>{t&&(f.value?(Le(),ee.value++):(j(),ee.value++))})}if(ee.value===1&&Ce.value.validate(t=>{if(t)try{ut.parse(Te.value.groundSetting),ee.value++}catch{ht(p("setting.luaError"))}}),ee.value===2&&we.value)try{ut.parse(we.value.modSetting),ee.value++}catch{ht(p("setting.luaError"))}}else if(ee.value===0)Ce.value.validate(t=>{if(t){if(M.value.masterPort===M.value.cavesPort){ht(p("setting.roomBaseFormRules.samePort"));return}Le(),ee.value++}});else if(ee.value===1)Xe.value.validate(t=>{if(t)try{ut.parse(Te.value.groundSetting),j(),ee.value++}catch{ht(p("setting.luaError"))}});else if(ee.value===2)if(H.value)try{ut.parse(H.value.caveSetting),ee.value++}catch{ht(p("setting.luaError"))}else ee.value++;else if(ee.value===3)if(we.value)try{ut.parse(we.value.modSetting),ee.value++}catch{ht(p("setting.luaError"))}else ee.value++},Ce=Ae(),M=Ae({name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!0,password:"",token:"",masterPort:0,cavesPort:0,shardMasterPort:void 0,steamMasterPort:void 0,steamAuthenticationPort:void 0,shardMasterIp:void 0,clusterKey:void 0}),Ne={name:[{required:!0,message:p("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:p("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:p("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:p("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:p("setting.roomBaseFormRules.token"),trigger:"blur"}]},Xe=Ae(),Te=Ae({groundSetting:""}),et={groundSetting:[{required:!0,message:p("setting.roomGroundFormRules.groundSetting"),trigger:"blur"}]},ie=Ae(),H=Ae({caveSetting:""}),oe={caveSetting:[{required:!0,message:p("setting.roomCaveFormRules.caveSetting"),trigger:"blur"}]},qe=Ae(),we=Ae({modSetting:""}),gt={modSetting:[{required:!0,message:p("setting.roomModFormRules.modSetting"),trigger:"blur"}]},Be=(t,o)=>{t==="master"&&(o==="endless"&&(Te.value.groundSetting=Nt.master),o==="survival"&&(Te.value.groundSetting=$t.master),Le(),l.value&&(M.value.masterPort=11e3,M.value.cavesPort=0,M.value.shardMasterPort=10888,M.value.steamMasterPort=27018,M.value.steamAuthenticationPort=8768,M.value.shardMasterIp="127.0.0.1",M.value.clusterKey=void 0)),t==="caves"&&(o==="endless"&&(H.value.caveSetting=Nt.caves),o==="survival"&&(H.value.caveSetting=$t.caves),j(),l.value&&(M.value.masterPort=0,M.value.cavesPort=11001,M.value.shardMasterPort=10888,M.value.steamMasterPort=27019,M.value.steamAuthenticationPort=8769,M.value.shardMasterIp=void 0,M.value.clusterKey=void 0))},ot=()=>{yt.room.get().then(t=>{M.value=t.data.base,Te.value.groundSetting=t.data.ground,H.value.caveSetting=t.data.cave,we.value.modSetting=t.data.mod,Te.value.groundSetting===""?f.value=!1:(H.value.caveSetting,f.value=!0),M.value.masterPort===0&&(M.value.masterPort=11e3),M.value.cavesPort===0&&(M.value.cavesPort=11001)})},dt=t=>{switch(t){case"save":ae();break;case"saveAndRestart":ke();break;case"generateNewWorld":Ie();break}},ae=()=>{const t={base:M.value,ground:Te.value.groundSetting,cave:H.value.caveSetting,mod:we.value.modSetting};ce.value=!0,yt.save.post(t).then(o=>{Mt(o.message),ce.value=!1}).finally(()=>{ce.value=!1,Vt(()=>{Ye()})})},ke=()=>{const t={base:M.value,ground:Te.value.groundSetting,cave:H.value.caveSetting,mod:we.value.modSetting};ce.value=!0,yt.saveAndRestart.post(t).then(o=>{Mt(o.message),ce.value=!1}).finally(()=>{ce.value=!1,Vt(()=>{Ye()})})},Ie=()=>{const t={base:M.value,ground:Te.value.groundSetting,cave:H.value.caveSetting,mod:we.value.modSetting};ce.value=!0,yt.saveAndGenerate.post(t).then(o=>{ce.value=!1,Mt(o.message)}).finally(()=>{ce.value=!1,Vt(()=>{Ye()})})},Oe=Ae("Code"),V=Ae("Code"),S=Ae({}),Le=()=>{if(Te.value.groundSetting==="")return;const t=ut.parse(Te.value.groundSetting),o=w(t);S.value=m(o)},j=()=>{if(H.value.caveSetting==="")return;const t=ut.parse(H.value.caveSetting),o=w(t);S.value=m(o)};function w(t){const r=t.body[0].arguments[0];for(const u of r.fields)if(u.key.type==="Identifier"&&u.key.name==="overrides")return u.value;return null}function m(t){const o={};for(const r of t.fields){const u=r.key.name;o[u]=r.value.raw.replace(/"/g,"")}return o}const d=t=>{const o=t.name,r=t.value,u=ut.parse(Te.value.groundSetting),R=w(u);for(let te of R.fields)te.key.name===o&&(te.value.raw=`"${r}"`);const X=_(u);Te.value.groundSetting=vt.Beautify(X,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),We.value&&We.value.refresh()},g=t=>{const o=t.name,r=t.value,u=ut.parse(H.value.caveSetting),R=w(u);for(let te of R.fields)te.key.name===o&&(te.value.raw=`"${r}"`);const X=_(u);H.value.caveSetting=vt.Beautify(X,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),at.value&&at.value.refresh()},_=(t,o=0)=>{const r="    ".repeat(o);switch(t.type){case"Chunk":return t.body.map(u=>_(u,o)).join(`
`);case"LocalStatement":return`${r}local ${t.variables.map(_).join(", ")} = ${t.init.map(_).join(", ")}`;case"FunctionDeclaration":return`${r}function ${_(t.identifier)}(${t.parameters.map(_).join(", ")}) 
${_(t.body,o+1)}
${r}end`;case"ReturnStatement":return`${r}return ${t.arguments.map(_).join(", ")}`;case"BinaryExpression":return`${_(t.left)} ${t.operator} ${_(t.right)}`;case"CallStatement":return`${r}${_(t.expression)}`;case"Identifier":return t.name;case"StringLiteral":return`${t.raw}`;case"NumericLiteral":return t.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${r}{ ${t.fields.map(u=>_(u,o+1)).join(`,
`+r)} }`;case"Field":return t.key?`${_(t.key)} = ${_(t.value)}`:_(t.value);case"AssignmentStatement":return`${r}${t.variables.map(_).join(", ")} = ${t.init.map(_).join(", ")}`;case"CallExpression":return`${_(t.base)}(${t.arguments.map(_).join(", ")})`;case"TableKeyString":return`${_(t.key)} = ${_(t.value)}`;case"BooleanLiteral":return t.raw;case"TableValue":return _(t.value);default:throw new Error(`Unsupported node type: ${t.type}`)}},l=Ae(!1),L=async()=>{await yt.multihost.get().then(t=>{l.value=t.data})},v=t=>{yt.multihost.post({multiHost:!l.value}).then(o=>{l.value=!l.value,t&&T()})},f=Ae(!0),T=()=>{Te.value.groundSetting="",H.value.caveSetting="",M.value.masterPort=void 0,M.value.cavesPort=void 0,M.value.shardMasterPort=void 0,M.value.steamMasterPort=void 0,M.value.steamAuthenticationPort=void 0,f.value?M.value.shardMasterIp="127.0.0.1":M.value.shardMasterIp=void 0,M.value.clusterKey=void 0},E={masterPort:[{required:!0,message:p("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:p("setting.roomWorldFormRules.cavesPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:p("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:p("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:p("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:p("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:p("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]};return(t,o)=>{const r=be("el-step"),u=be("el-steps"),R=be("el-card"),X=be("el-col"),te=be("el-row"),he=be("el-button"),de=be("el-input"),q=be("el-form-item"),z=be("el-tooltip"),Z=be("el-input-number"),re=be("el-radio"),pt=be("el-radio-group"),Ke=be("el-switch"),Ue=be("el-slider"),je=be("el-link"),$e=be("el-form"),He=be("el-tab-pane"),Q=be("el-divider"),ft=be("el-tabs"),_t=be("el-alert"),Je=be("el-result"),Ze=be("arrow-down"),it=be("el-icon"),F=be("el-dropdown-item"),I=be("el-dropdown-menu"),B=be("el-dropdown");return k(),P("div",Tn,[l.value?ve("",!0):(k(),P(Y,{key:0},[c(te,{gutter:10},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:h(()=>[c(R,{shadow:"never"},{default:h(()=>[c(u,{active:ee.value,"align-center":"","finish-status":"success"},{default:h(()=>[c(r,{title:n(b)?t.$t("setting.roomSettingMobile"):t.$t("setting.roomSetting"),onClick:o[0]||(o[0]=e=>Re(0))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.groundSettingMobile"):t.$t("setting.groundSetting"),onClick:o[1]||(o[1]=e=>Re(1))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.caveSettingMobile"):t.$t("setting.caveSetting"),onClick:o[2]||(o[2]=e=>Re(2))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.modSettingMobile"):t.$t("setting.modSetting"),onClick:o[3]||(o[3]=e=>Re(3))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.finishSettingMobile"):t.$t("setting.finishSetting"),onClick:o[4]||(o[4]=e=>Re(4))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(te,{gutter:10,style:{"margin-top":"5px"}},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24},{default:h(()=>[ee.value===0?(k(),O(R,{key:0,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:h(()=>[U("div",yn,[U("span",null,A(n(p)("setting.roomSetting")),1),U("div",null,[c(he,{link:"",type:"primary",onClick:o[5]||(o[5]=e=>v(!0))},{default:h(()=>[W(A(n(p)("setting.baseForm.changeMultiHostMode")),1)]),_:1})])])]),default:h(()=>[c($e,{ref_key:"roomBaseFormRef",ref:Ce,"label-position":n(b)?"top":"left","label-width":n(b)?"70":"auto",model:M.value,rules:Ne,size:n(b)?"small":"large"},{default:h(()=>[c(q,{label:n(p)("setting.baseForm.room"),prop:"name"},{default:h(()=>[c(de,{modelValue:M.value.name,"onUpdate:modelValue":o[6]||(o[6]=e=>M.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.description"),prop:"description"},{default:h(()=>[c(de,{modelValue:M.value.description,"onUpdate:modelValue":o[7]||(o[7]=e=>M.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{prop:"masterPort"},{label:h(()=>[c(z,{content:n(p)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:h(()=>[W(A(n(p)("setting.baseForm.masterPort")),1)]),_:1},8,["content"])]),default:h(()=>[c(Z,{modelValue:M.value.masterPort,"onUpdate:modelValue":o[8]||(o[8]=e=>M.value.masterPort=e),max:65535,min:1,size:n(b)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c(q,{prop:"cavesPort"},{label:h(()=>[c(z,{content:n(p)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:h(()=>[W(A(n(p)("setting.baseForm.cavesPort")),1)]),_:1},8,["content"])]),default:h(()=>[c(Z,{modelValue:M.value.cavesPort,"onUpdate:modelValue":o[9]||(o[9]=e=>M.value.cavesPort=e),max:65535,min:1,size:n(b)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c(q,{label:n(p)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:h(()=>[c(pt,{modelValue:M.value.gameMode,"onUpdate:modelValue":o[10]||(o[10]=e=>M.value.gameMode=e)},{default:h(()=>[c(re,{label:t.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.pvp"),prop:"pvp"},{default:h(()=>[c(Ke,{modelValue:M.value.pvp,"onUpdate:modelValue":o[11]||(o[11]=e=>M.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.playerNum"),prop:"playerNum"},{default:h(()=>[c(Ue,{modelValue:M.value.playerNum,"onUpdate:modelValue":o[12]||(o[12]=e=>M.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.backDays"),prop:"backDays"},{default:h(()=>[c(Ue,{modelValue:M.value.backDays,"onUpdate:modelValue":o[13]||(o[13]=e=>M.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.vote"),prop:"vote"},{default:h(()=>[c(Ke,{modelValue:M.value.vote,"onUpdate:modelValue":o[14]||(o[14]=e=>M.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.password")},{default:h(()=>[c(de,{modelValue:M.value.password,"onUpdate:modelValue":o[15]||(o[15]=e=>M.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.token"),prop:"token"},{default:h(()=>[c(de,{modelValue:M.value.token,"onUpdate:modelValue":o[16]||(o[16]=e=>M.value.token=e),"show-password":""},null,8,["modelValue"]),U("div",_n,[c(je,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:h(()=>[W(A(n(p)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):ve("",!0),ee.value===1?(k(),O(R,{key:1,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[c(ft,{modelValue:Oe.value,"onUpdate:modelValue":o[20]||(o[20]=e=>Oe.value=e)},{default:h(()=>[c(He,{label:n(p)("setting.tabCode"),name:"Code"},{default:h(()=>[M.value.gameMode==="endless"?(k(),O(he,{key:0,type:"primary",onClick:o[17]||(o[17]=e=>Be("master","endless"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.endless")),1)]),_:1})):ve("",!0),M.value.gameMode==="survival"?(k(),O(he,{key:1,type:"primary",onClick:o[18]||(o[18]=e=>Be("master","survival"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.survival")),1)]),_:1})):ve("",!0),c($e,{ref_key:"roomGroundFormRef",ref:Xe,"label-width":n(b)?"70":"100",model:Te.value,rules:et,size:n(b)?"small":"large",style:{"margin-top":"10px"}},{default:h(()=>[c(q,{"label-position":"top",prop:"groundSetting"},{default:h(()=>[c(Tt,{ref_key:"editorGroundSettingRef",ref:We,modelValue:Te.value.groundSetting,"onUpdate:modelValue":o[19]||(o[19]=e=>Te.value.groundSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&Te.value.groundSetting!==""?(k(),O(He,{key:0,label:n(p)("setting.tabVisualization"),name:"Visualization"},{default:h(()=>[c(Q,{"content-position":"center"},{default:h(()=>[U("span",vn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),U("div",kn,[(k(!0),P(Y,null,ne(n(Me).global,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",bn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),U("div",Vn,[(k(!0),P(Y,null,ne(n(Me).events,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Sn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),U("div",Ln,[(k(!0),P(Y,null,ne(n(Me).survivors,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Cn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),U("div",wn,[(k(!0),P(Y,null,ne(n(Me).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",En,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",Fn,[(k(!0),P(Y,null,ne(n(Me).resourceRegrowth,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Mn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),U("div",Rn,[(k(!0),P(Y,null,ne(n(Me).unnaturalPortalResource,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",An,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),U("div",Bn,[(k(!0),P(Y,null,ne(n(Me).creatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Gn,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",In,[(k(!0),P(Y,null,ne(n(Me).hostileCreatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Un,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),U("div",Pn,[(k(!0),P(Y,null,ne(n(Me).giants,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",zn,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),U("div",Dn,[(k(!0),P(Y,null,ne(n(tt).global,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Nn,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),U("div",$n,[(k(!0),P(Y,null,ne(n(tt).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",xn,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),U("div",On,[(k(!0),P(Y,null,ne(n(tt).resources,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Wn,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",qn,[(k(!0),P(Y,null,ne(n(tt).creaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Kn,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",jn,[(k(!0),P(Y,null,ne(n(tt).hostileCreaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):ve("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):ve("",!0),ee.value===2?(k(),O(R,{key:2,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[c(ft,{modelValue:V.value,"onUpdate:modelValue":o[24]||(o[24]=e=>V.value=e)},{default:h(()=>[c(He,{label:n(p)("setting.tabCode"),name:"Code"},{default:h(()=>[c(_t,{closable:!1,effect:Ve.value?"light":"dark",type:"success"},{default:h(()=>[W(A(n(p)("setting.cavesTip")),1)]),_:1},8,["effect"]),U("div",Hn,[M.value.gameMode==="endless"?(k(),O(he,{key:0,type:"primary",onClick:o[21]||(o[21]=e=>Be("caves","endless"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.endless")),1)]),_:1})):ve("",!0),M.value.gameMode==="survival"?(k(),O(he,{key:1,type:"primary",onClick:o[22]||(o[22]=e=>Be("caves","survival"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.survival")),1)]),_:1})):ve("",!0)]),c($e,{ref_key:"roomCaveFormRef",ref:ie,"label-width":n(b)?"70":"100",model:H.value,rules:oe,size:n(b)?"small":"large",style:{"margin-top":"10px"}},{default:h(()=>[c(q,{"label-position":"top",prop:"caveSetting"},{default:h(()=>[c(Tt,{ref_key:"editorCavesSettingRef",ref:at,modelValue:H.value.caveSetting,"onUpdate:modelValue":o[23]||(o[23]=e=>H.value.caveSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&H.value.caveSetting!==""?(k(),O(He,{key:0,label:n(p)("setting.tabVisualization"),name:"Visualization"},{default:h(()=>[c(Q,{"content-position":"center"},{default:h(()=>[U("span",Jn,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),U("div",Xn,[(k(!0),P(Y,null,ne(n(nt).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Zn,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",Qn,[(k(!0),P(Y,null,ne(n(nt).resourceRegrowth,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Yn,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),U("div",el,[(k(!0),P(Y,null,ne(n(nt).creatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",tl,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",nl,[(k(!0),P(Y,null,ne(n(nt).hostileCreatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",ll,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),U("div",al,[(k(!0),P(Y,null,ne(n(nt).giants,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",ol,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),U("div",il,[(k(!0),P(Y,null,ne(n(ct).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(mt)[e].configs,customConfigsValue:n(mt)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(mt)[e].i18n,image:n(mt)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",rl,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),U("div",ul,[(k(!0),P(Y,null,ne(n(ct).resources,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",sl,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",dl,[(k(!0),P(Y,null,ne(n(ct).creaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",fl,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",cl,[(k(!0),P(Y,null,ne(n(ct).hostileCreaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):ve("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):ve("",!0),ee.value===3?(k(),O(R,{key:3,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[c($e,{ref_key:"roomModFormRef",ref:qe,"label-width":n(b)?"70":"100",model:we.value,rules:gt,size:n(b)?"small":"large"},{default:h(()=>[c(q,{"label-position":"top",prop:"modSetting"},{default:h(()=>[c(Tt,{ref:"editor",modelValue:we.value.modSetting,"onUpdate:modelValue":o[25]||(o[25]=e=>we.value.modSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):ve("",!0),ee.value===4?(k(),O(R,{key:4,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[U("div",{style:Qe(n(b)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(Je,{"sub-title":t.$t("setting.finish.description"),title:t.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):ve("",!0)]),_:1})]),_:1}),c(te,{gutter:10},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24},{default:h(()=>[c(R,{shadow:"never"},{default:h(()=>[U("div",ml,[ee.value>0?(k(),O(he,{key:0,onClick:De},{default:h(()=>[W(A(n(p)("setting.button.prev")),1)]),_:1})):ve("",!0),ee.value<4?(k(),O(he,{key:1,type:"primary",onClick:xe},{default:h(()=>[W(A(n(p)("setting.button.next")),1)]),_:1})):ve("",!0),ee.value===4?(k(),O(B,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:dt},{dropdown:h(()=>[c(I,null,{default:h(()=>[c(F,{command:"save"},{default:h(()=>[W(A(n(p)("setting.button.save")),1)]),_:1}),c(F,{command:"saveAndRestart"},{default:h(()=>[W(A(n(p)("setting.button.saveAndRestart")),1)]),_:1}),c(F,{command:"generateNewWorld"},{default:h(()=>[W(A(n(p)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:h(()=>[c(he,{loading:ce.value,type:"warning"},{default:h(()=>[W(A(n(p)("setting.button.actions"))+" ",1),c(it,{class:"el-icon--right"},{default:h(()=>[c(Ze)]),_:1})]),_:1},8,["loading"])]),_:1})):ve("",!0)])]),_:1})]),_:1})]),_:1})],64)),l.value?(k(),P(Y,{key:1},[c(te,{gutter:10},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:h(()=>[c(R,{shadow:"never"},{default:h(()=>[c(u,{active:ee.value,"align-center":"","finish-status":"success"},{default:h(()=>[c(r,{title:n(b)?t.$t("setting.roomSettingMobile"):t.$t("setting.roomSetting"),onClick:o[26]||(o[26]=e=>Re(0))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.worldSettingMobile"):t.$t("setting.worldSetting"),onClick:o[27]||(o[27]=e=>Re(1))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.modSettingMobile"):t.$t("setting.modSetting"),onClick:o[28]||(o[28]=e=>Re(3))},null,8,["title"]),c(r,{title:n(b)?t.$t("setting.finishSettingMobile"):t.$t("setting.finishSetting"),onClick:o[29]||(o[29]=e=>Re(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(te,{gutter:10,style:{"margin-top":"5px"}},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24},{default:h(()=>[ee.value===0?(k(),O(R,{key:0,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:h(()=>[U("div",gl,[U("span",null,A(n(p)("setting.roomSetting")),1),U("div",null,[c(he,{link:"",type:"primary",onClick:o[30]||(o[30]=e=>v(!1))},{default:h(()=>[W(A(n(p)("setting.baseForm.changeSingleHostMode")),1)]),_:1})])])]),default:h(()=>[c($e,{ref_key:"roomBaseFormRef",ref:Ce,"label-position":n(b)?"top":"left","label-width":n(b)?"70":"auto",model:M.value,rules:Ne,size:n(b)?"small":"large"},{default:h(()=>[c(q,{label:n(p)("setting.baseForm.room"),prop:"name"},{default:h(()=>[c(de,{modelValue:M.value.name,"onUpdate:modelValue":o[31]||(o[31]=e=>M.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.description"),prop:"description"},{default:h(()=>[c(de,{modelValue:M.value.description,"onUpdate:modelValue":o[32]||(o[32]=e=>M.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:h(()=>[c(pt,{modelValue:M.value.gameMode,"onUpdate:modelValue":o[33]||(o[33]=e=>M.value.gameMode=e)},{default:h(()=>[c(re,{label:t.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(re,{label:t.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.pvp"),prop:"pvp"},{default:h(()=>[c(Ke,{modelValue:M.value.pvp,"onUpdate:modelValue":o[34]||(o[34]=e=>M.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.playerNum"),prop:"playerNum"},{default:h(()=>[c(Ue,{modelValue:M.value.playerNum,"onUpdate:modelValue":o[35]||(o[35]=e=>M.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.backDays"),prop:"backDays"},{default:h(()=>[c(Ue,{modelValue:M.value.backDays,"onUpdate:modelValue":o[36]||(o[36]=e=>M.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.vote"),prop:"vote"},{default:h(()=>[c(Ke,{modelValue:M.value.vote,"onUpdate:modelValue":o[37]||(o[37]=e=>M.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.password")},{default:h(()=>[c(de,{modelValue:M.value.password,"onUpdate:modelValue":o[38]||(o[38]=e=>M.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),c(q,{label:n(p)("setting.baseForm.token"),prop:"token"},{default:h(()=>[c(de,{modelValue:M.value.token,"onUpdate:modelValue":o[39]||(o[39]=e=>M.value.token=e),"show-password":""},null,8,["modelValue"]),U("div",pl,[c(je,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:h(()=>[W(A(n(p)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):ve("",!0),ee.value===1?(k(),O(R,{key:1,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:h(()=>[U("div",hl,[U("div",null,[c(pt,{modelValue:f.value,"onUpdate:modelValue":o[40]||(o[40]=e=>f.value=e),onChange:T},{default:h(()=>[c(re,{value:!0,size:"small"},{default:h(()=>[W(A(n(p)("setting.groundSettingMobile")),1)]),_:1}),c(re,{value:!1,size:"small"},{default:h(()=>[W(A(n(p)("setting.caveSettingMobile")),1)]),_:1})]),_:1},8,["modelValue"])])])]),default:h(()=>[f.value?(k(),O(ft,{key:0,modelValue:Oe.value,"onUpdate:modelValue":o[50]||(o[50]=e=>Oe.value=e)},{default:h(()=>[c(He,{label:n(p)("setting.tabCode"),name:"Code"},{default:h(()=>[M.value.gameMode==="endless"?(k(),O(he,{key:0,type:"primary",onClick:o[41]||(o[41]=e=>Be("master","endless"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.endless")),1)]),_:1})):ve("",!0),M.value.gameMode==="survival"?(k(),O(he,{key:1,type:"primary",onClick:o[42]||(o[42]=e=>Be("master","survival"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.survival")),1)]),_:1})):ve("",!0),c($e,{ref_key:"roomBaseFormRef",ref:Ce,"label-width":n(b)?"70":"100",model:M.value,rules:E,size:n(b)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:h(()=>[c(z,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.masterPort"),"label-position":"top",prop:"masterPort"},{default:h(()=>[c(de,{modelValue:M.value.masterPort,"onUpdate:modelValue":o[43]||(o[43]=e=>M.value.masterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:h(()=>[c(de,{modelValue:M.value.shardMasterPort,"onUpdate:modelValue":o[44]||(o[44]=e=>M.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:h(()=>[c(de,{modelValue:M.value.steamMasterPort,"onUpdate:modelValue":o[45]||(o[45]=e=>M.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:h(()=>[c(de,{modelValue:M.value.steamAuthenticationPort,"onUpdate:modelValue":o[46]||(o[46]=e=>M.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:h(()=>[c(de,{modelValue:M.value.shardMasterIp,"onUpdate:modelValue":o[47]||(o[47]=e=>M.value.shardMasterIp=e),disabled:"",size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:h(()=>[c(de,{modelValue:M.value.clusterKey,"onUpdate:modelValue":o[48]||(o[48]=e=>M.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),c($e,{ref_key:"roomGroundFormRef",ref:Xe,"label-width":n(b)?"70":"100",model:Te.value,rules:et,size:n(b)?"small":"large",style:{"margin-top":"10px"}},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.groundSetting"),"label-position":"top",prop:"groundSetting"},{default:h(()=>[c(Tt,{ref_key:"editorGroundSettingRef",ref:We,modelValue:Te.value.groundSetting,"onUpdate:modelValue":o[49]||(o[49]=e=>Te.value.groundSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&Te.value.groundSetting!==""?(k(),O(He,{key:0,label:n(p)("setting.tabVisualization"),name:"Visualization"},{default:h(()=>[c(Q,{"content-position":"center"},{default:h(()=>[U("span",Tl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),U("div",yl,[(k(!0),P(Y,null,ne(n(Me).global,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",_l,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),U("div",vl,[(k(!0),P(Y,null,ne(n(Me).events,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",kl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),U("div",bl,[(k(!0),P(Y,null,ne(n(Me).survivors,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Vl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),U("div",Sl,[(k(!0),P(Y,null,ne(n(Me).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Ll,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",Cl,[(k(!0),P(Y,null,ne(n(Me).resourceRegrowth,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",wl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),U("div",El,[(k(!0),P(Y,null,ne(n(Me).unnaturalPortalResource,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Fl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),U("div",Ml,[(k(!0),P(Y,null,ne(n(Me).creatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Rl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",Al,[(k(!0),P(Y,null,ne(n(Me).hostileCreatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Bl,A(n(p)("setting.groundVisualizationRule")),1),W(" - "+A(n(p)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),U("div",Gl,[(k(!0),P(Y,null,ne(n(Me).giants,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Il,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),U("div",Ul,[(k(!0),P(Y,null,ne(n(tt).global,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Pl,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),U("div",zl,[(k(!0),P(Y,null,ne(n(tt).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Dl,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),U("div",Nl,[(k(!0),P(Y,null,ne(n(tt).resources,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",$l,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",xl,[(k(!0),P(Y,null,ne(n(tt).creaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Ol,A(n(p)("setting.groundVisualizationGeneration")),1),W(" - "+A(n(p)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",Wl,[(k(!0),P(Y,null,ne(n(tt).hostileCreaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:d},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):ve("",!0)]),_:1},8,["modelValue"])):(k(),O(ft,{key:1,modelValue:V.value,"onUpdate:modelValue":o[60]||(o[60]=e=>V.value=e)},{default:h(()=>[c(He,{label:n(p)("setting.tabCode"),name:"Code"},{default:h(()=>[U("div",null,[M.value.gameMode==="endless"?(k(),O(he,{key:0,type:"primary",onClick:o[51]||(o[51]=e=>Be("caves","endless"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.endless")),1)]),_:1})):ve("",!0),M.value.gameMode==="survival"?(k(),O(he,{key:1,type:"primary",onClick:o[52]||(o[52]=e=>Be("caves","survival"))},{default:h(()=>[W(A(n(p)("setting.luaImportButton.survival")),1)]),_:1})):ve("",!0)]),c($e,{ref_key:"roomBaseFormRef",ref:Ce,"label-width":n(b)?"70":"100",model:M.value,rules:E,size:n(b)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:h(()=>[c(z,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.cavesPort"),"label-position":"top",prop:"cavesPort"},{default:h(()=>[c(de,{modelValue:M.value.cavesPort,"onUpdate:modelValue":o[53]||(o[53]=e=>M.value.cavesPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:h(()=>[c(de,{modelValue:M.value.shardMasterPort,"onUpdate:modelValue":o[54]||(o[54]=e=>M.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:h(()=>[c(de,{modelValue:M.value.steamMasterPort,"onUpdate:modelValue":o[55]||(o[55]=e=>M.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:h(()=>[c(de,{modelValue:M.value.steamAuthenticationPort,"onUpdate:modelValue":o[56]||(o[56]=e=>M.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:h(()=>[c(de,{modelValue:M.value.shardMasterIp,"onUpdate:modelValue":o[57]||(o[57]=e=>M.value.shardMasterIp=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(z,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:h(()=>[c(de,{modelValue:M.value.clusterKey,"onUpdate:modelValue":o[58]||(o[58]=e=>M.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),c($e,{ref_key:"roomCaveFormRef",ref:ie,"label-width":n(b)?"70":"100",model:H.value,rules:oe,size:n(b)?"small":"large",style:{"margin-top":"10px"}},{default:h(()=>[c(q,{label:n(p)("setting.roomWorldForm.caveSetting"),"label-position":"top",prop:"caveSetting"},{default:h(()=>[c(Tt,{ref_key:"editorCavesSettingRef",ref:at,modelValue:H.value.caveSetting,"onUpdate:modelValue":o[59]||(o[59]=e=>H.value.caveSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&H.value.caveSetting!==""?(k(),O(He,{key:0,label:n(p)("setting.tabVisualization"),name:"Visualization"},{default:h(()=>[c(Q,{"content-position":"center"},{default:h(()=>[U("span",ql,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),U("div",Kl,[(k(!0),P(Y,null,ne(n(nt).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",jl,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",Hl,[(k(!0),P(Y,null,ne(n(nt).resourceRegrowth,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Jl,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),U("div",Xl,[(k(!0),P(Y,null,ne(n(nt).creatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Zl,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",Ql,[(k(!0),P(Y,null,ne(n(nt).hostileCreatures,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",Yl,A(n(p)("setting.cavesVisualizationRule")),1),W(" - "+A(n(p)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),U("div",ea,[(k(!0),P(Y,null,ne(n(nt).giants,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",ta,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),U("div",na,[(k(!0),P(Y,null,ne(n(ct).world,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(mt)[e].configs,customConfigsValue:n(mt)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(mt)[e].i18n,image:n(mt)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",la,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),U("div",aa,[(k(!0),P(Y,null,ne(n(ct).resources,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",oa,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",ia,[(k(!0),P(Y,null,ne(n(ct).creaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:h(()=>[U("span",ra,A(n(p)("setting.cavesVisualizationGeneration")),1),W(" - "+A(n(p)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",ua,[(k(!0),P(Y,null,ne(n(ct).hostileCreaturesAndSpawners,e=>(k(),P("div",null,[(k(),O(le,{key:new Date().getTime(),modelValue:S.value[e],"onUpdate:modelValue":y=>S.value[e]=y,configs:n(s)[e].configs,customConfigsValue:n(s)[e].customConfigsValue,defaultModelValue:n(s)[e].modelValue,i18n:n(s)[e].i18n,image:n(s)[e].image,name:e,onChangeModelValue:g},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):ve("",!0)]),_:1},8,["modelValue"]))]),_:1},8,["style"])):ve("",!0),ee.value===2?(k(),O(R,{key:2,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[c($e,{ref_key:"roomModFormRef",ref:qe,"label-width":n(b)?"70":"100",model:we.value,rules:gt,size:n(b)?"small":"large"},{default:h(()=>[c(q,{"label-position":"top",prop:"modSetting"},{default:h(()=>[c(Tt,{ref:"editor",modelValue:we.value.modSetting,"onUpdate:modelValue":o[61]||(o[61]=e=>we.value.modSetting=e),height:n(b)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):ve("",!0),ee.value===3?(k(),O(R,{key:3,style:Qe(n(b)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:h(()=>[U("div",{style:Qe(n(b)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(Je,{"sub-title":t.$t("setting.finish.description"),title:t.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):ve("",!0)]),_:1})]),_:1}),c(te,{gutter:10},{default:h(()=>[c(X,{lg:24,md:24,sm:24,span:24,xs:24},{default:h(()=>[c(R,{shadow:"never"},{default:h(()=>[U("div",sa,[ee.value>0?(k(),O(he,{key:0,onClick:De},{default:h(()=>[W(A(n(p)("setting.button.prev")),1)]),_:1})):ve("",!0),ee.value<3?(k(),O(he,{key:1,type:"primary",onClick:xe},{default:h(()=>[W(A(n(p)("setting.button.next")),1)]),_:1})):ve("",!0),ee.value===3?(k(),O(B,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:dt},{dropdown:h(()=>[c(I,null,{default:h(()=>[c(F,{command:"save"},{default:h(()=>[W(A(n(p)("setting.button.save")),1)]),_:1}),c(F,{command:"saveAndRestart"},{default:h(()=>[W(A(n(p)("setting.button.saveAndRestart")),1)]),_:1}),c(F,{command:"generateNewWorld"},{default:h(()=>[W(A(n(p)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:h(()=>[c(he,{loading:ce.value,type:"warning"},{default:h(()=>[W(A(n(p)("setting.button.actions"))+" ",1),c(it,{class:"el-icon--right"},{default:h(()=>[c(Ze)]),_:1})]),_:1},8,["loading"])]),_:1})):ve("",!0)])]),_:1})]),_:1})]),_:1})],64)):ve("",!0)])}}}),ha=ln(fa,[["__scopeId","data-v-73147626"]]);export{ha as default};
