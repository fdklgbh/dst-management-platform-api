import{ab as nn,ac as Fn}from"./index-C-KsYsfv.js";var Ke={exports:{}};Ke.exports;(function(Se,Pe){(function(ne,b,B){var ie=Pe&&!Pe.nodeType&&Pe,J=Se&&!Se.nodeType&&Se,Q=ie&&J&&typeof nn=="object"&&nn,Oe=J&&J.exports===ie&&ie;Q&&(Q.global===Q||Q.window===Q||Q.self===Q)&&(ne=Q),B(ie&&J?Oe?J.exports:ie:ne[b]={})})(nn,"luaparse",function(ne){ne.version="0.3.1";var b,B,ie,J,Q,Oe=ne.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Re(t,i){return i=i||0,t<128?String.fromCharCode(t):t<2048?String.fromCharCode(i|192|t>>6,i|128|t&63):t<65536?String.fromCharCode(i|224|t>>12,i|128|t>>6&63,i|128|t&63):t<1114112?String.fromCharCode(i|240|t>>18,i|128|t>>12&63,i|128|t>>6&63,i|128|t&63):null}function we(t,i){for(var T=t.toString(16);T.length<i;)T="0"+T;return T}function xe(t){return function(i){var T=t.exec(i);if(!T)return i;D(null,q.invalidCodeUnit,we(T[0].charCodeAt(0),4).toUpperCase())}}var Ue={"pseudo-latin1":{fixup:xe(/[^\x00-\xff]/),encodeByte:function(t){return t===null?"":String.fromCharCode(t)},encodeUTF8:function(t){return Re(t)}},"x-user-defined":{fixup:xe(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(t){return t===null?"":t>=128?String.fromCharCode(t|63232):String.fromCharCode(t)},encodeUTF8:function(t){return Re(t,63232)}},none:{discardStrings:!0,fixup:function(t){return t},encodeByte:function(t){return""},encodeUTF8:function(t){return""}}},Fe=1,pe=2,he=4,ce=8,Le=16,Te=32,ve=64,be=128,Be=256;ne.tokenTypes={EOF:Fe,StringLiteral:pe,Keyword:he,Identifier:ce,NumericLiteral:Le,Punctuator:Te,BooleanLiteral:ve,NilLiteral:be,VarargLiteral:Be};var q=ne.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},x=ne.ast={labelStatement:function(t){return{type:"LabelStatement",label:t}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(t){return{type:"GotoStatement",label:t}},returnStatement:function(t){return{type:"ReturnStatement",arguments:t}},ifStatement:function(t){return{type:"IfStatement",clauses:t}},ifClause:function(t,i){return{type:"IfClause",condition:t,body:i}},elseifClause:function(t,i){return{type:"ElseifClause",condition:t,body:i}},elseClause:function(t){return{type:"ElseClause",body:t}},whileStatement:function(t,i){return{type:"WhileStatement",condition:t,body:i}},doStatement:function(t){return{type:"DoStatement",body:t}},repeatStatement:function(t,i){return{type:"RepeatStatement",condition:t,body:i}},localStatement:function(t,i){return{type:"LocalStatement",variables:t,init:i}},assignmentStatement:function(t,i){return{type:"AssignmentStatement",variables:t,init:i}},callStatement:function(t){return{type:"CallStatement",expression:t}},functionStatement:function(t,i,T,S){return{type:"FunctionDeclaration",identifier:t,isLocal:T,parameters:i,body:S}},forNumericStatement:function(t,i,T,S,A){return{type:"ForNumericStatement",variable:t,start:i,end:T,step:S,body:A}},forGenericStatement:function(t,i,T){return{type:"ForGenericStatement",variables:t,iterators:i,body:T}},chunk:function(t){return{type:"Chunk",body:t}},identifier:function(t){return{type:"Identifier",name:t}},literal:function(t,i,T){return t=t===pe?"StringLiteral":t===Le?"NumericLiteral":t===ve?"BooleanLiteral":t===be?"NilLiteral":"VarargLiteral",{type:t,value:i,raw:T}},tableKey:function(t,i){return{type:"TableKey",key:t,value:i}},tableKeyString:function(t,i){return{type:"TableKeyString",key:t,value:i}},tableValue:function(t){return{type:"TableValue",value:t}},tableConstructorExpression:function(t){return{type:"TableConstructorExpression",fields:t}},binaryExpression:function(t,i,T){var S=t==="and"||t==="or"?"LogicalExpression":"BinaryExpression";return{type:S,operator:t,left:i,right:T}},unaryExpression:function(t,i){return{type:"UnaryExpression",operator:t,argument:i}},memberExpression:function(t,i,T){return{type:"MemberExpression",indexer:i,identifier:T,base:t}},indexExpression:function(t,i){return{type:"IndexExpression",base:t,index:i}},callExpression:function(t,i){return{type:"CallExpression",base:t,arguments:i}},tableCallExpression:function(t,i){return{type:"TableCallExpression",base:t,arguments:i}},stringCallExpression:function(t,i){return{type:"StringCallExpression",base:t,argument:i}},comment:function(t,i){return{type:"Comment",value:t,raw:i}}};function U(t){if(v){var i=F.pop();i.complete(),i.bless(t)}return B.onCreateNode&&B.onCreateNode(t),t}var ye=Array.prototype.slice,Ne=function(t,i){for(var T=0,S=t.length;T<S;++T)if(t[T]===i)return T;return-1};Array.prototype.indexOf&&(Ne=function(t,i){return t.indexOf(i)});function qe(t,i,T){for(var S=0,A=t.length;S<A;++S)if(t[S][i]===T)return S;return-1}function Ae(t){var i=ye.call(arguments,1);return t=t.replace(/%(\d)/g,function(T,S){return""+i[S-1]||""}),t}var Ge=function(t){for(var i=ye.call(arguments,1),T,S,A=0,j=i.length;A<j;++A){T=i[A];for(S in T)Object.prototype.hasOwnProperty.call(T,S)&&(t[S]=T[S])}return t};Object.assign&&(Ge=Object.assign),ne.SyntaxError=SyntaxError;function De(t){return Object.create?Object.create(t,{line:{writable:!0,value:t.line},index:{writable:!0,value:t.index},column:{writable:!0,value:t.column}}):t}function D(t){var i=Ae.apply(null,ye.call(arguments,1)),T,S;throw t===null||typeof t.line>"u"?(S=h-c+1,T=De(new SyntaxError(Ae("[%1:%2] %3",s,S,i))),T.index=h,T.line=s,T.column=S):(S=t.range[0]-t.lineStart,T=De(new SyntaxError(Ae("[%1:%2] %3",t.line,S,i))),T.line=t.line,T.index=t.range[0],T.column=S),T}function Y(t){var i=b.slice(t.range[0],t.range[1]);return i||t.value}function de(t,i){D(i,q.expectedToken,t,Y(i))}function Ee(t){var i=Y(N);if(typeof t.type<"u"){var T;switch(t.type){case pe:T="string";break;case he:T="keyword";break;case ce:T="identifier";break;case Le:T="number";break;case Te:T="symbol";break;case ve:T="boolean";break;case be:return D(t,q.unexpected,"symbol","nil",i);case Fe:return D(t,q.unexpectedEOF)}return D(t,q.unexpected,T,Y(t),i)}return D(t,q.unexpected,"symbol",t,i)}var h,G,oe,N,k,u,s,c;ne.lex=m;function m(){for(p();b.charCodeAt(h)===45&&b.charCodeAt(h+1)===45;)fe(),p();if(h>=ie)return{type:Fe,value:"<eof>",line:s,lineStart:c,range:[h,h]};var t=b.charCodeAt(h),i=b.charCodeAt(h+1);if(u=h,je(t))return d();switch(t){case 39:case 34:return g();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r();case 46:return me(i)?r():i===46?b.charCodeAt(h+2)===46?f():a(".."):a(".");case 61:return a(i===61?"==":"=");case 62:return J.bitwiseOperators&&i===62?a(">>"):a(i===61?">=":">");case 60:return J.bitwiseOperators&&i===60?a("<<"):a(i===61?"<=":"<");case 126:if(i===61)return a("~=");if(!J.bitwiseOperators)break;return a("~");case 58:return J.labels&&i===58?a("::"):a(":");case 91:return i===91||i===61?n():a("[");case 47:return J.integerDivision&&i===47?a("//"):a("/");case 38:case 124:if(!J.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return a(b.charAt(h))}return Ee(b.charAt(h))}function e(){var t=b.charCodeAt(h),i=b.charCodeAt(h+1);return Ve(t)?(t===10&&i===13&&++h,t===13&&i===10&&++h,++s,c=++h,!0):!1}function p(){for(;h<ie;){var t=b.charCodeAt(h);if(Me(t))++h;else if(!e())break}}function d(){for(var t,i;He(b.charCodeAt(++h)););return t=Q.fixup(b.slice(u,h)),ze(t)?i=he:t==="true"||t==="false"?(i=ve,t=t==="true"):t==="nil"?(i=be,t=null):i=ce,{type:i,value:t,line:s,lineStart:c,range:[u,h]}}function a(t){return h+=t.length,{type:Te,value:t,line:s,lineStart:c,range:[u,h]}}function f(){return h+=3,{type:Be,value:"...",line:s,lineStart:c,range:[u,h]}}function g(){for(var t=b.charCodeAt(h++),i=s,T=c,S=h,A=Q.discardStrings?null:"",j;j=b.charCodeAt(h++),t!==j;)if((h>ie||Ve(j))&&(A+=b.slice(S,h-1),D(null,q.unfinishedString,b.slice(u,h-1))),j===92){if(!Q.discardStrings){var Z=b.slice(S,h-1);A+=Q.fixup(Z)}var re=le();Q.discardStrings||(A+=re),S=h}return Q.discardStrings||(A+=Q.encodeByte(null),A+=Q.fixup(b.slice(S,h-1))),{type:pe,value:A,line:i,lineStart:T,lastLine:s,lastLineStart:c,range:[u,h]}}function n(){var t=s,i=c,T=z(!1);return T===!1&&D(G,q.expected,"[",Y(G)),{type:pe,value:Q.discardStrings?null:Q.fixup(T),line:t,lineStart:i,lastLine:s,lastLineStart:c,range:[u,h]}}function r(){var t=b.charAt(h),i=b.charAt(h+1),T=t==="0"&&"xX".indexOf(i||null)>=0?C():O(),S=o(),A=l();return A&&(S||T.hasFractionPart)&&D(null,q.malformedNumber,b.slice(u,h)),{type:Le,value:T.value,line:s,lineStart:c,range:[u,h]}}function o(){if(J.imaginaryNumbers)return"iI".indexOf(b.charAt(h)||null)>=0?(++h,!0):!1}function l(){if(J.integerSuffixes){if("uU".indexOf(b.charAt(h)||null)>=0)if(++h,"lL".indexOf(b.charAt(h)||null)>=0){if(++h,"lL".indexOf(b.charAt(h)||null)>=0)return++h,"ULL";D(null,q.malformedNumber,b.slice(u,h))}else D(null,q.malformedNumber,b.slice(u,h));else if("lL".indexOf(b.charAt(h)||null)>=0){if(++h,"lL".indexOf(b.charAt(h)||null)>=0)return++h,"LL";D(null,q.malformedNumber,b.slice(u,h))}}}function C(){var t=0,i=1,T=1,S,A,j,Z;for(Z=h+=2,ge(b.charCodeAt(h))||D(null,q.malformedNumber,b.slice(u,h));ge(b.charCodeAt(h));)++h;S=parseInt(b.slice(Z,h),16);var re=!1;if(b.charAt(h)==="."){for(re=!0,A=++h;ge(b.charCodeAt(h));)++h;t=b.slice(A,h),t=A===h?0:parseInt(t,16)/Math.pow(16,h-A)}var $e=!1;if("pP".indexOf(b.charAt(h)||null)>=0){for($e=!0,++h,"+-".indexOf(b.charAt(h)||null)>=0&&(T=b.charAt(h++)==="+"?1:-1),j=h,me(b.charCodeAt(h))||D(null,q.malformedNumber,b.slice(u,h));me(b.charCodeAt(h));)++h;i=b.slice(j,h),i=Math.pow(2,i*T)}return{value:(S+t)*i,hasFractionPart:re||$e}}function O(){for(;me(b.charCodeAt(h));)++h;var t=!1;if(b.charAt(h)===".")for(t=!0,++h;me(b.charCodeAt(h));)++h;var i=!1;if("eE".indexOf(b.charAt(h)||null)>=0)for(i=!0,++h,"+-".indexOf(b.charAt(h)||null)>=0&&++h,me(b.charCodeAt(h))||D(null,q.malformedNumber,b.slice(u,h));me(b.charCodeAt(h));)++h;return{value:parseFloat(b.slice(u,h)),hasFractionPart:t||i}}function H(){var t=h++;for(b.charAt(h++)!=="{"&&D(null,q.braceExpected,"{","\\"+b.slice(t,h)),ge(b.charCodeAt(h))||D(null,q.hexadecimalDigitExpected,"\\"+b.slice(t,h));b.charCodeAt(h)===48;)++h;for(var i=h;ge(b.charCodeAt(h));)++h,h-i>6&&D(null,q.tooLargeCodepoint,"\\"+b.slice(t,h));var T=b.charAt(h++);T!=="}"&&(T==='"'||T==="'"?D(null,q.braceExpected,"}","\\"+b.slice(t,h--)):D(null,q.hexadecimalDigitExpected,"\\"+b.slice(t,h)));var S=parseInt(b.slice(i,h-1)||"0",16),A="\\"+b.slice(t,h);return S>1114111&&D(null,q.tooLargeCodepoint,A),Q.encodeUTF8(S,A)}function le(){var t=h;switch(b.charAt(h)){case"a":return++h,"\x07";case"n":return++h,`
`;case"r":return++h,"\r";case"t":return++h,"	";case"v":return++h,"\v";case"b":return++h,"\b";case"f":return++h,"\f";case"\r":case`
`:return e(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;me(b.charCodeAt(h))&&h-t<3;)++h;var i=b.slice(t,h),T=parseInt(i,10);return T>255&&D(null,q.decimalEscapeTooLarge,"\\"+T),Q.encodeByte(T,"\\"+i);case"z":if(J.skipWhitespaceEscape)return++h,p(),"";break;case"x":if(J.hexEscapes){if(ge(b.charCodeAt(h+1))&&ge(b.charCodeAt(h+2)))return h+=3,Q.encodeByte(parseInt(b.slice(t+1,h),16),"\\"+b.slice(t,h));D(null,q.hexadecimalDigitExpected,"\\"+b.slice(t,h+2))}break;case"u":if(J.unicodeEscapes)return H();break;case"\\":case'"':case"'":return b.charAt(h++)}return J.strictEscapes&&D(null,q.invalidEscape,"\\"+b.slice(t,h+1)),b.charAt(h++)}function fe(){u=h,h+=2;var t=b.charAt(h),i="",T=!1,S=h,A=c,j=s;if(t==="["&&(i=z(!0),i===!1?i=t:T=!0),!T){for(;h<ie&&!Ve(b.charCodeAt(h));)++h;B.comments&&(i=b.slice(S,h))}if(B.comments){var Z=x.comment(i,b.slice(u,h));B.locations&&(Z.loc={start:{line:j,column:u-A},end:{line:s,column:h-c}}),B.ranges&&(Z.range=[u,h]),B.onCreateNode&&B.onCreateNode(Z),k.push(Z)}}function z(t){var i=0,T="",S=!1,A,j,Z=s;for(++h;b.charAt(h+i)==="=";)++i;if(b.charAt(h+i)!=="[")return!1;for(h+=i+1,Ve(b.charCodeAt(h))&&e(),j=h;h<ie;){for(;Ve(b.charCodeAt(h));)e();if(A=b.charAt(h++),A==="]"){S=!0;for(var re=0;re<i;++re)b.charAt(h+re)!=="="&&(S=!1);b.charAt(h+i)!=="]"&&(S=!1)}if(S)return T+=b.slice(j,h-1),h+=i+1,T}D(null,t?q.unfinishedLongComment:q.unfinishedLongString,Z,"<eof>")}function V(){oe=G,G=N,N=m()}function P(t){return t===G.value?(V(),!0):!1}function X(t){t===G.value?V():D(G,q.expected,t,Y(G))}function Me(t){return t===9||t===32||t===11||t===12}function Ve(t){return t===10||t===13}function me(t){return t>=48&&t<=57}function ge(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function je(t){return!!(t>=65&&t<=90||t>=97&&t<=122||t===95||J.extendedIdentifiers&&t>=128)}function He(t){return!!(t>=65&&t<=90||t>=97&&t<=122||t===95||t>=48&&t<=57||J.extendedIdentifiers&&t>=128)}function ze(t){switch(t.length){case 2:return t==="do"||t==="if"||t==="in"||t==="or";case 3:return t==="and"||t==="end"||t==="for"||t==="not";case 4:return t==="else"||t==="then"?!0:J.labels&&!J.contextualGoto?t==="goto":!1;case 5:return t==="break"||t==="local"||t==="until"||t==="while";case 6:return t==="elseif"||t==="repeat"||t==="return";case 8:return t==="function"}return!1}function Je(t){return Te===t.type?"#-~".indexOf(t.value)>=0:he===t.type?t.value==="not":!1}function Ze(t){if(Fe===t.type)return!0;if(he!==t.type)return!1;switch(t.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var ke,Ce,Ie;function _(){var t=ke[Ce++].slice();ke.push(t),B.onCreateScope&&B.onCreateScope()}function E(){ke.pop(),--Ce,B.onDestroyScope&&B.onDestroyScope()}function L(t){B.onLocalDeclaration&&B.onLocalDeclaration(t),Ne(ke[Ce],t)===-1&&ke[Ce].push(t)}function y(t){L(t.name),w(t,!0)}function w(t,i){!i&&qe(Ie,"name",t.name)===-1&&Ie.push(t),t.isLocal=i}function R(t){return Ne(ke[Ce],t)!==-1}var F=[],v;function I(){return new $(G)}function $(t){B.locations&&(this.loc={start:{line:t.line,column:t.range[0]-t.lineStart},end:{line:0,column:0}}),B.ranges&&(this.range=[t.range[0],0])}$.prototype.complete=function(){B.locations&&(this.loc.end.line=oe.lastLine||oe.line,this.loc.end.column=oe.range[1]-(oe.lastLineStart||oe.lineStart)),B.ranges&&(this.range[1]=oe.range[1])},$.prototype.bless=function(t){if(this.loc){var i=this.loc;t.loc={start:{line:i.start.line,column:i.start.column},end:{line:i.end.line,column:i.end.column}}}this.range&&(t.range=[this.range[0],this.range[1]])};function K(){v&&F.push(I())}function M(t){v&&F.push(t)}function ae(){this.scopes=[],this.pendingGotos=[]}ae.prototype.isInLoop=function(){for(var t=this.scopes.length;t-- >0;)if(this.scopes[t].isLoop)return!0;return!1},ae.prototype.pushScope=function(t){var i={labels:{},locals:[],deferredGotos:[],isLoop:!!t};this.scopes.push(i)},ae.prototype.popScope=function(){for(var t=0;t<this.pendingGotos.length;++t){var i=this.pendingGotos[t];i.maxDepth>=this.scopes.length&&--i.maxDepth<=0&&D(i.token,q.labelNotVisible,i.target)}this.scopes.pop()},ae.prototype.addGoto=function(t,i){for(var T=[],S=0;S<this.scopes.length;++S){var A=this.scopes[S];if(T.push(A.locals.length),Object.prototype.hasOwnProperty.call(A.labels,t))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:t,token:i,localCounts:T})},ae.prototype.addLabel=function(t,i){var T=this.currentScope();if(Object.prototype.hasOwnProperty.call(T.labels,t))D(i,q.labelAlreadyDefined,t,T.labels[t].line);else{for(var S=[],A=0;A<this.pendingGotos.length;++A){var j=this.pendingGotos[A];if(j.maxDepth>=this.scopes.length&&j.target===t){j.localCounts[this.scopes.length-1]<T.locals.length&&T.deferredGotos.push(j);continue}S.push(j)}this.pendingGotos=S}T.labels[t]={localCount:T.locals.length,line:i.line}},ae.prototype.addLocal=function(t,i){this.currentScope().locals.push({name:t,token:i})},ae.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},ae.prototype.raiseDeferredErrors=function(){for(var t=this.currentScope(),i=t.deferredGotos,T=0;T<i.length;++T){var S=i[T];D(S.token,q.gotoJumpInLocalScope,S.target,t.locals[S.localCounts[this.scopes.length-1]].name)}};function W(){this.level=0,this.loopLevels=[]}W.prototype.isInLoop=function(){return!!this.loopLevels.length},W.prototype.pushScope=function(t){++this.level,t&&this.loopLevels.push(this.level)},W.prototype.popScope=function(){var t=this.loopLevels,i=t.length;i&&t[i-1]===this.level&&t.pop(),--this.level},W.prototype.addGoto=W.prototype.addLabel=function(){throw new Error("This should never happen")},W.prototype.addLocal=W.prototype.raiseDeferredErrors=function(){};function ue(){return J.labels?new ae:new W}function _e(){V(),K(),B.scope&&_();var t=ue();t.allowVararg=!0,t.pushScope();var i=ee(t);return t.popScope(),B.scope&&E(),Fe!==G.type&&Ee(G),v&&!i.length&&(oe=G),U(x.chunk(i))}function ee(t){for(var i=[],T;!Ze(G);){if(G.value==="return"||!J.relaxedBreak&&G.value==="break"){i.push(ln(t));break}T=ln(t),P(";"),T&&i.push(T)}return i}function ln(t){if(K(),Te===G.type&&P("::"))return pn(t);if(J.emptyStatement&&P(";")){v&&F.pop();return}if(t.raiseDeferredErrors(),he===G.type)switch(G.value){case"local":return V(),Sn(t);case"if":return V(),kn(t);case"return":return V(),gn(t);case"function":V();var i=bn();return Xe(i);case"while":return V(),mn(t);case"for":return V(),_n(t);case"repeat":return V(),yn(t);case"break":return V(),t.isInLoop()||D(G,q.noLoopToBreak,G.value),Tn();case"do":return V(),hn(t);case"goto":return V(),an(t)}return J.contextualGoto&&G.type===ce&&G.value==="goto"&&N.type===ce&&N.value!=="goto"?(V(),an(t)):(v&&F.pop(),Ln(t))}function pn(t){var i=G,T=se();return B.scope&&(L("::"+i.value+"::"),w(T,!0)),X("::"),t.addLabel(i.value,i),U(x.labelStatement(T))}function Tn(){return U(x.breakStatement())}function an(t){var i=G.value,T=oe,S=se();return t.addGoto(i,T),U(x.gotoStatement(S))}function hn(t){B.scope&&_(),t.pushScope();var i=ee(t);return t.popScope(),B.scope&&E(),X("end"),U(x.doStatement(i))}function mn(t){var i=te(t);X("do"),B.scope&&_(),t.pushScope(!0);var T=ee(t);return t.popScope(),B.scope&&E(),X("end"),U(x.whileStatement(i,T))}function yn(t){B.scope&&_(),t.pushScope(!0);var i=ee(t);X("until"),t.raiseDeferredErrors();var T=te(t);return t.popScope(),B.scope&&E(),U(x.repeatStatement(T,i))}function gn(t){var i=[];if(G.value!=="end"){var T=We(t);for(T!=null&&i.push(T);P(",");)T=te(t),i.push(T);P(";")}return U(x.returnStatement(i))}function kn(t){var i=[],T,S,A;for(v&&(A=F[F.length-1],F.push(A)),T=te(t),X("then"),B.scope&&_(),t.pushScope(),S=ee(t),t.popScope(),B.scope&&E(),i.push(U(x.ifClause(T,S))),v&&(A=I());P("elseif");)M(A),T=te(t),X("then"),B.scope&&_(),t.pushScope(),S=ee(t),t.popScope(),B.scope&&E(),i.push(U(x.elseifClause(T,S))),v&&(A=I());return P("else")&&(v&&(A=new $(oe),F.push(A)),B.scope&&_(),t.pushScope(),S=ee(t),t.popScope(),B.scope&&E(),i.push(U(x.elseClause(S)))),X("end"),U(x.ifStatement(i))}function _n(t){var i=se(),T;if(B.scope&&(_(),y(i)),P("=")){var S=te(t);X(",");var A=te(t),j=P(",")?te(t):null;return X("do"),t.pushScope(!0),T=ee(t),t.popScope(),X("end"),B.scope&&E(),U(x.forNumericStatement(i,S,A,j,T))}else{for(var Z=[i];P(",");)i=se(),B.scope&&y(i),Z.push(i);X("in");var re=[];do{var $e=te(t);re.push($e)}while(P(","));return X("do"),t.pushScope(!0),T=ee(t),t.popScope(),X("end"),B.scope&&E(),U(x.forGenericStatement(Z,re,T))}}function Sn(t){var i,T=oe;if(ce===G.type){var S=[],A=[];do i=se(),S.push(i),t.addLocal(i.name,T);while(P(","));if(P("="))do{var j=te(t);A.push(j)}while(P(","));if(B.scope)for(var Z=0,re=S.length;Z<re;++Z)y(S[Z]);return U(x.localStatement(S,A))}if(P("function"))return i=se(),t.addLocal(i.name,T),B.scope&&(y(i),_()),Xe(i,!0);de("<name>",G)}function Ln(t){var i,T,S,A,j,Z=[];v&&(T=I());do{if(v&&(i=I()),ce===G.type)j=G.value,A=se(),B.scope&&w(A,R(j)),S=!0;else if(G.value==="(")V(),A=te(t),X(")"),S=!1;else return Ee(G);e:for(;;){switch(pe===G.type?'"':G.value){case".":case"[":S=!0;break;case":":case"(":case"{":case'"':S=null;break;default:break e}A=sn(A,i,t)}if(Z.push(A),G.value!==",")break;if(!S)return Ee(G);V()}while(!0);if(Z.length===1&&S===null)return M(i),U(x.callStatement(Z[0]));if(!S)return Ee(G);X("=");var re=[];do re.push(te(t));while(P(","));return M(T),U(x.assignmentStatement(Z,re))}function se(){K();var t=G.value;return ce!==G.type&&de("<name>",G),V(),U(x.identifier(t))}function Xe(t,i){var T=ue();T.pushScope();var S=[];if(X("("),!P(")"))for(;;){if(ce===G.type){var A=se();if(B.scope&&y(A),S.push(A),P(","))continue}else Be===G.type?(T.allowVararg=!0,S.push(en(T))):de("<name> or '...'",G);X(")");break}var j=ee(T);return T.popScope(),X("end"),B.scope&&E(),i=i||!1,U(x.functionStatement(t,S,i,j))}function bn(){var t,i,T;for(v&&(T=I()),t=se(),B.scope&&(w(t,R(t.name)),_());P(".");)M(T),i=se(),t=U(x.memberExpression(t,".",i));return P(":")&&(M(T),i=se(),t=U(x.memberExpression(t,":",i)),B.scope&&L("self")),t}function un(t){for(var i=[],T,S;;){if(K(),Te===G.type&&P("["))T=te(t),X("]"),X("="),S=te(t),i.push(U(x.tableKey(T,S)));else if(ce===G.type)N.value==="="?(T=se(),V(),S=te(t),i.push(U(x.tableKeyString(T,S)))):(S=te(t),i.push(U(x.tableValue(S))));else{if((S=We(t))==null){F.pop();break}i.push(U(x.tableValue(S)))}if(",;".indexOf(G.value)>=0){V();continue}break}return X("}"),U(x.tableConstructorExpression(i))}function We(t){var i=Qe(0,t);return i}function te(t){var i=We(t);if(i==null)de("<expression>",G);else return i}function En(t){var i=t.charCodeAt(0),T=t.length;if(T===1)switch(i){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(T===2)switch(i){case 47:return 10;case 46:return 8;case 60:case 62:return t==="<<"||t===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(i===97&&t==="and")return 2;return 0}function Qe(t,i){var T=G.value,S,A;if(v&&(A=I()),Je(G)){K(),V();var j=Qe(10,i);j==null&&de("<expression>",G),S=U(x.unaryExpression(T,j))}if(S==null&&(S=en(i),S==null&&(S=Cn(i))),S==null)return null;for(var Z;T=G.value,Z=Te===G.type||he===G.type?En(T):0,!(Z===0||Z<=t);){(T==="^"||T==="..")&&--Z,V();var re=Qe(Z,i);re==null&&de("<expression>",G),v&&F.push(A),S=U(x.binaryExpression(T,S,re))}return S}function sn(t,i,T){var S,A;if(Te===G.type)switch(G.value){case"[":return M(i),V(),S=te(T),X("]"),U(x.indexExpression(t,S));case".":return M(i),V(),A=se(),U(x.memberExpression(t,".",A));case":":return M(i),V(),A=se(),t=U(x.memberExpression(t,":",A)),M(i),Ye(t,T);case"(":case"{":return M(i),Ye(t,T)}else if(pe===G.type)return M(i),Ye(t,T);return null}function Cn(t){var i,T,S;if(v&&(S=I()),ce===G.type)T=G.value,i=se(),B.scope&&w(i,R(T));else if(P("("))i=te(t),X(")");else return null;for(;;){var A=sn(i,S,t);if(A===null)break;i=A}return i}function Ye(t,i){if(Te===G.type)switch(G.value){case"(":J.emptyStatement||G.line!==oe.line&&D(null,q.ambiguousSyntax,G.value),V();var T=[],S=We(i);for(S!=null&&T.push(S);P(",");)S=te(i),T.push(S);return X(")"),U(x.callExpression(t,T));case"{":K(),V();var A=un(i);return U(x.tableCallExpression(t,A))}else if(pe===G.type)return U(x.stringCallExpression(t,en(i)));de("function arguments",G)}function en(t){var i=pe|Le|ve|be|Be,T=G.value,S=G.type,A;if(v&&(A=I()),S===Be&&!t.allowVararg&&D(G,q.cannotUseVararg,G.value),S&i){M(A);var j=b.slice(G.range[0],G.range[1]);return V(),U(x.literal(S,T,j))}else{if(he===S&&T==="function")return M(A),V(),B.scope&&_(),Xe(null);if(P("{"))return M(A),un(t)}}ne.parse=wn;var fn={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function wn(t,i){if(typeof i>"u"&&typeof t=="object"&&(i=t,t=void 0),i||(i={}),b=t||"",B=Ge({},Oe,i),h=0,s=1,c=0,ie=b.length,ke=[[]],Ce=0,Ie=[],F=[],!Object.prototype.hasOwnProperty.call(fn,B.luaVersion))throw new Error(Ae("Lua version '%1' not supported",B.luaVersion));if(J=Ge({},fn[B.luaVersion]),B.extendedIdentifiers!==void 0&&(J.extendedIdentifiers=!!B.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(Ue,B.encodingMode))throw new Error(Ae("Encoding mode '%1' not supported",B.encodingMode));return Q=Ue[B.encodingMode],B.comments&&(k=[]),B.wait?ne:dn()}ne.write=cn;function cn(t){return b+=String(t),ie=b.length,ne}ne.end=dn;function dn(t){typeof t<"u"&&cn(t),b&&b.substr(0,2)==="#!"&&(b=b.replace(/^.*/,function(T){return T.replace(/./g," ")})),ie=b.length,v=B.locations||B.ranges,N=m();var i=_e();if(B.comments&&(i.comments=k),B.scope&&(i.globals=Ie),F.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return i}})})(Ke,Ke.exports);var vn=Ke.exports;const Gn=Fn(vn);var tn={},rn={exports:{}};rn.exports;(function(Se){function Pe(N){for(var k=0,u=N.length;u--;)k+=N.charCodeAt(u),k+=k<<10,k^=k>>6;return k+=k<<3,k^=k>>11,k+=k<<15,k}const ne=console.log,b=function(N,k){if(!N)throw k};function B(N,k){if(!N)return 0;var u=N.toString().split(".");return u.length>1?parseInt(u[0],k)+parseInt(u[1],k)/Math.pow(k,u[1].length):parseInt(u[0],k)}let ie=[" ",`
`,"	","\r"],J={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const Q=new Proxy(J,{get(N,k){return B(k)}});let Oe=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Re=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],we=["0","1","2","3","4","5","6","7","8","9"],xe=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],Ue=["0","1"],Fe=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],pe=["~","=",">","<"],he=["+","-","*","/","^","..","%","//"],ce=["+=","-=","*=","/=","^=","..=","%=","//="],Le=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],Te=["else","elseif","until","end"],ve=["-","not","#","~"],be=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],Be=11,q={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function x(N){let k=0,u=N.length,s=[];function c(n){return n=n||0,k<=u?N.substr(k+n,1):""}function m(){if(k<=u){let n=N.substr(k,1);return k++,n}else return""}function e(n){let r=0,o=1,l=1;for(;r<=k;)N.substr(r,1)==`
`?(o++,l=1):l++;let C;for(C=0;C<s.length;C++){let O=s[C];ne(`${O.Type}<${O.Source}>`)}throw`file<${o}:${l}>: ${n}`}function p(n){for(;;){let r=m();if(r=="")e("Unfinished long string.");else if(r=="]"){let o=!0,l;for(l=1;l<=n;l++)if(c()=="=")k++;else{o=!1;break}if(o&&m()=="]")return}}}function d(){let n=k;for(;c()=="=";)k++;if(c()=="[")return k++,k-n-1;k=n}let a=0,f=0;function g(n){let r=N.substr(f,k-f),o=null;n=="Number"&&(r.substr(0,2).toLowerCase()=="0x"?(o="hex",parseInt(r,16)<999999999999&&(r=parseInt(r,16))):r.substr(0,2).toLowerCase()=="0b"&&(o="bin",parseInt(r.substr(2),2)<999999999999&&(r=parseInt(r.substr(2),2))));let l={Type:n,LeadingWhite:N.substr(a,f-a),Source:r};return o!==null&&(l.NType=o),s.push(l),a=k,f=k,l}for(;;){for(a=k;;){let r=c();if(r=="")break;if(r=="-")if(c(1)=="-")if(k+=2,c()=="["){k++;let o=d();if(o!=null)p(o),a=k;else for(;;){let l=m();if(l==""||l==`
`)break}}else for(;;){let o=m();if(o==""||o==`
`)break}else break;else if(ie.includes(r))k++;else break}N.substr(a,k-a),f=k;let n=m();if(n==""){g("Eof");break}else if(n=="'"||n=='"'){for(;;){let r=m();if(r=="\\"){let o=m();if(Q[o]==null)throw`Invalid Escape Sequence \`${o}\`.`}else{if(r==n)break;if(r=="")throw"Unfinished string!"}}g("String")}else if(n=="`"){for(;;){let r=m();if(r=="\\"){let o=m();if(Q[o]==null)throw`Invalid Escape Sequence \`${o}\`.`}else{if(r==n)break;if(r=="")throw"Unfinished string!"}}g("Hash")}else if(Oe.includes(n)){for(;Re.includes(c());)k++;Le.includes(N.substr(f,k-f))?g("Keyword"):g("Ident")}else if(we.includes(n)||n=="."&&we.includes(c())){if(n=="0"&&c().toLowerCase()=="x")for(k++;xe.includes(c())||c()==="_";)k++;else if(n=="0"&&c().toLowerCase()=="b")for(k++;Ue.includes(c())||c()==="_";)k++;else{for(;we.includes(c())||c()==="_";)k++;if(c()==".")for(k++;we.includes(c());)k++;if(c()=="e"||c()=="E")for(k++,(c()=="-"||c()=="+")&&k++;we.includes(c());)k++}g("Number")}else if(n=="["){let r=d();r!=null?(p(r),g("String")):g("Symbol")}else if(n==".")c()=="."&&(m(),(c()=="."||c()=="=")&&m()),g("Symbol");else if(n+c()=="//")m(),c()=="="&&m(),g("Symbol");else if(n+c()=="::")m(),g("Symbol");else if(be.includes(n+c()))m(),g("Symbol");else if(pe.includes(n))c()=="="&&k++,g("Symbol");else if(he.includes(n)&&c()=="=")m(),g("Symbol");else if(Fe.includes(n))g("Symbol");else throw`Bad symbol \`${n}\` in source. ${k}`}return s}function U(N){let k=x(N),u=0;function s(){let _=k[u];return u<k.length&&u++,_}function c(_){return _=u+(_||0),k[_]||k[k.length-1]}function m(_){let E=1,L=0,y=0;for(;;){let w=k[y],R;w==_?R=w.LeadingWhite:R=w.LeadingWhite+w.Source;let F;for(F=0;F<=R.length;F++)R.substr(F,1)==`
`?(E++,L=0):L++;if(w==_)break;y++}return`${E}:${L+1}`}function e(){let _=c();return`<${_.Type} \`${_.Source}\`> at: ${m(_)}`}function p(){let _=c();return _.Type=="Eof"||_.Type=="Keyword"&&Te.includes(_.Source)}function d(){return ve.includes(c().Source)||!1}function a(){return be.includes(c().Source)||!1}function f(_,E){let L=c();if(L.Type==_&&(E==null||L.Source==E))return s();{let y;for(y=-3;y<=3;y++)ne(`Tokens[${y}] = \`${c(y).Source}\``);throw E?`${m(L)}: \`${E}\` expected.`:`${m(L)}: ${_} expected.`}}function g(_){let E=_.GetFirstToken,L=_.GetLastToken,y=_;return _.GetFirstToken=function(){let w=E(y);return b(w),w},_.GetLastToken=function(){let w=L(y);return b(w),w},_}let n,r;function o(_,E){let L=[r(_,E)],y=[];for(;c().Source==",";)y.push(s()),L.push(r(_,E));return[L,y]}function l(_,E){var y,w,R,F;let L=c();if(L.Source=="("){let v=s(),I=r(_,E),$=f("Symbol",")"),K;return K=g({Type:"ParenExpr",Expression:I,Token_OpenParen:v,Token_CloseParen:$,GetFirstToken:()=>K.Token_OpenParen,GetLastToken:()=>K.Token_CloseParen}),K}else if(L.Type=="Ident"){let v;return v=g({Type:"VariableExpr",Token:s(),GetFirstToken:()=>v.Token,GetLastToken:()=>v.Token}),_[v.Token.Source]!=null&&((w=(y=_[v.Token.Source])==null?void 0:y.Tokens)==null?void 0:w.push)!=null?(_[v.Token.Source].Tokens.push(v.Token),_[v.Token.Source].UseCountIncrease()):E[v.Token.Source]!=null&&((F=(R=E[v.Token.Source])==null?void 0:R.Tokens)==null?void 0:F.push)!=null&&(E[v.Token.Source].Tokens.push(v.Token),E[v.Token.Source].UseCountIncrease()),v}else throw ne(e()),`${m(L)}: Unexpected symbol. ${L.Type} ${L.Source}`}function C(_,E){let L=f("Symbol","{"),y=[],w=[];for(;c().Source!="}";){if(c().Source=="["){let v=s(),I=r(_,E),$=f("Symbol","]"),K=f("Symbol","="),M=r(_,E);I.Token&&I.Token.Source,y.push({EntryType:"Index",Index:I,Value:M,Token_OpenBracket:v,Token_CloseBracket:$,Token_Equals:K})}else if(c().Type=="Ident"&&c(1).Source=="="){let v=s(),I=s(),$=r(_,E);y.push({EntryType:"Field",Field:v,Value:$,Token_Equals:I})}else{let v=r(_,E);y.push({EntryType:"Value",Value:v})}if(c().Source==","||c().Source==";")w.push(s());else break}let R=f("Symbol","}"),F;return F=g({Type:"TableLiteral",EntryList:y,Token_SeperatorList:w,Token_OpenBrace:L,Token_CloseBrace:R,GetFirstToken:()=>F.Token_OpenBrace,GetLastToken:()=>F.Token_CloseBrace}),F}function O(_,E){let L=[],y=[];if(c().Type=="Ident"){let w=s();if(E&&c().Source=="<"&&c(2).Source==">"){let R=c(1).Source;w.Attribute={LeadingWhite:c().LeadingWhite,Source:`<${R}>`},s(),s(),s()}L.push(w)}else if(c().Source=="..."&&_)return[L,y,s()];for(;c().Source==",";){if(y.push(s()),c().Source=="..."&&_)return[L,y,s()];{let w=f("Ident");if(E&&c().Source=="<"&&c(2).Source==">"){let R=c(1).Source;w.Attribute={LeadingWhite:c().LeadingWhite,Source:`<${R}>`},s(),s(),s()}L.push(w)}}return[L,y]}function H(_,E,L){let y=n(E,L),w=c();if(w.Type=="Keyword"&&w.Source==_)return s(),[y,w];throw ne(w.Type,w.Source),`${m(w)}: ${_} expected.`}function le(_,E,L,y){let w=s(),R,F;if(!_){R=[],F=[];let _e=f("Ident");for(R.push(_e);c().Source==".";)F.push(s()),R.push(f("Ident"));c().Source==":"&&(F.push(s()),R.push(f("Ident")))}let v=f("Symbol","("),[I,$,K]=O(!0),M=f("Symbol",")"),[ae,W]=H("end",E,L),ue;return ue=g({Type:_==!0?"FunctionLiteral":"FunctionStat",NameChain:R,ArgList:I,Body:ae,Token_Function:w,Token_NameChainSeperator:F,Token_OpenParen:v,Token_Varg:K,Token_ArgCommaList:$,Token_CloseParen:M,Token_End:W,GetFirstToken:()=>ue.Token_Function,GetLastToken:()=>ue.Token_End}),ue}function fe(_,E){let L=c();if(L.Source=="("){let y=s(),w=[],R=[];for(;c().Source!=")"&&(w.push(r(_,E)),c().Source==",");)R.push(s());let F=f("Symbol",")"),v;return v=g({CallType:"ArgCall",ArgList:w,Token_CommaList:R,Token_OpenParen:y,Token_CloseParen:F,GetFirstToken:()=>v.Token_OpenParen,GetLastToken:()=>v.Token_CloseParen}),v}else if(L.Source=="{"){let y;return y=g({CallType:"TableCall",TableExpr:r(_,E),GetFirstToken:()=>y.TableExpr.GetFirstToken(),GetLastToken:()=>y.TableExpr.GetLastToken()}),y}else if(L.Type=="String"){let y;return y=g({CallType:"StringCall",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else throw"Function arguments expected."}function z(_,E){let L=l(_,E);for(b(L,"nil prefixexpr");;){let y=c();if(y.Source=="."){let w=s(),R=f("Ident"),F;F=g({Type:"FieldExpr",Base:L,Field:R,Token_Dot:w,GetFirstToken:()=>F.Base.GetFirstToken(),GetLastToken:()=>F.Field}),L=F}else if(y.Source==":"){let w=s(),R=f("Ident"),F=fe(_,E),v;v=g({Type:"MethodExpr",Base:L,Method:R,FunctionArguments:F,Token_Colon:w,GetFirstToken:()=>v.Base.GetFirstToken(),GetLastToken:()=>v.FunctionArguments.GetLastToken()}),L=v}else if(y.Source=="["){let w=s(),R=r(_,E),F=f("Symbol","]"),v;v=g({Type:"IndexExpr",Base:L,Index:R,Token_OpenBracket:w,Token_CloseBracket:F,GetFirstToken:()=>v.Base.GetFirstToken(),GetLastToken:()=>v.Token_CloseBracket}),L=v}else if(y.Source=="{"||y.Source=="("||y.Type=="String"){let w;w=g({Type:"CallExpr",Base:L,FunctionArguments:fe(_,E),GetFirstToken:()=>w.Base.GetFirstToken(),GetLastToken:()=>w.FunctionArguments.GetLastToken()}),L=w}else if(ce.includes(y.Source)){let w=s(),R=r(_,E),F;F=g({Type:"CompoundStat",Base:L,Token_Compound:w,Rhs:R,Lhs:L,GetFirstToken:()=>F.Base.GetFirstToken(),GetLastToken:()=>F.Rhs.GetLastToken()}),L=F}else return L}}function V(_,E){let L=c();if(L.Type=="Number"){let y;return y=g({Type:"NumberLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else if(L.Type=="String"){let y;return y=g({Type:"StringLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else if(L.Type=="Hash"){let y;return y=g({Type:"HashLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else if(L.Source=="nil"){let y;return y=g({Type:"NilLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else if(L.Source=="true"||L.Source=="false"){let y;return y=g({Type:"BooleanLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else if(L.Source=="..."){let y;return y=g({Type:"VargLiteral",Token:s(),GetFirstToken:()=>y.Token,GetLastToken:()=>y.Token}),y}else return L.Source=="{"?C(_,E):L.Source=="function"?le(!0,_,E):z(_,E)}function P(_,E,L){let y;if(d()){let w=s(),R=P(Be,E,L),F;F=g({Type:"UnopExpr",Token_Op:w,Rhs:R,GetFirstToken:()=>F.Token_Op,GetLastToken:()=>F.Rhs.GetLastToken()}),y=F}else y=V(E,L),b(y,"nil sipleexpr");for(;a()&&q[c().Source]!=null&&q[c().Source][0]>_;){let w=s(),R=P(q[w.Source][1],E,L);b(R,"RhsNeeded");let F;F=g({Type:"BinopExpr",Lhs:y,Rhs:R,Token_Op:w,GetFirstToken:()=>F.Lhs.GetFirstToken(),GetLastToken:()=>F.Rhs.GetLastToken()}),y=F}return y}r=(_,E)=>P(0,_,E);function X(_,E){let L=z(_,E);if(L.Type=="MethodExpr"||L.Type=="CallExpr"){let y;return y=g({Type:"CallExprStat",Expression:L,GetFirstToken:()=>y.Expression.GetFirstToken(),GetLastToken:()=>y.Expression.GetLastToken()}),y}else{if(L.Type=="CompoundStat")return L;{let y=[L],w=[];for(;c().Source==",";){w.push(s());let $=z(_,E);if($.Type=="MethodExpr"||$.Type=="CallExpr")throw"Bad left hand side of asignment";y.push($)}let R=f("Symbol","="),F=[r(_,E)],v=[];for(;c().Source==",";)v.push(s()),F.push(r(_,E));let I;return I=g({Type:"AssignmentStat",Rhs:F,Lhs:y,Token_Equals:R,Token_LhsSeperatorList:w,Token_RhsSeperatorList:v,GetFirstToken:()=>I.Lhs[0].GetFirstToken(),GetLastToken:()=>I.Rhs[I.Rhs.length-1].GetLastToken()}),I}}}function Me(_,E){let L=s(),y=r(_,E),w=f("Keyword","then"),R=n(_,E),F=[];for(;c().Source=="elseif"||c().Source=="else";){let $=s(),K,M;$.Source=="elseif"&&(K=r(_,E),M=f("Keyword","then"));let ae=n(_,E);if(F.push({Condition:K,Body:ae,ClauseType:$.Source,Token:$,Token_Then:M}),$.Source=="else")break}let v=f("Keyword","end"),I;return I=g({Type:"IfStat",Condition:y,Body:R,ElseClauseList:F,Token_If:L,Token_Then:w,Token_End:v,GetFirstToken:()=>I.Token_If,GetLastToken:()=>I.Token_End}),I}function Ve(_,E){let L=s(),[y,w]=H("end",_,E),R;return R=g({Type:"DoStat",Body:y,Token_Do:L,Token_End:w,GetFirstToken:()=>R.Token_Do,GetLastToken:()=>R.Token_End}),R}function me(_,E){let L=s(),y=r(_,E),w=f("Keyword","do"),[R,F]=H("end",_,E),v;return v=g({Type:"WhileStat",Condition:y,Body:R,Token_While:L,Token_Do:w,Token_End:F,GetFirstToken:()=>v.Token_While,GetLastToken:()=>v.Token_End}),v}function ge(_,E){let L=s(),[y,w]=O();if(c().Source=="="){let R=s(),[F,v]=o(_,E);if(F.length<2||F.length>3)throw"Expected 2 or 3 values for range bounds";let I=f("Keyword","do"),[$,K]=H("end",_,E),M;return M=g({Type:"NumericForStat",VarList:y,RangeList:F,Body:$,Token_For:L,Token_VarCommaList:w,Token_Equals:R,Token_RangeCommaList:v,Token_Do:I,Token_End:K,GetFirstToken:()=>M.Token_For,GetLastToken:()=>M.Token_End}),M}else if(c().Source=="in"){let R=s(),[F,v]=o(_,E),I=f("Keyword","do"),[$,K]=H("end",_,E),M;return M=g({Type:"GenericForStat",VarList:y,GeneratorList:F,Body:$,Token_For:L,Token_VarCommaList:w,Token_In:R,Token_GeneratorCommaList:v,Token_Do:I,Token_End:K,GetFirstToken:()=>M.Token_For,GetLastToken:()=>M.Token_End}),M}}function je(_,E){let L=s(),[y,w]=H("until",_),R=r(_,E),F;return F=g({Type:"RepeatStat",Body:y,Condition:R,Token_Repeat:L,Token_Until:w,GetFirstToken:()=>F.Token_Repeat,GetLastToken:()=>F.Condition.GetLastToken()}),F}function He(_,E){let L=s();if(c().Source=="function"){let y=le(!1,_,E);if(y.NameChain.length>1)throw m(y.Token_NameChainSeperator[0])+": `(` expected.";let w;return w=g({Type:"LocalFunctionStat",FunctionStat:y,Token_Local:L,GetFirstToken:()=>w.Token_Local,GetLastToken:()=>w.FunctionStat.GetLastToken()}),w}else if(c().Type=="Ident"){let[y,w]=O(!1,!0),R=[],F=[],v;if(c().Source=="="){v=s();let[$,K]=o(_,E);R=$,F=K}let I;return I=g({Type:"LocalVarStat",VarList:y,ExprList:R,Token_Local:L,Token_Equals:v,Token_VarCommaList:w,Token_ExprCommaList:F,GetFirstToken:()=>I.Token_Local,GetLastToken:function(){return I.ExprList.length>0?I.ExprList[I.ExprList.length-1].GetLastToken():I.VarList[I.VarList.length-1]}}),I}else throw"`function` or ident expected"}function ze(_,E){let L=s(),y,w;p()||c().Source==";"?(y=[],w=[]):[y,w]=o(_,E);let R;return R={Type:"ReturnStat",ExprList:y,Token_Return:L,Token_CommaList:w,GetFirstToken:()=>R.Token_Return,GetLastToken:function(){return R.ExprList.length>0?R.ExprList[R.ExprList.length-1].GetLastToken():R.Token_Return}},R}function Je(_,E){let L=s(),y;return y={Type:"BreakStat",Token_Break:L,GetFirstToken:()=>y.Token_Break,GetLastToken:()=>y.Token_Break},y}function Ze(_,E){let L=s(),y;return y={Type:"ContinueStat",Token_Continue:L,GetFirstToken:()=>y.Token_Continue,GetLastToken:()=>y.Token_Continue},y}function ke(){let _=s(),E;c().Type=="Keyword"?E=f("Keyword"):E=f("Ident");let L;return L={Type:"GotoStat",Token_Goto:_,Token_Label:E,GetFirstToken:()=>L.Token_Goto,GetLastToken:()=>L.Token_Label},L}function Ce(){let _=s(),E;c().Type=="Keyword"?E=f("Keyword"):E=f("Ident");let L=f("Symbol","::"),y;return y={Type:"LabelStat",Token_ColonsLeft:_,Token_Label:E,Token_ColonsRight:L,GetFirstToken:()=>y.Token_ColonsLeft,GetLastToken:()=>y.Token_ColonsRight},y}function Ie(_,E){let L=c();return L.Source=="if"?[!1,Me(_,E)]:L.Source=="while"?[!1,me(_,E)]:L.Source=="do"?[!1,Ve(_,E)]:L.Source=="for"?[!1,ge(_,E)]:L.Source=="repeat"?[!1,je(_,E)]:L.Source=="function"?[!1,le(!1,_,E)]:L.Source=="local"?[!1,He(_,E)]:L.Source=="return"?[!0,ze(_,E)]:L.Source=="break"?[!0,Je()]:L.Source=="continue"?[!0,Ze()]:L.Source=="goto"?[!1,ke()]:L.Source=="::"?[!1,Ce()]:[!1,X(_,E)]}return n=function(_,E){let L=[],y=[],w={},R={};if(E!=null)for(let[$,K]of Object.entries(E))R[$]=K;if(_!=null)for(let[$,K]of Object.entries(_))R[$]=K;let F,v=0;for(;!p();){F&&F==c()&&ne(`INFINITE LOOP POSSIBLE ON STATEMENT ${F.Source} :`,F),F=c();let[$,K]=Ie(w,R);if(K)switch(L.push(K),K.Type){case"LocalVarStat":K.VarList.forEach(W=>{W.UseCount=0,W.Number=v++,w[W.Source]=W;let ue=[];function _e(){W.UseCount++,ue.forEach(ee=>{ee.UseCount=W.UseCount})}W.Tokens={},W.Tokens.push=ee=>{ee.UseCountIncrease=_e,ee.UseCount=W.UseCount,ee.Tokens=W.Tokens,ue.push(ee)},W.Tokens.get=()=>ue,W.UseCountIncrease=_e});break;case"LocalFunctionStat":let ae=K.FunctionStat.NameChain;if(ae.length===1){let _e=function(){W.UseCount++,ue.forEach(ee=>{ee.UseCount=W.UseCount})},W=ae[0];W.UseCount=0,W.Number=v++,w[W.Source]=W;let ue=[];W.Tokens={},W.Tokens.push=ee=>{ee.UseCountIncrease=_e,ee.UseCount=W.UseCount,ee.Tokens=W.Tokens,ue.push(ee)},W.Tokens.get=()=>ue,W.UseCountIncrease=_e}break}let M=c();M.Type=="Symbol"&&M.Source==";"&&(y[L.length-1]=s())}let I;return I={Type:"StatList",StatementList:L,SemicolonList:y,GetFirstToken:function(){var $;if(I.StatementList.length!=0)return($=I.StatementList[0])==null?void 0:$.GetFirstToken()},GetLastToken:function(){if(I.StatementList.length!=0)return I.SemicolonList[I.StatementList.length-1]?I.SemicolonList[I.StatementList.length-1]:I.StatementList[I.StatementList.length-1].GetLastToken()}},I},n([],[])}function ye(N,k){let u={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},s={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[c,m]of Object.entries(k))if(!s[c]&&!u[c])throw`Invalid visitor target: \`${c}\``;function e(f){if(f!=null){let g=k[f.Type];if(typeof g=="function")return g(f);if(g&&g.Pre)return g.Pre(f)}}function p(f){let g=k[f.Type];if(g&&typeof g=="object"&&g.Post)return g.Post(f)}let d,a;d=function(f){if(!e(f)){if(f.Type=="BinopExpr")d(f.Lhs),d(f.Rhs);else if(f.Type=="UnopExpr")d(f.Rhs);else if(!(f.Type=="NumberLiteral"||f.Type=="StringLiteral"||f.Type=="NilLiteral"||f.Type=="BooleanLiteral"||f.Type=="VargLiteral"||f.Type=="HashLiteral")){if(f.Type=="FieldExpr")d(f.Base);else if(f.Type=="IndexExpr")d(f.Base),d(f.Index);else if(f.Type=="MethodExpr"||f.Type=="CallExpr")d(f.Base),f.FunctionArguments.CallType=="ArgCall"?f.FunctionArguments.ArgList.forEach((g,n)=>{d(g)}):f.FunctionArguments.CallType=="TableCall"&&d(f.FunctionArguments.TableExpr);else if(f.Type=="FunctionLiteral")a(f.Body);else if(f.Type!="VariableExpr")if(f.Type=="ParenExpr")d(f.Expression);else if(f.Type=="TableLiteral")f.EntryList.forEach((g,n)=>{if(g.EntryType=="Field")d(g.Value);else if(g.EntryType=="Index")d(g.Index),d(g.Value);else if(g.EntryType=="Value")d(g.Value);else throw"unreachable"});else if(f.Type=="CompoundStat")d(f.Lhs),d(f.Rhs);else throw`unreachable, type: ${f.Type}: ${f}`}p(f)}},a=function(f){if(!e(f)){if(f.Type=="StatList")f.StatementList.forEach((g,n)=>{if(g!=null){if(g===null||g.Type===null)return;g.Remove=()=>{f.StatementList[n]=null},a(g)}});else if(f.Type!="BreakStat"){if(f.Type!="ContinueStat"){if(f.Type!="GotoStat"){if(f.Type!="LabelStat")if(f.Type=="ReturnStat")f.ExprList.forEach((g,n)=>{d(g)});else if(f.Type=="LocalVarStat")f.Token_Equals&&f.ExprList.forEach((g,n)=>{d(g)});else if(f.Type=="LocalFunctionStat")a(f.FunctionStat.Body);else if(f.Type=="FunctionStat")a(f.Body);else if(f.Type=="RepeatStat")a(f.Body),d(f.Condition);else if(f.Type=="GenericForStat")f.GeneratorList.forEach((g,n)=>{d(g)}),a(f.Body);else if(f.Type=="NumericForStat")f.RangeList.forEach((g,n)=>{d(g)}),a(f.Body);else if(f.Type=="WhileStat")d(f.Condition),a(f.Body);else if(f.Type=="DoStat")a(f.Body);else if(f.Type=="IfStat")d(f.Condition),a(f.Body),f.ElseClauseList.forEach(g=>{g.Condition!=null&&d(g.Condition),a(g.Body)});else if(f.Type=="CallExprStat")d(f.Expression);else if(f.Type=="CompoundStat")d(f.Lhs),d(f.Rhs);else if(f.Type=="AssignmentStat")f.Lhs.forEach(g=>{d(g)}),f.Rhs.forEach(g=>{d(g)});else throw"unreachable"}}}p(f)}},s[N.Type]?a(N):d(N)}function Ne(N){let k=[],u,s=0;function c(){return s++,s}function m(){u={ParentScope:u,ChildScopeList:[],VariableList:[],BeginLocation:c(),Depth:null,GetVar:null},u.ParentScope?(u.Depth=u.ParentScope.Depth+1,u.ParentScope.ChildScopeList.push(u)):u.Depth=1;let r=u;u.GetVar=function(o){for(const l of r.VariableList)if(l.Name==o)return l;if(r.ParentScope)return r.ParentScope.GetVar(o);for(const l of k)if(l.Name==o)return l}}function e(){let r=u;return r.EndLocation=c(),r.VariableList.forEach(o=>{o.ScopeEndLocation=r.EndLocation}),u=r.ParentScope,r}m();function p(r,o,l){b(l,"MIssing localInfo"),b(r,"Missing local var name");let C={Type:"Local",Name:r,RenameList:[o],AssignedTo:!1,Info:l,Scope:u,BeginLocation:c(),EndLocation:c(),ReferenceLocationList:[c()]};return C.Rename=function(O){C.Name=O,C.RenameList.forEach(H=>{H(O)})},u.VariableList.push(C),C}function d(r){for(const l of k)if(l.Name==r)return l;let o={Type:"Global",Name:r,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:c(),EndLocation:c(),ReferenceLocationList:[]};return o.Rename=function(l){o.Name=l,o.RenameList.forEach(C=>{C(l)})},k.push(o),o}function a(r,o){b(r,"Missing var name");let l=d(r);return l.RenameList.push(o),l}function f(r,o){let l;for(l=r.VariableList.length-1;l>=0;l--)if(r.VariableList[l].Name==o)return r.VariableList[l];if(r.ParentScope){let C=f(r.ParentScope,o);if(C)return C}}function g(r,o){b(r,"Missing var name");let l=f(u,r);l?l.RenameList.push(o):l=a(r,o);let C=c();return l.EndLocation=C,l.ReferenceLocationList.push(l.EndLocation),l}let n={};return n.FunctionLiteral={Pre:function(r){m(),r.ArgList.forEach((o,l)=>{let C=p(o.Source,function(O,H){H||(o.Source=O)},{Type:"Argument",Index:l});o.var=C})},Post:function(r){e()}},n.VariableExpr=function(r){r.Variable=g(r.Token.Source,function(o){r.Token.Source=o})},n.StatList={Pre:function(r){m()},Post:function(r){r.SkipPop||e()}},n.LocalVarStat={Post:function(r){r.VarList.forEach((o,l)=>{p(o.Source,function(C){r.VarList[l].Source=C},{Type:"Local"})})}},n.LocalFunctionStat={Pre:function(r){p(r.FunctionStat.NameChain[0].Source,function(o){r.FunctionStat.NameChain[0].Source=o},{Type:"LocalFunction"}),m(),r.FunctionStat.ArgList.forEach((o,l)=>{p(o.Source,function(C){o.Source=C},{Type:"Argument",Index:l})})},Post:function(){e()}},n.FunctionStat={Pre:function(r){let o=r.NameChain,l;o.length==1?f(u,o[0].Source)?l=g(o[0].Source,function(C){o[0].Source=C}):l=a(o[0].Source,function(C){o[0].Source=C}):l=g(o[0].Source,function(C){o[0].Source=C}),l.AssignedTo=!0,m(),r.ArgList.forEach((C,O)=>{p(C.Source,function(H){C.Source=H},{Type:"Argument",Index:O})})},Post:function(){e()}},n.GenericForStat={Pre:function(r){return r.GeneratorList.forEach(o=>{ye(o,n)}),m(),r.VarList.forEach((o,l)=>{p(o.Source,function(C){o.Source=C},{Type:"ForRange",Index:l})}),ye(r.Body,n),e(),!0}},n.NumericForStat={Pre:function(r){return r.RangeList.forEach(o=>{ye(o,n)}),m(),r.VarList.forEach((o,l)=>{p(o.Source,function(C){o.Source=C},{Type:"ForRange",Index:l})}),ye(r.Body,n),e(),!0}},n.RepeatStat={Pre:function(r){r.Body.SkipPop=!0},Post:function(r){e()}},n.AssignmentStat={Post:function(r){r.Lhs.forEach(o=>{o.Variable!=null&&(o.Variable.AssignedTo=!0)})}},ye(N,n),[k,e()]}function qe(N){let k,u,s="",c=e=>typeof(e==null?void 0:e.LeadingWhite)!="string"?" ":e.LeadingWhite;function m(e){if(e.LeadingWhite==null||e.Source==null)throw`Bad token: tk=${e} | lwhite=${e.LeadingWhite} | source=${e.Source}`;s=`${s}${e.LeadingWhite}${e.Source}`}return u=function(e){if(e.Type=="BinopExpr")u(e.Lhs),m(e.Token_Op),u(e.Rhs);else if(e.Type=="UnopExpr")m(e.Token_Op),u(e.Rhs);else if(e.Type=="NumberLiteral"||e.Type=="StringLiteral"||e.Type=="NilLiteral"||e.Type=="BooleanLiteral"||e.Type=="VargLiteral"||e.Type=="HashLiteral")m(e.Token);else if(e.Type=="FieldExpr")u(e.Base),m(e.Token_Dot),m(e.Field);else if(e.Type=="IndexExpr")u(e.Base),m(e.Token_OpenBracket),u(e.Index),m(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")u(e.Base),e.Type=="MethodExpr"&&(m(e.Token_Colon),m(e.Method)),e.FunctionArguments.CallType=="StringCall"?m(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(m(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,d)=>{u(p);let a=e.FunctionArguments.Token_CommaList[d];a!=null&&m(a)}),m(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&u(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")m(e.Token_Function),m(e.Token_OpenParen),e.ArgList.forEach((p,d)=>{m(p);let a=e.Token_ArgCommaList[d];a!=null&&m(a)}),e.Token_Varg!=null&&m(e.Token_Varg),m(e.Token_CloseParen),k(e.Body),m(e.Token_End);else if(e.Type=="VariableExpr")m(e.Token);else if(e.Type=="ParenExpr")m(e.Token_OpenParen),u(e.Expression),m(e.Token_CloseParen);else if(e.Type=="TableLiteral")m(e.Token_OpenBrace),e.EntryList.forEach((p,d)=>{if(p.EntryType=="Field")m(p.Field),m(p.Token_Equals),u(p.Value);else if(p.EntryType=="Index")m(p.Token_OpenBracket),u(p.Index),m(p.Token_CloseBracket),m(p.Token_Equals),u(p.Value);else if(p.EntryType=="Value")u(p.Value);else throw"unreachable";let a=e.Token_SeperatorList[d];a!=null&&m(a)}),m(e.Token_CloseBrace);else if(e.Type=="CompoundStat")k(e);else throw`unreachable, type: ${e.Type}: ${e}`},k=function(e){if(e==null)throw`STAT IS NIL! ${e}`;if(!(e.Type==="StatList"&&e.StatementList.length===0)){if(e.WrapInDo){let p=c(e.GetFirstToken());e.GetFirstToken().LeadingWhite="",s+=`${p}do `}e.Type=="StatList"?e.StatementList.forEach((p,d)=>{p===null||p.Type===null||(p.Remove=()=>{e.StatementList[d]=null},k(p),e.SemicolonList[d]&&m(e.SemicolonList[d]))}):e.Type=="BreakStat"?m(e.Token_Break):e.Type=="ContinueStat"?m(e.Token_Continue):e.Type=="GotoStat"?(m(e.Token_Goto),m(e.Token_Label)):e.Type=="LabelStat"?(m(e.Token_ColonsLeft),m(e.Token_Label),m(e.Token_ColonsRight)):e.Type=="ReturnStat"?(m(e.Token_Return),e.ExprList.forEach((p,d)=>{u(p),e.Token_CommaList[d]&&m(e.Token_CommaList[d])})):e.Type=="LocalVarStat"?(m(e.Token_Local),e.VarList.forEach((p,d)=>{m(p),p.Attribute!=null&&m(p.Attribute);let a=e.Token_VarCommaList[d];a!=null&&m(a)}),e.Token_Equals!=null&&(m(e.Token_Equals),e.ExprList.forEach((p,d)=>{u(p);let a=e.Token_ExprCommaList[d];a!=null&&m(a)}))):e.Type=="LocalFunctionStat"?(m(e.Token_Local),m(e.FunctionStat.Token_Function),m(e.FunctionStat.NameChain[0]),m(e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,d)=>{m(p);let a=e.FunctionStat.Token_ArgCommaList[d];a!=null&&m(a)}),e.FunctionStat.Token_Varg&&m(e.FunctionStat.Token_Varg),m(e.FunctionStat.Token_CloseParen),k(e.FunctionStat.Body),m(e.FunctionStat.Token_End)):e.Type=="FunctionStat"?(m(e.Token_Function),e.NameChain.forEach((p,d)=>{m(p);let a=e.Token_NameChainSeperator[d];a!=null&&m(a)}),m(e.Token_OpenParen),e.ArgList.forEach((p,d)=>{m(p);let a=e.Token_ArgCommaList[d];a!=null&&m(a)}),e.Token_Varg&&m(e.Token_Varg),m(e.Token_CloseParen),k(e.Body),m(e.Token_End)):e.Type=="RepeatStat"?(m(e.Token_Repeat),k(e.Body),m(e.Token_Until),u(e.Condition)):e.Type=="GenericForStat"?(m(e.Token_For),e.VarList.forEach((p,d)=>{m(p);let a=e.Token_VarCommaList[d];a!=null&&m(a)}),m(e.Token_In),e.GeneratorList.forEach((p,d)=>{u(p);let a=e.Token_GeneratorCommaList[d];a!=null&&m(a)}),m(e.Token_Do),k(e.Body),m(e.Token_End)):e.Type=="NumericForStat"?(m(e.Token_For),e.VarList.forEach((p,d)=>{m(p);let a=e.Token_VarCommaList[d];a!=null&&m(a)}),m(e.Token_Equals),e.RangeList.forEach((p,d)=>{u(p);let a=e.Token_RangeCommaList[d];a!=null&&m(a)}),m(e.Token_Do),k(e.Body),m(e.Token_End)):e.Type=="WhileStat"?(m(e.Token_While),u(e.Condition),m(e.Token_Do),k(e.Body),m(e.Token_End)):e.Type=="DoStat"?(m(e.Token_Do),k(e.Body),m(e.Token_End)):e.Type=="IfStat"?(m(e.Token_If),u(e.Condition),m(e.Token_Then),k(e.Body),e.ElseClauseList.forEach(p=>{m(p.Token),p.Condition!=null&&(u(p.Condition),m(p.Token_Then)),k(p.Body)}),m(e.Token_End)):e.Type=="CallExprStat"?u(e.Expression):e.Type=="CompoundStat"?(u(e.Lhs),m(e.Token_Compound),u(e.Rhs),e.Type="CompoundStat"):e.Type=="AssignmentStat"?(e.Lhs.forEach((p,d)=>{u(p);let a=e.Token_LhsSeperatorList[d];a!=null&&m(a)}),m(e.Token_Equals),e.Rhs.forEach((p,d)=>{u(p);let a=e.Token_RhsSeperatorList[d];a!=null&&m(a)})):b(!1,"unreachable"),e.WrapInDo&&(s+=" end ")}},k(N),s}function Ae(N){let k,u,s=0;function c(n){if(n===void 0)return;let r=`
${"	".repeat(s)}`;if(n.LeadingWhite==""||n.LeadingWhite.substr(-r.length,r.length)!=r){let o="",l;for(l=n.LeadingWhite.length;l>=0;l--){let C=n.LeadingWhite.substr(l,1);if(!(C==""||C.match(/\s/g))){o=n.LeadingWhite.substr(0,l+1);break}}n.LeadingWhite=`${o}${r}`}}function m(){s++}function e(){s--,b(s>=0,"Undented too far")}function p(n){return n.LeadingWhite.length>0?n.LeadingWhite.substr(0,1):n.Source.toString().substr(0,1)}function d(n){n.LeadingWhite=n.LeadingWhite.trim()}function a(n){d(n),ie.includes(p(n))||(n.LeadingWhite=" "+n.LeadingWhite)}function f(n){a(n.GetFirstToken())}function g(n,r,o){m(),k(r),e(),c(o)}u=function(n){if(n.Type=="BinopExpr")u(n.Lhs),u(n.Rhs),f(n.Rhs),a(n.Token_Op);else if(n.Type=="UnopExpr")d(n.Token_Op),u(n.Rhs),n.Token_Op.Source[0]&&a(n.Rhs.GetFirstToken());else if(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral")d(n.Token),n.Type=="HashLiteral"&&(n.Token.Source='"'+Pe(`${n.Token.Source.substring(1,n.Token.Source.length-1)}`)+'"',n.Type="StringLiteral",n.Token.Type="String");else if(n.Type=="FieldExpr")u(n.Base);else if(n.Type=="IndexExpr")u(n.Base),u(n.Index);else if(n.Type=="MethodExpr"||n.Type=="CallExpr")u(n.Base),d(n.FunctionArguments.GetFirstToken()),d(n.FunctionArguments.GetLastToken()),n.Type=="MethodExpr",n.FunctionArguments.CallType=="StringCall"||(n.FunctionArguments.CallType=="ArgCall"?n.FunctionArguments.ArgList.forEach((r,o)=>{u(r),o>0&&f(r);let l=n.FunctionArguments.Token_CommaList[o];l!=null&&d(l)}):n.FunctionArguments.CallType=="TableCall"&&u(n.FunctionArguments.TableExpr));else if(n.Type=="FunctionLiteral")n.ArgList.forEach((r,o)=>{o>0&&a(r),n.Token_ArgCommaList[o]}),n.ArgList.length>0&&n.Token_Varg!=null&&a(n.Token_Varg),g(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type!="VariableExpr")if(n.Type=="ParenExpr")d(n.Token_OpenParen),d(n.Token_CloseParen),u(n.Expression);else if(n.Type=="TableLiteral"){if(n.EntryList.length!=0){m();let r=100;n.EntryList.forEach((o,l)=>{o.EntryType=="Field"?(n.EntryList.length>r?Ge(o.Value):c(o.Field),a(o.Token_Equals),u(o.Value),f(o.Value)):o.EntryType=="Index"?(n.EntryList.length>r?d(o.Token_OpenBracket):c(o.Token_OpenBracket),u(o.Index),a(o.Token_Equals),u(o.Value),f(o.Value)):o.EntryType=="Value"?(u(o.Value),n.EntryList.length>r?Ge(o.Value):c(o.Value.GetFirstToken())):b(!1,"unreachable");let C=n.Token_SeperatorList[l];C!=null&&(n.EntryList.length>r?C.LeadingWhite="":d(C))}),e(),n.EntryList.length>r?n.Token_CloseBrace.LeadingWhite="":c(n.Token_CloseBrace)}}else if(n.Type=="CompoundStat")k(n);else throw ne(n),`unreachable, type: ${n.Type}:`+n},k=function(n){if(n.Type=="StatList")n.StatementList.forEach((r,o)=>{r===null||r.Type===null||r.Type==="StatList"&&r.StatementList.length===0||(r.Remove=()=>{r.StatementList[o]=null},k(r),c(r.GetFirstToken()))});else if(n.Type!="BreakStat"){if(n.Type!="ContinueStat"){if(n.Type!="GotoStat"){if(n.Type!="LabelStat")if(n.Type=="ReturnStat")n.ExprList.forEach((r,o)=>{u(r),f(r),n.Token_CommaList[o]});else if(n.Type=="LocalVarStat"){if(n.VarList.forEach((r,o)=>{a(r),r.Attribute&&(r.Attribute.LeadingWhite=" "),n.Token_VarCommaList[o]}),n.Token_Equals){d(n.Token_Equals),a(n.Token_Equals);let r=[],o=[];n.ExprList.forEach((l,C)=>{l!=null&&(C<n.VarList.length||l.Type=="CallExpr"||l.Type=="ParenExpr"||l.Type=="VargLiteral"||l.Type=="BinopExpr"||l.Type=="UnopExpr")&&(r.push(l),o.push(n.Token_ExprCommaList[C]))}),n.ExprList=r,n.CommaList=o,n.ExprList.forEach((l,C)=>{l!=null&&(u(l),f(l),n.Token_ExprCommaList[C]!=null&&n.ExprList.length-1==C&&(n.Token_ExprCommaList[C]=null))})}}else if(n.Type=="LocalFunctionStat")a(n.FunctionStat.Token_Function),a(n.FunctionStat.NameChain[0]),n.FunctionStat.ArgList.forEach((r,o)=>{o>0?a(r):d(r);let l=n.FunctionStat.Token_ArgCommaList[o];l&&d(l)}),n.FunctionStat.ArgList.length>0&&n.FunctionStat.Token_Varg?(d(n.FunctionStat.Token_Varg),a(n.FunctionStat.Token_Varg)):n.FunctionStat.Token_Varg&&d(n.FunctionStat.Token_Varg),d(n.FunctionStat.Token_OpenParen),d(n.FunctionStat.Token_CloseParen),g(n.FunctionStat.Token_CloseParen,n.FunctionStat.Body,n.FunctionStat.Token_End);else if(n.Type=="FunctionStat")n.NameChain.forEach((r,o)=>{o==0&&a(r),n.Token_NameChainSeperator[o]}),n.ArgList.forEach((r,o)=>{o>0&&a(r),n.Token_ArgCommaList[o]}),n.ArgList.length>0&&n.Token_Varg&&a(n.Token_Varg),g(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type=="RepeatStat")g(n.Token_Repeat,n.Body,n.Token_Until),u(n.Condition),f(n.Condition);else if(n.Type=="GenericForStat")n.VarList.forEach((r,o)=>{a(r),n.Token_VarCommaList[o]}),a(n.Token_In),n.GeneratorList.forEach((r,o)=>{u(r),f(r),n.Token_GeneratorCommaList[o]}),a(n.Token_Do),g(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="NumericForStat")n.VarList.forEach((r,o)=>{a(r),n.Token_VarCommaList[o]}),a(n.Token_Equals),n.RangeList.forEach((r,o)=>{u(r),f(r),n.Token_RangeCommaList[o]}),a(n.Token_Do),g(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="WhileStat")u(n.Condition),f(n.Condition),a(n.Token_Do),g(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="DoStat")g(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="IfStat"){u(n.Condition),f(n.Condition),a(n.Token_Then);let r=n.Token_Then,o=n.Body;n.ElseClauseList.forEach(l=>{g(r,o,l.Token),r=l.Token,l.Condition!=null&&(u(l.Condition),f(l.Condition),a(l.Token_Then),r=l.Token_Then),o=l.Body}),g(r,o,n.Token_End)}else n.Type=="CallExprStat"?u(n.Expression):n.Type=="CompoundStat"?(u(n.Lhs),u(n.Rhs),f(n.Lhs),f(n.Rhs),a(n.Token_Compound)):n.Type=="AssignmentStat"?(n.Lhs.forEach((r,o)=>{u(r),o>0&&f(r),n.Token_LhsSeperatorList[o]}),a(n.Token_Equals),n.Rhs.forEach((r,o)=>{u(r),f(r),n.Token_RhsSeperatorList[o]})):b(!1,"Unreachable")}}}},k(N)}function Ge(N){let k,u;function s(e){e&&(e.LeadingWhite="")}function c(e,p,d=!1){s(p);let a=(typeof e.Source=="string"?e.Source:e.Source.toString()).substr(e.Source.length-1,1),f=(typeof p.Source=="string"?p.Source:p.Source.toString()).substr(0,1);a=="-"&&f=="-"||Re.includes(a)&&Re.includes(f)||d&&a==")"&&f=="("?p.LeadingWhite=d?";":" ":p.LeadingWhite=""}function m(e,p,d){k(p),s(d);let a=p.GetFirstToken(),f=p.GetLastToken();a!=null?(c(e,a),c(f,d)):c(e,d)}u=function(e){if(e.Type==="BinopExpr")u(e.Lhs),u(e.Rhs),e.Lhs.Type=="NumberLiteral"&&e.Token_Op.Source==".."?e.Token_Op.LeadingWhite=" ":(s(e.Token_Op),c(e.Lhs.GetLastToken(),e.Token_Op)),c(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="UnopExpr")s(e.Token_Op),u(e.Rhs),c(e.Token_Op,e.Rhs.GetFirstToken());else if(e.Type==="NumberLiteral"||e.Type==="StringLiteral"||e.Type==="NilLiteral"||e.Type==="BooleanLiteral"||e.Type==="VargLiteral"||e.Type==="HashLiteral")s(e.Token);else if(e.Type=="FieldExpr")u(e.Base),s(e.Token_Dot),s(e.Field);else if(e.Type=="IndexExpr")u(e.Base),s(e.Token_OpenBracket),u(e.Index),s(e.Token_CloseBracket);else if(e.Type=="MethodExpr"||e.Type=="CallExpr")u(e.Base),e.Type=="MethodExpr"&&(s(e.Token_Colon),s(e.Method)),e.FunctionArguments.CallType=="StringCall"?s(e.FunctionArguments.Token):e.FunctionArguments.CallType=="ArgCall"?(s(e.FunctionArguments.Token_OpenParen),e.FunctionArguments.ArgList.forEach((p,d)=>{u(p);let a=e.FunctionArguments.Token_CommaList[d];a!=null&&s(a)}),s(e.FunctionArguments.Token_CloseParen)):e.FunctionArguments.CallType=="TableCall"&&u(e.FunctionArguments.TableExpr);else if(e.Type=="FunctionLiteral")s(e.Token_Function),s(e.Token_OpenParen),e.ArgList.forEach((p,d)=>{s(p);let a=e.Token_ArgCommaList[d];a!=null&&s(a)}),e.Token_Varg!=null&&s(e.Token_Varg),s(e.Token_CloseParen),m(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="VariableExpr")s(e.Token);else if(e.Type=="ParenExpr")s(e.Token_OpenParen),u(e.Expression),s(e.Token_CloseParen);else if(e.Type=="TableLiteral")s(e.Token_OpenBrace),e.EntryList.forEach((p,d)=>{p.EntryType=="Field"?(s(p.Field),s(p.Token_Equals),u(p.Value)):p.EntryType=="Index"?(s(p.Token_OpenBracket),u(p.Index),s(p.Token_CloseBracket),s(p.Token_Equals),u(p.Value)):p.EntryType=="Value"?u(p.Value):b(!1,"unreachable");let a=e.Token_SeperatorList[d];a!=null&&s(a)}),e.Token_SeperatorList[e.EntryList.length-1]=null,s(e.Token_CloseBrace);else throw`unreachable, type: ${e.Type}:${e}  undefined`},k=function(e){if(e.Type=="StatList"){let p;for(p=0;p<=e.StatementList.length;p++){let d=e.StatementList[p];if(d==null)continue;k(d),s(d.GetFirstToken());let a=e.StatementList[p-1];if(a!=null){let f={")":["(","["],"]":["(","["]};if(e.SemicolonList[p-1]){let g=a.GetLastToken().Source,n=d.GetFirstToken().Source;(f[g]===null||f[g]===void 0||!f[g].includes(n))&&(e.SemicolonList[p-1]=null)}e.SemicolonList[p-1]||c(a.GetLastToken(),d.GetFirstToken(),!0)}}e.SemicolonList[e.StatementList.length-1]=null,e.StatementList.length>0&&s(e.StatementList[0].GetFirstToken())}else if(e.Type=="BreakStat")s(e.Token_Break);else if(e.Type=="ContinueStat")s(e.Token_Continue);else if(e.Type=="GotoStat")s(e.Token_Goto),c(e.Token_Goto,e.Token_Label);else if(e.Type=="LabelStat")s(e.Token_ColonsLeft),s(e.Token_Label),s(e.Token_ColonsRight);else if(e.Type=="ReturnStat")s(e.Token_Return),e.ExprList.forEach((p,d)=>{u(p),e.Token_CommaList[d]!=null&&s(e.Token_CommaList[d])}),e.ExprList.length>0&&c(e.Token_Return,e.ExprList[0].GetFirstToken());else if(e.Type=="LocalVarStat"){s(e.Token_Local);let p=!1;e.VarList.forEach((d,a)=>{a==0?c(e.Token_Local,d):s(d),d.Attribute&&(s(d.Attribute),a+1==e.VarList.length&&(p=!0));let f=e.Token_VarCommaList[a];f!=null&&s(f)}),e.Token_Equals!=null&&(p||s(e.Token_Equals),e.ExprList.forEach((d,a)=>{u(d);let f=e.Token_ExprCommaList[a];f!=null&&s(f)}))}else if(e.Type=="LocalFunctionStat")s(e.Token_Local),c(e.Token_Local,e.FunctionStat.Token_Function),c(e.FunctionStat.Token_Function,e.FunctionStat.NameChain[0]),c(e.FunctionStat.NameChain[0],e.FunctionStat.Token_OpenParen),e.FunctionStat.ArgList.forEach((p,d)=>{s(p);let a=e.FunctionStat.Token_ArgCommaList[d];a!=null&&s(a)}),e.FunctionStat.Token_Varg&&s(e.FunctionStat.Token_Varg),s(e.FunctionStat.Token_CloseParen),m(e.FunctionStat.Token_CloseParen,e.FunctionStat.Body,e.FunctionStat.Token_End);else if(e.Type=="FunctionStat")s(e.Token_Function),e.NameChain.forEach((p,d)=>{d==0?c(e.Token_Function,p):s(p);let a=e.Token_NameChainSeperator[d];a!=null&&s(a)}),s(e.Token_OpenParen),e.ArgList.forEach((p,d)=>{s(p);let a=e.Token_ArgCommaList[d];a!=null&&s(a)}),e.Token_Varg&&s(e.Token_Varg),s(e.Token_CloseParen),m(e.Token_CloseParen,e.Body,e.Token_End);else if(e.Type=="RepeatStat")s(e.Token_Repeat),m(e.Token_Repeat,e.Body,e.Token_Until),u(e.Condition),c(e.Token_Until,e.Condition.GetFirstToken());else if(e.Type=="GenericForStat")s(e.Token_For),e.VarList.forEach((p,d)=>{d==0?c(e.Token_For,p):s(p);let a=e.Token_VarCommaList[d];a!=null&&s(a)}),c(e.VarList[e.VarList.length-1],e.Token_In),e.GeneratorList.forEach((p,d)=>{u(p),d==0&&c(e.Token_In,p.GetFirstToken());let a=e.Token_GeneratorCommaList[d];a!=null&&s(a)}),c(e.GeneratorList[e.GeneratorList.length-1].GetLastToken(),e.Token_Do),m(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="NumericForStat")s(e.Token_For),e.VarList.forEach((p,d)=>{d==0?c(e.Token_For,p):s(p);let a=e.Token_VarCommaList[d];a!=null&&s(a)}),c(e.VarList[e.VarList.length-1],e.Token_Equals),e.RangeList.forEach((p,d)=>{u(p),d==0&&c(e.Token_Equals,p.GetFirstToken());let a=e.Token_RangeCommaList[d];a!=null&&s(a)}),c(e.RangeList[e.RangeList.length-1].GetLastToken(),e.Token_Do),m(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="WhileStat")s(e.Token_While),u(e.Condition),s(e.Token_Do),c(e.Token_While,e.Condition.GetFirstToken()),c(e.Condition.GetLastToken(),e.Token_Do),m(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="DoStat")s(e.Token_Do),s(e.Token_End),m(e.Token_Do,e.Body,e.Token_End);else if(e.Type=="IfStat"){s(e.Token_If),u(e.Condition),c(e.Token_If,e.Condition.GetFirstToken()),c(e.Condition.GetLastToken(),e.Token_Then);let p=e.Token_Then,d=e.Body;e.ElseClauseList.forEach((a,f)=>{m(p,d,a.Token),p=a.Token,a.Condition!=null&&(u(a.Condition),c(a.Token,a.Condition.GetFirstToken()),c(a.Condition.GetLastToken(),a.Token_Then),p=a.Token_Then),k(a.Body),d=a.Body}),m(p,d,e.Token_End)}else if(e.Type=="CallExprStat")u(e.Expression);else if(e.Type=="CompoundStat")u(e.Lhs),s(e.Token_Compound),u(e.Rhs),c(e.Lhs.GetLastToken(),e.Token_Compound),c(e.Token_Compound,e.Rhs.GetFirstToken());else if(e.Type=="AssignmentStat")e.Lhs.forEach((p,d)=>{u(p);let a=e.Token_LhsSeperatorList[d];a!=null&&s(a)}),s(e.Token_Equals),e.Rhs.forEach((p,d)=>{u(p);let a=e.Token_RhsSeperatorList[d];a!=null&&s(a)});else return u(e)},k(N)}function De(N){let k,u,s={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function c(n,r,o=null){let l;return l={Type:n,Token:{Type:o??"Number",LeadingWhite:"",Source:r},GetFirstToken:()=>l.Token,GetLastToken:()=>l.Token},l}function m(n,r,o){let l;return l={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:n},Lhs:r,Rhs:o,GetFirstToken:()=>l.Lhs.GetFirstToken(),GetLastToken:()=>l.Rhs.GetLastToken()},l}function e(n,r){let o;return o={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:n},Rhs:r,GetFirstToken:()=>o.Token_Op,GetLastToken:()=>o.Rhs.GetLastToken()},o}function p(n,r){if(r!=null)for(var[o,l]of Object.entries(r))n[o]=l}function d(n){if(n==null||n.substr==null)return;let r=n.substr(0,1),o;if((r=='"'||r=="'")&&(o=n.substr(1,n.length-2)),r=="["){let O=0,H=1;for(;n.substr(H,1)=="=";)O++,H++;o=n.substr(2+O,n.length-4-O-2)}if(o==null)return"";let l="",C;for(C=0;C<=o.length;C++){let O=o.substr(C,1);O=="'"||O=='"'?l+=`\\${O}`:l+=O}return l}function a(n){if(typeof n=="object"&&n.Type=="ParenExpr")return p(n,n.Expression)}function f(n,r,o){let l=r,C=o;if(r&&r.Type=="ParenExpr"&&(l=r.Expression),o&&o.Type=="ParenExpr"&&(C=o.Expression),l==null||C==null||l.Type==null||C.Type==null||l.Type=="VariableExpr"||l.Type=="CallExpr"||l.Type=="BinopExpr"||C.Type=="CallExpr"||C.Type=="BinopExpr"||C.Type=="VariableExpr")return;let O=l.Token||l.Expression!=null&&l.Expression.Token||null,H=C.Token||C.Expression!=null&&C.Expression.Token||null,le=O!=null?O.Source:null,fe=H!=null?H.Source:null,z,V;if(l.Type=="BooleanLiteral"&&(z=le=="true"),C.Type=="BooleanLiteral"&&(V=fe=="true"),!(l.Type=="NumberLiteral"&&(z=B(le),z==null))&&!(C.Type=="NumberLiteral"&&(V=B(fe),V==null))&&((l.Type=="StringLiteral"||l.Type=="HashLiteral")&&(z=le.toString()),(C.Type=="StringLiteral"||C.Type=="HashLiteral")&&(V=fe.toString()),z!=null&&V!=null)){if(n=="==")return z==V;if(n=="~=")return z!=V;if(n=="and")return z&&V;if(n=="or")return z||V;if(n==".."&&l.Type=="StringLiteral"&&C.Type=="StringLiteral")return`"${d(le)+d(fe)}"`;if(l.Type=="StringLiteral"&&(z=B(d(z))),C.Type=="StringLiteral"&&(V=B(d(V))),z==null||V==null)return;let P;if(n=="+"&&(P=z+V),n=="-"&&(P=z-V),n=="*"&&(P=z*V),n=="/"&&(P=z/V),n=="^"&&(P=z**V),n=="%"&&(P=z%V),n==">"&&(P=z>V),n=="<"&&(P=z<V),n==">="&&(P=z>=V),n=="<="&&(P=z<=V),P==!1||P==!0||isFinite(P)&&P>-(10**6)&&P<10**6)return P}}function g(n,r){let o=r.Token||r.Expression||r.EntryList||r;if(o==null||o.Source==null&&r.Type!="TableLiteral"||r.Type=="VariableExpr"||r.Type=="CallExpr"||r.Type=="BinopExpr")return;let l=o.Source,C;if(r.Type=="TableLiteral"&&o!=null){let O=[],H=0,le=!1,fe=!1,z=0;if(o.forEach((V,P)=>{if(le)O.push(V);else if(V.EntryType=="Value"||V.EntryType=="Index")if((V.Index==null||V.Index.Type=="NumberLiteral")&&V.Value){if((V.Index!=null&&V.Index.Token!=null&&V.Index.Token.Source!==null?V.Index.Token.Source:z+1).toString()!==(++z).toString())return le=!0,fe=!0,O.push(V);V.Value.Type!="CallExpr"?H++:(le=!0,O.push(V))}else O.push(V)}),fe)return;if(n=="#")return r.EntryList=O,r.EntryList.length<=0?c("NumberLiteral",H!==null?H:r.EntryList.length):H<=0?e("#",r):m("+",c("NumberLiteral",H),e("#",r))}if(r.Type=="BooleanLiteral"&&(C=l=="true"),!(r.Type=="NumberLiteral"&&(C=B(l),C===null))){if(r.Type=="StringLiteral"&&(C=l.substr(1,l.length-2)),n=="not"&&r.Type!==null)return r.Type=="NilLiteral"||r.Type=="BooleanLiteral"&&C===!1;if(C!=null){if(n=="#")return C.length;if(n=="-")return-C}}}u=function(n){if(n.Type=="BinopExpr"){if(u(n.Lhs),u(n.Rhs),n.Lhs!=null&&n.Rhs!=null){let r=n.Token_Op;if(r!=null&&r.Source!=null){let o=f(r.Source,n.Lhs,n.Rhs);if(o!=null){if(typeof o=="boolean"){let l=c("BooleanLiteral",o.toString(),"Keyword");p(n,l);return}else if(typeof o=="number"){if(isFinite(o)==!0){let l=c("NumberLiteral",o.toString(),"Number");p(n,l);return}}else if(typeof o=="string"){let l=c("StringLiteral",o,"String");p(n,l);return}else if(typeof o=="object"){p(n,o);return}return}}if(n.Lhs.Type=="ParenExpr"){let l=n.Lhs.Expression;l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="HashLiteral"}if(n.Rhs.Type=="ParenExpr"){let l=n.Rhs.Expression;l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="HashLiteral"}}}else if(n.Type=="UnopExpr"){if(u(n.Rhs),n.Rhs!=null&&s[n.Rhs.Type]==!0){let r=n.Token_Op;if(r!=null&&r.Source!=null){let o=n.Rhs.Expression!=null?n.Rhs.Expression:n.Rhs,l=g(r.Source,o);if(l!=null){if(typeof l=="boolean"){let C=c("BooleanLiteral",l.toString(),"Keyword");p(n,C);return}else if(typeof l=="number"){if(isFinite(l)==!0){let C=c("NumberLiteral",l,"Number");p(n,C);return}}else if(typeof l=="string"){let C=c("StringLiteral",l,"String");p(n,C);return}else if(typeof l=="object"){p(n,l);return}return}}}}else if(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral"){let r=n.Token;if(r!=null){if(r.Type=="Number"){let o=r.Source.toString().split("e");if(o.length===2){let l=B(o[0]),C=B(o[1]);isFinite(l)&&isFinite(C)&&l**C<999999999&&!r.Source.includes("+")&&r.Source.includes(".")&&!r.Source.includes("-")&&(r.Source=(l**C).toString())}}r.Type=="String"&&(r.Source=r.Source.replace(/\\\d+/gi,o=>{let l=B(o.substr(1,o.length-1));return l&&isFinite(l)&&(l>=97&&l<=122||l>=65&&l<=90||l>=33&&l<=47||l>=58&&l<=64||l>=91&&l<=96||l>=123&&l<=126)&&l!==34&&l!==39&&l!==92?String.fromCharCode(l):o}))}}else if(n.Type=="FieldExpr")u(n.Base);else if(n.Type=="IndexExpr")u(n.Base),u(n.Index);else if(n.Type=="MethodExpr"||n.Type=="CallExpr"){if(u(n.Base),n.FunctionArguments.CallType=="ArgCall"?n.FunctionArguments.ArgList.forEach((r,o)=>{u(r)}):n.FunctionArguments.CallType=="TableCall"&&u(n.FunctionArguments.TableExpr),n.Base.Type==="ParenExpr"&&n.Base.Expression.Type==="FunctionLiteral"&&n.FunctionArguments.CallType==="ArgCall"){let r=n.Base.Expression;n.FunctionArguments.ArgList.forEach((o,l)=>{let C=n.FunctionArguments.ArgList[l];if(C!==void 0&&(C.Type=="NumberLiteral"||C.Type=="StringLiteral"||C.Type=="NilLiteral"||C.Type=="BooleanLiteral"||C.Type=="HashLiteral")){let O=r.ArgList[l];O&&O.var.RenameList.forEach(H=>{H(C.Token.Source,!0)})}})}}else if(n.Type=="FunctionLiteral")k(n.Body);else if(n.Type!="VariableExpr")if(n.Type=="ParenExpr"){let r=n.Expression;r!=null&&r.Type=="ParenExpr"&&(n.Expression=r.Expression),u(n.Expression),(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral")&&a(n)}else n.Type=="TableLiteral"&&n.EntryList.forEach((r,o)=>{r.EntryType=="Field"?u(r.Value):r.EntryType=="Index"?(u(r.Index),u(r.Value)):r.EntryType=="Value"?u(r.Value):b(!1,"unreachable")})},k=function(n){if(n.Type=="StatList")n.StatementList.forEach((r,o)=>{r===null||r.Type===null||(r.Remove=()=>{n.StatementList[o]=null},k(r))});else if(n.Type!="BreakStat"){if(n.Type!="ContinueStat")if(n.Type=="ReturnStat")n.ExprList.forEach((r,o)=>{u(r)});else if(n.Type=="LocalVarStat")n.Token_Equals!=null&&n.ExprList.forEach((r,o)=>{u(r)});else if(n.Type=="LocalFunctionStat")k(n.FunctionStat.Body),n.FunctionStat.NameChain.length===1&&n.FunctionStat.NameChain[0].UseCount;else if(n.Type=="FunctionStat")k(n.Body);else if(n.Type=="RepeatStat")k(n.Body),u(n.Condition),n.Body.Type=="StatList"&&n.Body.StatementList.length;else if(n.Type=="GenericForStat")n.GeneratorList.forEach((r,o)=>{u(r)}),k(n.Body);else if(n.Type=="NumericForStat"){n.RangeList.forEach((V,P)=>{u(V)}),k(n.Body);let r=n.RangeList[0],o=n.RangeList[1],l=n.RangeList[2];if(r==null||o==null)return n.Remove();if(a(r),a(o),a(l),r.Type!="NumberLiteral"||o.Type!="NumberLiteral"||l!=null&&l.Type!="NumberLiteral"||l==null)return;let C=B(r.Token.Source),O=B(o.Token.Source),H=l!=null&&B(l.Token.Source)||1,le=H>0&&C<=O||H<0&&C>=O,fe=(O-C+H)/H;if(!(le&&fe>=0)||n.Body.Type=="StatList"&&n.Body.StatementList.length===0)return n.Remove()}else if(n.Type=="WhileStat"){u(n.Condition),k(n.Body);let r=n.Condition;switch(r.Type){case"ParenExpr":r=r.Expression;case"BooleanLiteral":if(r==null||r.Token==null||r.Token.Source!=="false")break;case"NilLiteral":n.Remove();break}}else if(n.Type=="DoStat"){if(k(n.Body),n.Body===null||n.Body.Type=="StatList"&&n.Body.StatementList.length===0)return n.Remove();if(n.Body.StatementList.length===1){let r=n.Body.StatementList[0];r.Type!=="ContinueStat"&&r.Type!=="BreakStat"&&r.Type!=="ReturnStat"&&p(n,r)}}else if(n.Type=="IfStat"){u(n.Condition),k(n.Body),n.ElseClauseList.forEach((o,l)=>{o.Condition!=null&&u(o.Condition),k(o.Body)});let r=n.Condition;switch(r.Type){case"ParenExpr":r=r.Expression;case"BooleanLiteral":if(n.ElseClauseList.length>=1||r==null||r.Token==null||r.Token.Source!=="false")break;case"NilLiteral":n.Remove();break}}else n.Type=="CallExprStat"?u(n.Expression):n.Type=="CompoundStat"?(u(n.Lhs),u(n.Rhs)):n.Type=="AssignmentStat"&&(n.Lhs.forEach((r,o)=>{u(r)}),n.Rhs.forEach((r,o)=>{u(r)}))}},k(N)}let D=[],Y;for(Y=97;Y<=122;Y++)D.push(String.fromCharCode(Y));for(Y=65;Y<=90;Y++)D.push(String.fromCharCode(Y));for(Y=48;Y<=57;Y++)D.push(String.fromCharCode(Y));D.push("_");let de=[];for(Y=97;Y<=122;Y++)de.push(String.fromCharCode(Y));for(Y=65;Y<=90;Y++)de.push(String.fromCharCode(Y));function Ee(N){let k="",u=N%de.length;for(N=(N-u)/de.length,k=`${k}${de[u]}`;N>0;){let s=N%D.length;N=(N-s)/D.length,k=`${k}${D[s]}`}return k}function h(N,k,u){let s=[];for(var[c,m]of Object.entries(Le))s[c]=!0;let e=[];N.forEach(g=>{g.AssignedTo&&u?e.push(g):s[g.Name]=!0});function p(g){g.VariableList.forEach(n=>{e.push(n)}),g.ChildScopeList.forEach(n=>{p(n)})}p(k),e.forEach(g=>{g.UsedNameArray=[]}),e.sort((g,n)=>g-n);let d=0,a=[];function f(g){let n=a[g];if(n==null){for(n=Ee(d),d++;s[n];)n=Ee(d),d++;a[g]=n}return n}e.forEach((g,n)=>{g.Renamed=!0;let r=0;for(;g.UsedNameArray[r];)r++;g.Rename(f(r)),g.Scope?e.forEach(o=>{o.Renamed||(!o.Scope||o.Scope.Depth<g.Scope.Depth?o.ReferenceLocationList.some(l=>l>=g.BeginLocation&&l<=g.ScopeEndLocation?(o.UsedNameArray[r]=!0,!0):!1):o.Scope.Depth>g.Scope.Depth?g.ReferenceLocationList.some(l=>l>=o.BeginLocation&&l<=o.ScopeEndLocation?(o.UsedNameArray[r]=!0,!0):!1):g.BeginLocation<o.EndLocation&&g.EndLocation>o.BeginLocation&&(o.UsedNameArray[r]=!0))}):e.forEach(o=>{if(!o.Renamed)if(o.Type=="Global")o.UsedNameArray[r]=!0;else if(o.Type=="Local")g.ReferenceLocationList.some(l=>l>=o.BeginLocation&&l<=o.ScopeEndLocation?(o.UsedNameArray[r]=!0,!0):!1);else throw"Unreachable"})})}function G(N,k,u){let s=[];N.forEach(d=>{(!d.AssignedTo||!u)&&(s[d.Name]=!0)});let c=1,m=1;function e(d,a){d.Name=a,d.RenameList.forEach(f=>{f(a)})}if(u){let d={};N.forEach(a=>{a.AssignedTo&&!a.ChangedName&&(d[a.Name]=d[a.Name]||`G_${m}_`,a.ChangedName=!0,e(a,d[a.Name]),m++)})}function p(d){d.VariableList.forEach(a=>{let f=`L_${c}_`;a.Info.Type=="Argument"?f=`${f}arg${a.Info.Index}`:a.Info.Type=="LocalFunction"?f=`${f}func`:a.Info.Type=="ForRange"&&(f=`${f}forvar${a.Info.Index}`),e(a,f),c++}),d.ChildScopeList.forEach(a=>{p(a)})}p(k)}let oe={};oe.Minify=function(N,k){let u=U(N),[s,c]=Ne(u);return k.RenameVariables==!0&&h(s,c,k.RenameGlobals),k.SolveMath==!0&&De(u),Ge(u),qe(u)},oe.Beautify=function(N,k){let u=U(N),[s,c]=Ne(u);return k.RenameVariables&&G(s,c,k.RenameGlobals),k.SolveMath==!0&&De(u),Ae(u),qe(u)};try{Se!=null&&Se.exports!=null&&(Se.exports.Beautify=oe.Beautify,Se.exports.Minify=oe.Minify)}catch{}})(rn);var Bn=rn.exports;const on=Bn;tn.Beautify=on.Beautify;tn.Minify=on.Minify;tn.Uglify=on.Uglify;const Vn={master:`return {
  desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="无尽",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  settings_id="ENDLESS",
  settings_name="无尽",
  substitutes={  },
  version=4,
  worldgen_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  worldgen_id="ENDLESS",
  worldgen_name="无尽" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},Rn={master:`return {
  desc="标准《饥荒》体验。",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="生存",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="标准《饥荒》体验。",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="生存",
  substitutes={  },
  version=4,
  worldgen_desc="标准《饥荒》体验。",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="生存" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`};export{tn as a,Vn as e,Gn as l,Rn as s};
