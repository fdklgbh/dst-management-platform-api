import{_ as sl,u as ul,o as il,r as W,a as rl,g as dl,c as he,D as ml,G as cl,b as gl,H as pl,a8 as ne,w as fl,I as Z,J as k,e as i,f as c,j as t,k as n,i as e,m as _,x as A,l as d,t as r,q as I,p as V,aa as Te,F as M,v as U,a0 as vl,C as N,A as ye}from"./index-C-KsYsfv.js";import{s as We}from"./index-B42rjdS-.js";import{l as ee,e as Fe,s as Ie,a as Vl}from"./leveldataoverride-Jq7mjNil.js";import{g as H,_ as R,o,a as oe,c as se,b as pe,d as ue}from"./levelDataSetting-BAetVC9z.js";const _l={class:"page-div"},hl={class:"card-header"},yl={key:0},bl={class:"el-form-item-msg"},Cl={class:"card-header"},Ml={style:{width:"100%"}},wl={style:{width:"100%"}},kl={style:{"font-weight":"bolder"}},Ul={class:"item-container"},xl={style:{"font-weight":"bolder"}},zl={class:"item-container"},Rl={style:{"font-weight":"bolder"}},Sl={class:"item-container"},Pl={style:{"font-weight":"bolder"}},$l={class:"item-container"},Tl={style:{"font-weight":"bolder"}},Wl={class:"item-container"},Fl={style:{"font-weight":"bolder"}},Il={class:"item-container"},Dl={style:{"font-weight":"bolder"}},Al={class:"item-container"},Gl={style:{"font-weight":"bolder"}},jl={class:"item-container"},ql={style:{"font-weight":"bolder"}},El={class:"item-container"},Kl={style:{"font-weight":"bolder"}},Bl={class:"item-container"},Ol={style:{"font-weight":"bolder"}},Ll={class:"item-container"},Hl={style:{"font-weight":"bolder"}},Yl={class:"item-container"},Jl={style:{"font-weight":"bolder"}},Ql={class:"item-container"},Xl={style:{"font-weight":"bolder"}},Zl={class:"item-container"},Nl={style:{"font-weight":"bolder"}},et={class:"item-container"},lt={style:{"font-weight":"bolder"}},tt={class:"item-container"},at={style:{"font-weight":"bolder"}},nt={class:"item-container"},ot={style:{"font-weight":"bolder"}},st={class:"item-container"},ut={style:{"font-weight":"bolder"}},it={class:"item-container"},rt={style:{"font-weight":"bolder"}},dt={class:"item-container"},mt={style:{"font-weight":"bolder"}},ct={class:"item-container"},gt={style:{"font-weight":"bolder"}},pt={class:"item-container"},ft={style:{"font-weight":"bolder"}},vt={class:"item-container"},Vt={key:0,class:"tip_warning"},_t={style:{display:"flex","align-items":"center"}},ht={style:{display:"flex","justify-content":"flex-end"}},yt={class:"tip_warning"},bt={style:{margin:"50px"}},Ct={style:{display:"flex","align-items":"center"}},Mt={style:{"margin-right":"10px"}},wt={style:{display:"flex","justify-content":"flex-end","padding-top":"10px"}},kt=vl({name:"settingsRoom"}),Ut=Object.assign(kt,{setup(xt){const{t:a}=ul();il(async()=>{await qe(),Je()});const B=W(!1),{isMobile:C}=rl(),j=dl(),be=he(()=>j.isDark),D=he(()=>j.language),q=he(()=>{const s=(j.dstClusters||[]).findIndex(p=>p.clusterName===j.selectedDstCluster);return s!==-1?s:0}),ie=ml();cl();const Ce=gl(),Me=pl("refresh"),De=(u,s)=>{let p=null;return(...b)=>{p&&clearTimeout(p),p=setTimeout(()=>u(...b),s)}},fe=()=>{ne.clusters.get().then(u=>{j.dstClusters=u.data,j.selectedDstCluster===null&&j.dstClusters!==null&&(j.selectedDstCluster=j.dstClusters[0].clusterName)})},re=()=>{setTimeout(()=>{ie.meta.isKeepAlive&&Ce.removeKeepAliveName(ie.name),Me(!1),Z(()=>{ie.meta.isKeepAlive&&Ce.addKeepAliveName(ie.name),Me(!0)})},0)},$=W(0),de=u=>{$.value>u&&($.value=u)},Ae=()=>{$.value--},Ge=async()=>{if($.value===0&&we.value.validate(u=>{u&&$.value++}),$.value===1){for(let u in L)L!=null&&L.key&&await L[u].validate();for(let u of S.value){if(u.levelData===""){N("必填");return}try{ee.parse(u.levelData)}catch{N(a("setting.luaError"));return}}$.value++;return}if($.value===2)if(G.value)try{ee.parse(G.value.mod),$.value++}catch{N(a("setting.luaError"))}else $.value++},we=W(),y=W({clusterName:j.selectedDstCluster,name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!1,password:"",token:""}),je={name:[{required:!0,message:a("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:a("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:a("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:a("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:a("setting.roomBaseFormRules.token"),trigger:"blur"}]},G=W({mod:""}),qe=()=>{const u={clusterName:j.selectedDstCluster};ne.cluster.get(u).then(s=>{if(y.value=s.data.clusterSetting,s.data.worlds){S.value=s.data.worlds;let p=1,b=999999;for(let T of S.value){let h=parseInt(T.name.replace("World",""));h>p&&(p=h),h<b&&(b=h)}O.value=p,K.value="World"+b.toString()}else O.value=1,K.value="World1",S.value=[{name:"World1",isMaster:!0,levelData:"",serverPort:11001+q.value*10,shardMasterPort:10888+q.value*10,steamMasterPort:27018+q.value*10,steamAuthenticationPort:8768+q.value*10,shardMasterIp:"127.0.0.1",clusterKey:"supersecretkey",encodeUserPath:!0}];G.value.mod=s.data.mod})},Ee=async u=>{switch(u){case"save":Ke();break;case"saveAndRestart":Be();break;case"generateNewWorld":Oe();break}},Ke=()=>{const u={clusterSetting:y.value,worlds:S.value,mod:G.value.mod,sysSetting:{}};B.value=!0,ne.cluster.save.post(u).then(s=>{ye(s.message),B.value=!1,fe()}).finally(()=>{B.value=!1,Z(()=>{re()})})},Be=()=>{const u={clusterSetting:y.value,worlds:S.value,mod:G.value.mod,sysSetting:{}};B.value=!0,ne.cluster.saveRestart.post(u).then(s=>{ye(s.message),B.value=!1,fe()}).finally(()=>{B.value=!1,Z(()=>{re()})})},Oe=()=>{const u={clusterSetting:y.value,worlds:S.value,mod:G.value.mod,sysSetting:{}};B.value=!0,ne.cluster.saveRegenerate.post(u).then(s=>{ye(s.message),B.value=!1,fe()}).finally(()=>{B.value=!1,Z(()=>{re()})})},g=W({}),Le=u=>{if(u==="")return;const s=ee.parse(u),p=ke(s);g.value=He(p)};function ke(u){const p=u.body[0].arguments[0];for(const b of p.fields)if(b.key.type==="Identifier"&&b.key.name==="overrides")return b.value;return null}function He(u){const s={};for(const p of u.fields){const b=p.key.name;s[b]=p.value.raw.replace(/"/g,"")}return s}const Ue=u=>{let s=Vl.Beautify(u,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1});return s=s.replace(/--\[\[\n\t.+\n\t.+\n--]]\n\n\n\n\n/g,""),s=s.replace(/ = /g,"="),s=s.replace(/\t/g,"  "),s=s.replace(/overrides=\{ +(.+)\n/g,`overrides={
    $1
`),s=s.replace(/^(\w+)=(.+)\n/gm,`    $1=$2
`),s=s.replace(/(.+)},\n/g,`$1
  },
`),s=s.replace(/^ +?\n/gm,""),s},x=De(u=>{const s=u.name,p=u.value;for(let b of S.value)if(b.name===K.value){const T=ee.parse(b.levelData),h=ke(T);for(let F of h.fields)F.key.name===s&&(F.value.raw=`"${p}"`);b.levelData=w(T);break}},100),w=(u,s=0)=>{const p="    ".repeat(s);switch(u.type){case"Chunk":return u.body.map(b=>w(b,s)).join(`
`);case"LocalStatement":return`${p}local ${u.variables.map(w).join(", ")} = ${u.init.map(w).join(", ")}`;case"FunctionDeclaration":return`${p}function ${w(u.identifier)}(${u.parameters.map(w).join(", ")}) 
${w(u.body,s+1)}
${p}end`;case"ReturnStatement":return`${p}return ${u.arguments.map(w).join(", ")}`;case"BinaryExpression":return`${w(u.left)} ${u.operator} ${w(u.right)}`;case"CallStatement":return`${p}${w(u.expression)}`;case"Identifier":return u.name;case"StringLiteral":return`${u.raw}`;case"NumericLiteral":return u.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${p}{ ${u.fields.map(b=>w(b,s+1)).join(`,
`+p)} }`;case"Field":return u.key?`${w(u.key)} = ${w(u.value)}`:w(u.value);case"AssignmentStatement":return`${p}${u.variables.map(w).join(", ")} = ${u.init.map(w).join(", ")}`;case"CallExpression":return`${w(u.base)}(${u.arguments.map(w).join(", ")})`;case"TableKeyString":return`${w(u.key)} = ${w(u.value)}`;case"BooleanLiteral":return u.raw;case"TableKey":return`[${w(u.key)}] = ${w(u.value)}`;case"TableValue":return w(u.value);default:throw new Error(`Unsupported node type: ${u.type}`)}},O=W(1),K=W("World1"),S=W([{name:"World1",isMaster:!0,levelData:"",serverPort:11001+q.value*10,shardMasterPort:10888+q.value*10,steamMasterPort:27018+q.value*10,steamAuthenticationPort:8768+q.value*10,shardMasterIp:"127.0.0.1",clusterKey:"supersecretkey",encodeUserPath:!0}]),Ye={isMaster:[{required:!0,trigger:"change"}],encodeUserPath:[{required:!0,trigger:"change"}],serverPort:[{required:!0,message:a("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:a("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:a("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:a("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:a("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:a("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]},L={},Je=()=>{for(let u of S.value){const s=S.value.length;O.value=s,L[`World${s}`]=W()}},Qe=(u,s)=>{if(s==="add"){O.value++;const p=`World${O.value}`;L[p]=W(),S.value.push({name:p,isMaster:!1,levelData:"",serverPort:11e3+O.value+q.value*10,shardMasterPort:10887+O.value+q.value*10,steamMasterPort:27017+O.value+q.value*10,steamAuthenticationPort:8767+O.value+q.value*10,shardMasterIp:"127.0.0.1",clusterKey:"supersecretkey",encodeUserPath:!0}),K.value=p}else if(s==="remove"){if(S.value.length===1){N(D.value==="zh"?"每个房间至少含有一个世界":"Every room must include at least one world");return}const p=S.value;let b=K.value;p.forEach((T,h)=>{if(T.name===u){const F=p[h+1]||p[h-1];F&&(b=F.name)}}),K.value=b,S.value=p.filter(T=>T.name!==u),delete L[u]}le.value="Code"},le=W("Code"),Xe=u=>{for(let s of S.value)s.name===K.value&&(u.clusterType==="endless"&&(u.worldType==="ground"&&(s.levelData=Fe.master),u.worldType==="cave"&&(s.levelData=Fe.caves)),u.clusterType==="survival"&&(u.worldType==="ground"&&(s.levelData=Ie.master),u.worldType==="cave"&&(s.levelData=Ie.caves)))},ve=W(""),Ze=async u=>{if(u==="Visualization")try{for(let s of S.value)if(s.name===K.value){ve.value=Ve(s.levelData),await Le(s.levelData);break}}catch{N(D.value==="zh"?"可视化配置加载失败":"Visualization load failed")}u==="Code"&&await Z(()=>{for(let s of S.value)if(s.name===K.value){s.levelData=Ue(s.levelData);break}})},Ve=u=>{const s=/location\s*=\s*"([^"]*)"/,p=u.match(s);return p?p[1]:""},Ne=()=>{le.value="Code"},me=W(!1),J=W({}),te=W({}),el=()=>{J.value={},te.value={},me.value=!0},ll=()=>{if(Object.keys(J.value).length!==S.value.length){N(D.value==="zh"?"世界名为必填项":"World name is required");return}let u="";for(let h in J.value)u=u+`["${h}"]="${J.value[h]}",`;let s="";for(let h in te.value)s=s+`["${h}"]="${te.value[h]}",`;u=u.slice(0,-1),s=s.slice(0,-1);let p=`return {["workshop-1438233888"]={
    configuration_options={
      auto_balancing=true,
      extra_worlds={},
      ignore_sinkholes=false,
      invisible_worlds={},
      language="auto",
      migration_postern=false,
      no_bat=true,
      population_limit={${s}},
      say_dest=true,
      world_name={${u}},
      world_prompt=true
    },
    enabled=true
  }}`;G.value.mod===""&&(G.value.mod="return {}");const b=ee.parse(G.value.mod),T=ee.parse(p);for(const[h,F]of b.body[0].arguments[0].fields.entries())F.key.raw==='"workshop-1438233888"'&&b.body[0].arguments[0].fields.splice(h,1);b.body[0].arguments[0].fields.push(T.body[0].arguments[0].fields[0]),G.value.mod=Ue(w(b)),me.value=!1};return fl(()=>j.selectedDstCluster,u=>{u&&Z(()=>{re()})},{immediate:!1}),(u,s)=>{const p=k("el-step"),b=k("el-steps"),T=k("el-card"),h=k("el-col"),F=k("el-row"),E=k("el-input"),P=k("el-form-item"),ce=k("el-radio"),tl=k("el-radio-group"),ge=k("el-switch"),xe=k("el-slider"),al=k("el-link"),ae=k("el-form"),ze=k("el-icon"),X=k("el-button"),Q=k("el-dropdown-item"),Re=k("el-dropdown-menu"),Se=k("el-dropdown"),Y=k("el-tooltip"),_e=k("el-tab-pane"),z=k("el-divider"),Pe=k("el-tabs"),nl=k("el-result"),$e=k("el-tag"),ol=k("el-dialog");return i(),c("div",_l,[t(F,{gutter:10},{default:n(()=>[t(h,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:n(()=>[t(T,{shadow:"never"},{default:n(()=>[t(b,{active:$.value,"align-center":"","finish-status":"success"},{default:n(()=>[t(p,{title:e(C)?e(a)("setting.roomSettingMobile"):e(a)("setting.roomSetting"),onClick:s[0]||(s[0]=m=>de(0))},null,8,["title"]),t(p,{title:e(C)?e(a)("setting.worldSettingMobile"):e(a)("setting.worldSetting"),onClick:s[1]||(s[1]=m=>de(1))},null,8,["title"]),t(p,{title:e(C)?e(a)("setting.modSettingMobile"):e(a)("setting.modSetting"),onClick:s[2]||(s[2]=m=>de(3))},null,8,["title"]),t(p,{title:e(C)?e(a)("setting.finishSettingMobile"):e(a)("setting.finishSetting"),onClick:s[3]||(s[3]=m=>de(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),t(F,{gutter:10,style:{"margin-top":"5px"}},{default:n(()=>[t(h,{lg:24,md:24,sm:24,span:24,xs:24},{default:n(()=>[$.value===0?(i(),_(T,{key:0,style:A(e(C)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:n(()=>[d("div",hl,[d("span",null,r(e(a)("setting.roomSetting")),1)])]),default:n(()=>[t(ae,{ref_key:"clusterSettingFormRef",ref:we,"label-position":e(C)?"top":"left","label-width":e(C)?"70":"auto",model:y.value,rules:je,size:e(C)?"small":"large"},{default:n(()=>[t(P,{label:e(a)("setting.baseForm.room"),prop:"name",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(E,{modelValue:y.value.name,"onUpdate:modelValue":s[4]||(s[4]=m=>y.value.name=m)},null,8,["modelValue"])]),_:1},8,["label","style"]),e(C)?I("",!0):(i(),c("div",yl)),t(P,{label:e(a)("setting.baseForm.description"),prop:"description",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(E,{modelValue:y.value.description,"onUpdate:modelValue":s[5]||(s[5]=m=>y.value.description=m)},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.gameMode.name"),prop:"gameMode",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(tl,{modelValue:y.value.gameMode,"onUpdate:modelValue":s[6]||(s[6]=m=>y.value.gameMode=m)},{default:n(()=>[t(ce,{label:e(a)("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),t(ce,{label:e(a)("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),t(ce,{label:e(a)("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),t(ce,{label:e(a)("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.pvp"),prop:"pvp",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(ge,{modelValue:y.value.pvp,"onUpdate:modelValue":s[7]||(s[7]=m=>y.value.pvp=m)},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.playerNum"),prop:"playerNum",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(xe,{modelValue:y.value.playerNum,"onUpdate:modelValue":s[8]||(s[8]=m=>y.value.playerNum=m),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.backDays"),prop:"backDays",style:A(e(C)?"padding-top: 0px":"padding-top: 25px")},{default:n(()=>[t(xe,{modelValue:y.value.backDays,"onUpdate:modelValue":s[9]||(s[9]=m=>y.value.backDays=m),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.vote"),prop:"vote",style:A(e(C)?"padding-top: 0px":"padding-top: 29px")},{default:n(()=>[t(ge,{modelValue:y.value.vote,"onUpdate:modelValue":s[10]||(s[10]=m=>y.value.vote=m)},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.password"),style:A(e(C)?"padding-top: 0px":"padding-top: 30px")},{default:n(()=>[t(E,{modelValue:y.value.password,"onUpdate:modelValue":s[11]||(s[11]=m=>y.value.password=m),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label","style"]),t(P,{label:e(a)("setting.baseForm.token"),prop:"token",style:A(e(C)?"padding-top: 0px":"padding-top: 30px")},{default:n(()=>[t(E,{modelValue:y.value.token,"onUpdate:modelValue":s[12]||(s[12]=m=>y.value.token=m),"show-password":""},null,8,["modelValue"]),d("div",bl,[t(al,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:n(()=>[V(r(e(a)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label","style"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):I("",!0),$.value===1?(i(),_(T,{key:1,style:A(e(C)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:n(()=>[d("div",Cl,[d("span",null,r(e(a)("setting.worldSetting")),1),d("div",null,[t(Se,{trigger:"click",onCommand:Xe},{dropdown:n(()=>[t(Re,null,{default:n(()=>[t(Q,{command:{clusterType:"endless",worldType:"ground"},disabled:y.value.gameMode!=="endless"},{default:n(()=>[V(r(e(a)("setting.endless"))+"-"+r(e(a)("setting.groundSettingMobile")),1)]),_:1},8,["disabled"]),t(Q,{command:{clusterType:"endless",worldType:"cave"},disabled:y.value.gameMode!=="endless"},{default:n(()=>[V(r(e(a)("setting.endless"))+"-"+r(e(a)("setting.caveSettingMobile")),1)]),_:1},8,["disabled"]),t(Q,{command:{clusterType:"survival",worldType:"ground"},disabled:y.value.gameMode!=="survival"},{default:n(()=>[V(r(e(a)("setting.survival"))+"-"+r(e(a)("setting.groundSettingMobile")),1)]),_:1},8,["disabled"]),t(Q,{command:{clusterType:"survival",worldType:"cave"},disabled:y.value.gameMode!=="survival"},{default:n(()=>[V(r(e(a)("setting.survival"))+"-"+r(e(a)("setting.caveSettingMobile")),1)]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[t(X,{disabled:le.value!=="Code",type:"success"},{default:n(()=>[V(r(e(a)("setting.oneClick"))+" ",1),t(ze,{class:"el-icon--right"},{default:n(()=>[t(e(Te))]),_:1})]),_:1},8,["disabled"])]),_:1})])])]),default:n(()=>[t(Pe,{modelValue:K.value,"onUpdate:modelValue":s[14]||(s[14]=m=>K.value=m),editable:"",type:"card",onEdit:Qe,onTabChange:Ne},{default:n(()=>[(i(!0),c(M,null,U(S.value,m=>(i(),_(_e,{key:m.name,label:D.value==="zh"?"世界":"World",name:m.name},{default:n(()=>[t(F,null,{default:n(()=>[t(ae,{ref_for:!0,ref:l=>L[m.name]=l,"label-position":e(C)||D.value==="en"?"top":"left",model:m,rules:Ye,size:e(C)?"small":"large",inline:"","label-width":"120px",style:{"margin-top":"10px"}},{default:n(()=>[t(F,null,{default:n(()=>[t(h,{span:8,xs:12},{default:n(()=>[t(P,{label:e(a)("setting.isMaster"),prop:"isMaster"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.isMasterTip"),effect:"light",placement:"top"},{default:n(()=>[t(ge,{modelValue:m.isMaster,"onUpdate:modelValue":l=>m.isMaster=l,"active-text":D.value==="zh"?"是":"Y","inactive-text":D.value==="zh"?"否":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024),t(h,{span:8,xs:12},{default:n(()=>[t(P,{label:e(a)("setting.system.encodeUserPath.divider"),prop:"encodeUserPath"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.encodeUserPathTip"),effect:"light",placement:"top"},{default:n(()=>[t(ge,{modelValue:m.encodeUserPath,"onUpdate:modelValue":l=>m.encodeUserPath=l,"active-text":D.value==="zh"?"是":"Y","inactive-text":D.value==="zh"?"否":"N","inline-prompt":""},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024),t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.serverPort"),prop:"serverPort"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.serverPortTip"),effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.serverPort,"onUpdate:modelValue":l=>m.serverPort=l,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024)]),_:2},1024),t(F,null,{default:n(()=>[t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.noEdit")+"，cluster.ini -> [SHARD] -> master_port",effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.shardMasterPort,"onUpdate:modelValue":l=>m.shardMasterPort=l,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024),t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.noEdit")+"，server.ini -> [STEAM] -> server_master_port",effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.steamMasterPort,"onUpdate:modelValue":l=>m.steamMasterPort=l,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024),t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.noEdit")+"，server.ini -> [STEAM] -> authentication_port",effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.steamAuthenticationPort,"onUpdate:modelValue":l=>m.steamAuthenticationPort=l,size:"default",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024)]),_:2},1024),t(F,null,{default:n(()=>[t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.shardMasterIp"),prop:"shardMasterIp"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.shardMasterIpTip"),effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.shardMasterIp,"onUpdate:modelValue":l=>m.shardMasterIp=l,disabled:m.isMaster,size:"default"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024),e(C)?I("",!0):(i(),_(h,{key:0,span:8})),t(h,{span:8,xs:24},{default:n(()=>[t(P,{label:e(a)("setting.roomWorldForm.clusterKey"),prop:"clusterKey"},{default:n(()=>[t(Y,{"show-after":100,content:e(a)("setting.clusterKeyTip"),effect:"light",placement:"top"},{default:n(()=>[t(E,{modelValue:m.clusterKey,"onUpdate:modelValue":l=>m.clusterKey=l,autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["content"])]),_:2},1032,["label"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["label-position","model","size"])]),_:2},1024),d("div",Ml,[t(Pe,{modelValue:le.value,"onUpdate:modelValue":s[13]||(s[13]=l=>le.value=l),onTabChange:Ze},{default:n(()=>[t(_e,{label:D.value==="zh"?"配置文件":"Code",name:"Code"},{default:n(()=>[d("div",wl,[t(ae,{model:m},{default:n(()=>[t(P,null,{default:n(()=>[t(We,{modelValue:m.levelData,"onUpdate:modelValue":l=>m.levelData=l,height:e(C)?320:500,theme:be.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1024)]),_:2},1032,["model"])])]),_:2},1032,["label"]),(y.value.gameMode==="endless"||y.value.gameMode==="survival")&&m.levelData!==""?(i(),_(_e,{key:0,label:e(a)("setting.tabVisualization"),lazy:"",name:"Visualization"},{default:n(()=>[ve.value==="forest"&&Object.keys(g.value).length!==0?(i(),c(M,{key:0},[t(z,{"content-position":"center"},{default:n(()=>[d("span",kl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),d("div",Ul,[(i(!0),c(M,null,U(e(H).global,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",xl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),d("div",zl,[(i(!0),c(M,null,U(e(H).events,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Rl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),d("div",Sl,[(i(!0),c(M,null,U(e(H).survivors,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Pl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),d("div",$l,[(i(!0),c(M,null,U(e(H).world,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Tl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),d("div",Wl,[(i(!0),c(M,null,U(e(H).resourceRegrowth,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Fl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),d("div",Il,[(i(!0),c(M,null,U(e(H).unnaturalPortalResource,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Dl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),d("div",Al,[(i(!0),c(M,null,U(e(H).creatures,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Gl,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),d("div",jl,[(i(!0),c(M,null,U(e(H).hostileCreatures,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",ql,r(e(a)("setting.groundVisualizationRule")),1),V(" - "+r(e(a)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),d("div",El,[(i(!0),c(M,null,U(e(H).giants,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Kl,r(e(a)("setting.groundVisualizationGeneration")),1),V(" - "+r(e(a)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),d("div",Bl,[(i(!0),c(M,null,U(e(oe).global,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Ol,r(e(a)("setting.groundVisualizationGeneration")),1),V(" - "+r(e(a)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),d("div",Ll,[(i(!0),c(M,null,U(e(oe).world,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Hl,r(e(a)("setting.groundVisualizationGeneration")),1),V(" - "+r(e(a)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),d("div",Yl,[(i(!0),c(M,null,U(e(oe).resources,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Jl,r(e(a)("setting.groundVisualizationGeneration")),1),V(" - "+r(e(a)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),d("div",Ql,[(i(!0),c(M,null,U(e(oe).creaturesAndSpawners,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",Xl,r(e(a)("setting.groundVisualizationGeneration")),1),V(" - "+r(e(a)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),d("div",Zl,[(i(!0),c(M,null,U(e(oe).hostileCreaturesAndSpawners,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))])],64)):I("",!0),ve.value==="cave"&&Object.keys(g.value).length!==0?(i(),c(M,{key:1},[t(z,{"content-position":"center"},{default:n(()=>[d("span",Nl,r(e(a)("setting.cavesVisualizationRule")),1),V(" - "+r(e(a)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),d("div",et,[(i(!0),c(M,null,U(e(se).world,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",lt,r(e(a)("setting.cavesVisualizationRule")),1),V(" - "+r(e(a)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),d("div",tt,[(i(!0),c(M,null,U(e(se).resourceRegrowth,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",at,r(e(a)("setting.cavesVisualizationRule")),1),V(" - "+r(e(a)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),d("div",nt,[(i(!0),c(M,null,U(e(se).creatures,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",ot,r(e(a)("setting.cavesVisualizationRule")),1),V(" - "+r(e(a)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),d("div",st,[(i(!0),c(M,null,U(e(se).hostileCreatures,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",ut,r(e(a)("setting.cavesVisualizationRule")),1),V(" - "+r(e(a)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),d("div",it,[(i(!0),c(M,null,U(e(se).giants,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",rt,r(e(a)("setting.cavesVisualizationGeneration")),1),V(" - "+r(e(a)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),d("div",dt,[(i(!0),c(M,null,U(e(pe).world,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(ue)[l].configs,customConfigsValue:e(ue)[l].customConfigsValue,defaultModelValue:e(ue)[l].modelValue,i18n:e(ue)[l].i18n,image:e(ue)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",mt,r(e(a)("setting.cavesVisualizationGeneration")),1),V(" - "+r(e(a)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),d("div",ct,[(i(!0),c(M,null,U(e(pe).resources,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",gt,r(e(a)("setting.cavesVisualizationGeneration")),1),V(" - "+r(e(a)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),d("div",pt,[(i(!0),c(M,null,U(e(pe).creaturesAndSpawners,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))]),t(z,{"content-position":"center"},{default:n(()=>[d("span",ft,r(e(a)("setting.cavesVisualizationGeneration")),1),V(" - "+r(e(a)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),d("div",vt,[(i(!0),c(M,null,U(e(pe).hostileCreaturesAndSpawners,(l,f)=>(i(),c("div",null,[(i(),_(R,{key:f,modelValue:g.value[l],"onUpdate:modelValue":v=>g.value[l]=v,configs:e(o)[l].configs,customConfigsValue:e(o)[l].customConfigsValue,defaultModelValue:e(o)[l].modelValue,i18n:e(o)[l].i18n,image:e(o)[l].image,name:l,onChangeModelValue:e(x)},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name","onChangeModelValue"]))]))),256))])],64)):I("",!0)]),_:2},1032,["label"])):I("",!0)]),_:2},1032,["modelValue"])])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["style"])):I("",!0),$.value===2?(i(),_(T,{key:2,style:A(e(C)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:n(()=>[S.value.length>2?(i(),c("div",Vt,[d("div",_t,[d("span",null,r(e(a)("setting.multiWorldTip")),1),t(X,{size:"small",style:{"margin-left":"10px"},type:"warning",onClick:el},{default:n(()=>[V(r(D.value==="zh"?"多层世界":"Multi-world"),1)]),_:1})])])):I("",!0),t(ae,{model:G.value},{default:n(()=>[t(P,null,{default:n(()=>[t(We,{modelValue:G.value.mod,"onUpdate:modelValue":s[15]||(s[15]=m=>G.value.mod=m),height:e(C)?320:795,theme:be.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["model"])]),_:1},8,["style"])):I("",!0),$.value===3?(i(),_(T,{key:3,style:A(e(C)?"min-height: 400px":"min-height: 935px"),shadow:"never"},{default:n(()=>[d("div",{style:A(e(C)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[t(nl,{"sub-title":e(a)("setting.finish.description"),title:e(a)("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):I("",!0)]),_:1})]),_:1}),t(F,{gutter:10},{default:n(()=>[t(h,{lg:24,md:24,sm:24,span:24,xs:24},{default:n(()=>[t(T,{shadow:"never"},{default:n(()=>[d("div",ht,[$.value>0?(i(),_(X,{key:0,onClick:Ae},{default:n(()=>[V(r(e(a)("setting.button.prev")),1)]),_:1})):I("",!0),$.value<3?(i(),_(X,{key:1,type:"primary",onClick:Ge},{default:n(()=>[V(r(e(a)("setting.button.next")),1)]),_:1})):I("",!0),$.value===3?(i(),_(Se,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:Ee},{dropdown:n(()=>[t(Re,null,{default:n(()=>[t(Q,{command:"save"},{default:n(()=>[V(r(e(a)("setting.button.save")),1)]),_:1}),t(Q,{command:"saveAndRestart"},{default:n(()=>[V(r(e(a)("setting.button.saveAndRestart")),1)]),_:1}),t(Q,{command:"generateNewWorld"},{default:n(()=>[V(r(e(a)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:n(()=>[t(X,{loading:B.value,type:"warning"},{default:n(()=>[V(r(e(a)("setting.button.actions"))+" ",1),t(ze,{class:"el-icon--right"},{default:n(()=>[t(e(Te))]),_:1})]),_:1},8,["loading"])]),_:1})):I("",!0)])]),_:1})]),_:1})]),_:1}),t(ol,{modelValue:me.value,"onUpdate:modelValue":s[16]||(s[16]=m=>me.value=m),width:"50%"},{header:n(()=>[V(r(e(a)("setting.multiWorldDialog.title")),1)]),default:n(()=>[d("div",yt,r(e(a)("setting.multiWorldDialog.tip")),1),d("div",bt,[t(ae,{model:J.value,"label-position":"top"},{default:n(()=>[(i(!0),c(M,null,U(S.value,m=>(i(),_(P,null,{label:n(()=>[d("div",Ct,[d("span",Mt,r(m.name),1),Ve(m.levelData)==="forest"?(i(),_($e,{key:0,type:"primary"},{default:n(()=>[V(r(D.value==="zh"?"地面":"Ground"),1)]),_:1})):I("",!0),Ve(m.levelData)==="cave"?(i(),_($e,{key:1,type:"info"},{default:n(()=>[V(r(D.value==="zh"?"洞穴":"Cave"),1)]),_:1})):I("",!0)])]),default:n(()=>[t(E,{modelValue:J.value[`${parseInt(m.name.replace("World",""))}`],"onUpdate:modelValue":l=>J.value[`${parseInt(m.name.replace("World",""))}`]=l,placeholder:e(a)("setting.multiWorldDialog.placeholder1"),style:{width:"60%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"]),t(E,{modelValue:te.value[`${parseInt(m.name.replace("World",""))}`],"onUpdate:modelValue":l=>te.value[`${parseInt(m.name.replace("World",""))}`]=l,placeholder:e(a)("setting.multiWorldDialog.placeholder2"),type:"number",style:{"margin-left":"3%",width:"37%"}},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256)),d("div",wt,[t(X,{type:"primary",onClick:ll},{default:n(()=>[V(r(D.value==="zh"?"生成配置":"Generate"),1)]),_:1})])]),_:1},8,["model"])])]),_:1},8,["modelValue"])])}}}),$t=sl(Ut,[["__scopeId","data-v-e09f428d"]]);export{$t as default};
