import{a9 as Mt,aa as ln,_ as an,u as on,o as rn,r as Be,a as un,g as sn,c as $t,ab as dn,Q as fn,I as cn,ac as mn,B as be,d as v,e as N,F as te,f as c,w as y,j as n,k as K,p as Ye,i as P,t as I,m as j,n as Te,v as ne,X as gn,A as st,y as Rt,ad as Tt}from"./index-DwAGqBJ_.js";import{s as vt}from"./index-CWE38C_L.js";import{s as kt}from"./index-BeNabz_n.js";import{g as Ae,_ as le,o as d,a as lt,c as at,b as gt,d as pt}from"./levelDataSetting-CH0Nt78a.js";var Lt={exports:{}};Lt.exports;(function(ot,h){(function(de,k,D){var Ve=h&&!h.nodeType&&h,fe=ot&&!ot.nodeType&&ot,pe=Ve&&fe&&typeof Mt=="object"&&Mt,ft=fe&&fe.exports===Ve&&Ve;pe&&(pe.global===pe||pe.window===pe||pe.self===pe)&&(de=pe),D(Ve&&fe?ft?fe.exports:Ve:de[k]={})})(Mt,"luaparse",function(de){de.version="0.3.1";var k,D,Ve,fe,pe,ft=de.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function it(a,u){return u=u||0,a<128?String.fromCharCode(a):a<2048?String.fromCharCode(u|192|a>>6,u|128|a&63):a<65536?String.fromCharCode(u|224|a>>12,u|128|a>>6&63,u|128|a&63):a<1114112?String.fromCharCode(u|240|a>>18,u|128|a>>12&63,u|128|a>>6&63,u|128|a&63):null}function Xe(a,u){for(var V=a.toString(16);V.length<u;)V="0"+V;return V}function rt(a){return function(u){var V=a.exec(u);if(!V)return u;ae(null,ue.invalidCodeUnit,Xe(V[0].charCodeAt(0),4).toUpperCase())}}var Ze={"pseudo-latin1":{fixup:rt(/[^\x00-\xff]/),encodeByte:function(a){return a===null?"":String.fromCharCode(a)},encodeUTF8:function(a){return it(a)}},"x-user-defined":{fixup:rt(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(a){return a===null?"":a>=128?String.fromCharCode(a|63232):String.fromCharCode(a)},encodeUTF8:function(a){return it(a,63232)}},none:{discardStrings:!0,fixup:function(a){return a},encodeByte:function(a){return""},encodeUTF8:function(a){return""}}},ee=1,Le=2,Ke=4,Ie=8,Ue=16,A=32,et=64,He=128,ge=256;de.tokenTypes={EOF:ee,StringLiteral:Le,Keyword:Ke,Identifier:Ie,NumericLiteral:Ue,Punctuator:A,BooleanLiteral:et,NilLiteral:He,VarargLiteral:ge};var ue=de.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},re=de.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,u){return{type:"IfClause",condition:a,body:u}},elseifClause:function(a,u){return{type:"ElseifClause",condition:a,body:u}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,u){return{type:"WhileStatement",condition:a,body:u}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,u){return{type:"RepeatStatement",condition:a,body:u}},localStatement:function(a,u){return{type:"LocalStatement",variables:a,init:u}},assignmentStatement:function(a,u){return{type:"AssignmentStatement",variables:a,init:u}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,u,V,U){return{type:"FunctionDeclaration",identifier:a,isLocal:V,parameters:u,body:U}},forNumericStatement:function(a,u,V,U,q){return{type:"ForNumericStatement",variable:a,start:u,end:V,step:U,body:q}},forGenericStatement:function(a,u,V){return{type:"ForGenericStatement",variables:a,iterators:u,body:V}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,u,V){return a=a===Le?"StringLiteral":a===Ue?"NumericLiteral":a===et?"BooleanLiteral":a===He?"NilLiteral":"VarargLiteral",{type:a,value:u,raw:V}},tableKey:function(a,u){return{type:"TableKey",key:a,value:u}},tableKeyString:function(a,u){return{type:"TableKeyString",key:a,value:u}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,u,V){var U=a==="and"||a==="or"?"LogicalExpression":"BinaryExpression";return{type:U,operator:a,left:u,right:V}},unaryExpression:function(a,u){return{type:"UnaryExpression",operator:a,argument:u}},memberExpression:function(a,u,V){return{type:"MemberExpression",indexer:u,identifier:V,base:a}},indexExpression:function(a,u){return{type:"IndexExpression",base:a,index:u}},callExpression:function(a,u){return{type:"CallExpression",base:a,arguments:u}},tableCallExpression:function(a,u){return{type:"TableCallExpression",base:a,arguments:u}},stringCallExpression:function(a,u){return{type:"StringCallExpression",base:a,argument:u}},comment:function(a,u){return{type:"Comment",value:a,raw:u}}};function Z(a){if(e){var u=O.pop();u.complete(),u.bless(a)}return D.onCreateNode&&D.onCreateNode(a),a}var Je=Array.prototype.slice,ut=function(a,u){for(var V=0,U=a.length;V<U;++V)if(a[V]===u)return V;return-1};Array.prototype.indexOf&&(ut=function(a,u){return a.indexOf(u)});function we(a,u,V){for(var U=0,q=a.length;U<q;++U)if(a[U][u]===V)return U;return-1}function tt(a){var u=Je.call(arguments,1);return a=a.replace(/%(\d)/g,function(V,U){return""+u[U-1]||""}),a}var Pe=function(a){for(var u=Je.call(arguments,1),V,U,q=0,me=u.length;q<me;++q){V=u[q];for(U in V)Object.prototype.hasOwnProperty.call(V,U)&&(a[U]=V[U])}return a};Object.assign&&(Pe=Object.assign),de.SyntaxError=SyntaxError;function ht(a){return Object.create?Object.create(a,{line:{writable:!0,value:a.line},index:{writable:!0,value:a.index},column:{writable:!0,value:a.column}}):a}function ae(a){var u=tt.apply(null,Je.call(arguments,1)),V,U;throw a===null||typeof a.line>"u"?(U=b-g+1,V=ht(new SyntaxError(tt("[%1:%2] %3",p,U,u))),V.index=b,V.line=p,V.column=U):(U=a.range[0]-a.lineStart,V=ht(new SyntaxError(tt("[%1:%2] %3",a.line,U,u))),V.line=a.line,V.index=a.range[0],V.column=U),V}function ve(a){var u=k.slice(a.range[0],a.range[1]);return u||a.value}function Ne(a,u){ae(u,ue.expectedToken,a,ve(u))}function nt(a){var u=ve($e);if(typeof a.type<"u"){var V;switch(a.type){case Le:V="string";break;case Ke:V="keyword";break;case Ie:V="identifier";break;case Ue:V="number";break;case A:V="symbol";break;case et:V="boolean";break;case He:return ae(a,ue.unexpected,"symbol","nil",u);case ee:return ae(a,ue.unexpectedEOF)}return ae(a,ue.unexpected,V,ve(a),u)}return ae(a,ue.unexpected,"symbol",a,u)}var b,W,Ge,$e,E,w,p,g;de.lex=S;function S(){for(t();k.charCodeAt(b)===45&&k.charCodeAt(b+1)===45;)ce(),t();if(b>=Ve)return{type:ee,value:"<eof>",line:p,lineStart:g,range:[b,b]};var a=k.charCodeAt(b),u=k.charCodeAt(b+1);if(w=b,yt(a))return _();switch(a){case 39:case 34:return T();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l();case 46:return je(u)?l():u===46?k.charCodeAt(b+2)===46?m():f(".."):f(".");case 61:return f(u===61?"==":"=");case 62:return fe.bitwiseOperators&&u===62?f(">>"):f(u===61?">=":">");case 60:return fe.bitwiseOperators&&u===60?f("<<"):f(u===61?"<=":"<");case 126:if(u===61)return f("~=");if(!fe.bitwiseOperators)break;return f("~");case 58:return fe.labels&&u===58?f("::"):f(":");case 91:return u===91||u===61?M():f("[");case 47:return fe.integerDivision&&u===47?f("//"):f("/");case 38:case 124:if(!fe.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return f(k.charAt(b))}return nt(k.charAt(b))}function C(){var a=k.charCodeAt(b),u=k.charCodeAt(b+1);return Se(a)?(a===10&&u===13&&++b,a===13&&u===10&&++b,++p,g=++b,!0):!1}function t(){for(;b<Ve;){var a=k.charCodeAt(b);if(oe(a))++b;else if(!C())break}}function _(){for(var a,u;ct(k.charCodeAt(++b)););return a=pe.fixup(k.slice(w,b)),mt(a)?u=Ke:a==="true"||a==="false"?(u=et,a=a==="true"):a==="nil"?(u=He,a=null):u=Ie,{type:u,value:a,line:p,lineStart:g,range:[w,b]}}function f(a){return b+=a.length,{type:A,value:a,line:p,lineStart:g,range:[w,b]}}function m(){return b+=3,{type:ge,value:"...",line:p,lineStart:g,range:[w,b]}}function T(){for(var a=k.charCodeAt(b++),u=p,V=g,U=b,q=pe.discardStrings?null:"",me;me=k.charCodeAt(b++),a!==me;)if((b>Ve||Se(me))&&(q+=k.slice(U,b-1),ae(null,ue.unfinishedString,k.slice(w,b-1))),me===92){if(!pe.discardStrings){var _e=k.slice(U,b-1);q+=pe.fixup(_e)}var Fe=Y();pe.discardStrings||(q+=Fe),U=b}return pe.discardStrings||(q+=pe.encodeByte(null),q+=pe.fixup(k.slice(U,b-1))),{type:Le,value:q,line:u,lineStart:V,lastLine:p,lastLineStart:g,range:[w,b]}}function M(){var a=p,u=g,V=ke(!1);return V===!1&&ae(W,ue.expected,"[",ve(W)),{type:Le,value:pe.discardStrings?null:pe.fixup(V),line:a,lineStart:u,lastLine:p,lastLineStart:g,range:[w,b]}}function l(){var a=k.charAt(b),u=k.charAt(b+1),V=a==="0"&&"xX".indexOf(u||null)>=0?o():r(),U=i(),q=s();return q&&(U||V.hasFractionPart)&&ae(null,ue.malformedNumber,k.slice(w,b)),{type:Ue,value:V.value,line:p,lineStart:g,range:[w,b]}}function i(){if(fe.imaginaryNumbers)return"iI".indexOf(k.charAt(b)||null)>=0?(++b,!0):!1}function s(){if(fe.integerSuffixes){if("uU".indexOf(k.charAt(b)||null)>=0)if(++b,"lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"ULL";ae(null,ue.malformedNumber,k.slice(w,b))}else ae(null,ue.malformedNumber,k.slice(w,b));else if("lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"LL";ae(null,ue.malformedNumber,k.slice(w,b))}}}function o(){var a=0,u=1,V=1,U,q,me,_e;for(_e=b+=2,Ce(k.charCodeAt(b))||ae(null,ue.malformedNumber,k.slice(w,b));Ce(k.charCodeAt(b));)++b;U=parseInt(k.slice(_e,b),16);var Fe=!1;if(k.charAt(b)==="."){for(Fe=!0,q=++b;Ce(k.charCodeAt(b));)++b;a=k.slice(q,b),a=q===b?0:parseInt(a,16)/Math.pow(16,b-q)}var St=!1;if("pP".indexOf(k.charAt(b)||null)>=0){for(St=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&(V=k.charAt(b++)==="+"?1:-1),me=b,je(k.charCodeAt(b))||ae(null,ue.malformedNumber,k.slice(w,b));je(k.charCodeAt(b));)++b;u=k.slice(me,b),u=Math.pow(2,u*V)}return{value:(U+a)*u,hasFractionPart:Fe||St}}function r(){for(;je(k.charCodeAt(b));)++b;var a=!1;if(k.charAt(b)===".")for(a=!0,++b;je(k.charCodeAt(b));)++b;var u=!1;if("eE".indexOf(k.charAt(b)||null)>=0)for(u=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&++b,je(k.charCodeAt(b))||ae(null,ue.malformedNumber,k.slice(w,b));je(k.charCodeAt(b));)++b;return{value:parseFloat(k.slice(w,b)),hasFractionPart:a||u}}function H(){var a=b++;for(k.charAt(b++)!=="{"&&ae(null,ue.braceExpected,"{","\\"+k.slice(a,b)),Ce(k.charCodeAt(b))||ae(null,ue.hexadecimalDigitExpected,"\\"+k.slice(a,b));k.charCodeAt(b)===48;)++b;for(var u=b;Ce(k.charCodeAt(b));)++b,b-u>6&&ae(null,ue.tooLargeCodepoint,"\\"+k.slice(a,b));var V=k.charAt(b++);V!=="}"&&(V==='"'||V==="'"?ae(null,ue.braceExpected,"}","\\"+k.slice(a,b--)):ae(null,ue.hexadecimalDigitExpected,"\\"+k.slice(a,b)));var U=parseInt(k.slice(u,b-1)||"0",16),q="\\"+k.slice(a,b);return U>1114111&&ae(null,ue.tooLargeCodepoint,q),pe.encodeUTF8(U,q)}function Y(){var a=b;switch(k.charAt(b)){case"a":return++b,"\x07";case"n":return++b,`
`;case"r":return++b,"\r";case"t":return++b,"	";case"v":return++b,"\v";case"b":return++b,"\b";case"f":return++b,"\f";case"\r":case`
`:return C(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;je(k.charCodeAt(b))&&b-a<3;)++b;var u=k.slice(a,b),V=parseInt(u,10);return V>255&&ae(null,ue.decimalEscapeTooLarge,"\\"+V),pe.encodeByte(V,"\\"+u);case"z":if(fe.skipWhitespaceEscape)return++b,t(),"";break;case"x":if(fe.hexEscapes){if(Ce(k.charCodeAt(b+1))&&Ce(k.charCodeAt(b+2)))return b+=3,pe.encodeByte(parseInt(k.slice(a+1,b),16),"\\"+k.slice(a,b));ae(null,ue.hexadecimalDigitExpected,"\\"+k.slice(a,b+2))}break;case"u":if(fe.unicodeEscapes)return H();break;case"\\":case'"':case"'":return k.charAt(b++)}return fe.strictEscapes&&ae(null,ue.invalidEscape,"\\"+k.slice(a,b+1)),k.charAt(b++)}function ce(){w=b,b+=2;var a=k.charAt(b),u="",V=!1,U=b,q=g,me=p;if(a==="["&&(u=ke(!0),u===!1?u=a:V=!0),!V){for(;b<Ve&&!Se(k.charCodeAt(b));)++b;D.comments&&(u=k.slice(U,b))}if(D.comments){var _e=re.comment(u,k.slice(w,b));D.locations&&(_e.loc={start:{line:me,column:w-q},end:{line:p,column:b-g}}),D.ranges&&(_e.range=[w,b]),D.onCreateNode&&D.onCreateNode(_e),E.push(_e)}}function ke(a){var u=0,V="",U=!1,q,me,_e=p;for(++b;k.charAt(b+u)==="=";)++u;if(k.charAt(b+u)!=="[")return!1;for(b+=u+1,Se(k.charCodeAt(b))&&C(),me=b;b<Ve;){for(;Se(k.charCodeAt(b));)C();if(q=k.charAt(b++),q==="]"){U=!0;for(var Fe=0;Fe<u;++Fe)k.charAt(b+Fe)!=="="&&(U=!1);k.charAt(b+u)!=="]"&&(U=!1)}if(U)return V+=k.slice(me,b-1),b+=u+1,V}ae(null,a?ue.unfinishedLongComment:ue.unfinishedLongString,_e,"<eof>")}function J(){Ge=W,W=$e,$e=S()}function x(a){return a===W.value?(J(),!0):!1}function X(a){a===W.value?J():ae(W,ue.expected,a,ve(W))}function oe(a){return a===9||a===32||a===11||a===12}function Se(a){return a===10||a===13}function je(a){return a>=48&&a<=57}function Ce(a){return a>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70}function yt(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||fe.extendedIdentifiers&&a>=128)}function ct(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||a>=48&&a<=57||fe.extendedIdentifiers&&a>=128)}function mt(a){switch(a.length){case 2:return a==="do"||a==="if"||a==="in"||a==="or";case 3:return a==="and"||a==="end"||a==="for"||a==="not";case 4:return a==="else"||a==="then"?!0:fe.labels&&!fe.contextualGoto?a==="goto":!1;case 5:return a==="break"||a==="local"||a==="until"||a==="while";case 6:return a==="elseif"||a==="repeat"||a==="return";case 8:return a==="function"}return!1}function _t(a){return A===a.type?"#-~".indexOf(a.value)>=0:Ke===a.type?a.value==="not":!1}function We(a){if(ee===a.type)return!0;if(Ke!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var Me,Q,Qe;function xe(){var a=Me[Q++].slice();Me.push(a),D.onCreateScope&&D.onCreateScope()}function G(){Me.pop(),--Q,D.onDestroyScope&&D.onDestroyScope()}function z(a){D.onLocalDeclaration&&D.onLocalDeclaration(a),ut(Me[Q],a)===-1&&Me[Q].push(a)}function B(a){z(a.name),F(a,!0)}function F(a,u){!u&&we(Qe,"name",a.name)===-1&&Qe.push(a),a.isLocal=u}function $(a){return ut(Me[Q],a)!==-1}var O=[],e;function L(){return new R(W)}function R(a){D.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),D.ranges&&(this.range=[a.range[0],0])}R.prototype.complete=function(){D.locations&&(this.loc.end.line=Ge.lastLine||Ge.line,this.loc.end.column=Ge.range[1]-(Ge.lastLineStart||Ge.lineStart)),D.ranges&&(this.range[1]=Ge.range[1])},R.prototype.bless=function(a){if(this.loc){var u=this.loc;a.loc={start:{line:u.start.line,column:u.start.column},end:{line:u.end.line,column:u.end.column}}}this.range&&(a.range=[this.range[0],this.range[1]])};function se(){e&&O.push(L())}function ie(a){e&&O.push(a)}function ye(){this.scopes=[],this.pendingGotos=[]}ye.prototype.isInLoop=function(){for(var a=this.scopes.length;a-- >0;)if(this.scopes[a].isLoop)return!0;return!1},ye.prototype.pushScope=function(a){var u={labels:{},locals:[],deferredGotos:[],isLoop:!!a};this.scopes.push(u)},ye.prototype.popScope=function(){for(var a=0;a<this.pendingGotos.length;++a){var u=this.pendingGotos[a];u.maxDepth>=this.scopes.length&&--u.maxDepth<=0&&ae(u.token,ue.labelNotVisible,u.target)}this.scopes.pop()},ye.prototype.addGoto=function(a,u){for(var V=[],U=0;U<this.scopes.length;++U){var q=this.scopes[U];if(V.push(q.locals.length),Object.prototype.hasOwnProperty.call(q.labels,a))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:a,token:u,localCounts:V})},ye.prototype.addLabel=function(a,u){var V=this.currentScope();if(Object.prototype.hasOwnProperty.call(V.labels,a))ae(u,ue.labelAlreadyDefined,a,V.labels[a].line);else{for(var U=[],q=0;q<this.pendingGotos.length;++q){var me=this.pendingGotos[q];if(me.maxDepth>=this.scopes.length&&me.target===a){me.localCounts[this.scopes.length-1]<V.locals.length&&V.deferredGotos.push(me);continue}U.push(me)}this.pendingGotos=U}V.labels[a]={localCount:V.locals.length,line:u.line}},ye.prototype.addLocal=function(a,u){this.currentScope().locals.push({name:a,token:u})},ye.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},ye.prototype.raiseDeferredErrors=function(){for(var a=this.currentScope(),u=a.deferredGotos,V=0;V<u.length;++V){var U=u[V];ae(U.token,ue.gotoJumpInLocalScope,U.target,a.locals[U.localCounts[this.scopes.length-1]].name)}};function Oe(){this.level=0,this.loopLevels=[]}Oe.prototype.isInLoop=function(){return!!this.loopLevels.length},Oe.prototype.pushScope=function(a){++this.level,a&&this.loopLevels.push(this.level)},Oe.prototype.popScope=function(){var a=this.loopLevels,u=a.length;u&&a[u-1]===this.level&&a.pop(),--this.level},Oe.prototype.addGoto=Oe.prototype.addLabel=function(){throw new Error("This should never happen")},Oe.prototype.addLocal=Oe.prototype.raiseDeferredErrors=function(){};function he(){return fe.labels?new ye:new Oe}function qe(){J(),se(),D.scope&&xe();var a=he();a.allowVararg=!0,a.pushScope();var u=Re(a);return a.popScope(),D.scope&&G(),ee!==W.type&&nt(W),e&&!u.length&&(Ge=W),Z(re.chunk(u))}function Re(a){for(var u=[],V;!We(W);){if(W.value==="return"||!fe.relaxedBreak&&W.value==="break"){u.push(ze(a));break}V=ze(a),x(";"),V&&u.push(V)}return u}function ze(a){if(se(),A===W.type&&x("::"))return Dt(a);if(fe.emptyStatement&&x(";")){e&&O.pop();return}if(a.raiseDeferredErrors(),Ke===W.type)switch(W.value){case"local":return J(),Zt(a);case"if":return J(),Jt(a);case"return":return J(),Ht(a);case"function":J();var u=Yt();return Ct(u);case"while":return J(),Kt(a);case"for":return J(),Xt(a);case"repeat":return J(),jt(a);case"break":return J(),a.isInLoop()||ae(W,ue.noLoopToBreak,W.value),Wt();case"do":return J(),qt(a);case"goto":return J(),Bt(a)}return fe.contextualGoto&&W.type===Ie&&W.value==="goto"&&$e.type===Ie&&$e.value!=="goto"?(J(),Bt(a)):(e&&O.pop(),Qt(a))}function Dt(a){var u=W,V=De();return D.scope&&(z("::"+u.value+"::"),F(V,!0)),X("::"),a.addLabel(u.value,u),Z(re.labelStatement(V))}function Wt(){return Z(re.breakStatement())}function Bt(a){var u=W.value,V=Ge,U=De();return a.addGoto(u,V),Z(re.gotoStatement(U))}function qt(a){D.scope&&xe(),a.pushScope();var u=Re(a);return a.popScope(),D.scope&&G(),X("end"),Z(re.doStatement(u))}function Kt(a){var u=Ee(a);X("do"),D.scope&&xe(),a.pushScope(!0);var V=Re(a);return a.popScope(),D.scope&&G(),X("end"),Z(re.whileStatement(u,V))}function jt(a){D.scope&&xe(),a.pushScope(!0);var u=Re(a);X("until"),a.raiseDeferredErrors();var V=Ee(a);return a.popScope(),D.scope&&G(),Z(re.repeatStatement(V,u))}function Ht(a){var u=[];if(W.value!=="end"){var V=Vt(a);for(V!=null&&u.push(V);x(",");)V=Ee(a),u.push(V);x(";")}return Z(re.returnStatement(u))}function Jt(a){var u=[],V,U,q;for(e&&(q=O[O.length-1],O.push(q)),V=Ee(a),X("then"),D.scope&&xe(),a.pushScope(),U=Re(a),a.popScope(),D.scope&&G(),u.push(Z(re.ifClause(V,U))),e&&(q=L());x("elseif");)ie(q),V=Ee(a),X("then"),D.scope&&xe(),a.pushScope(),U=Re(a),a.popScope(),D.scope&&G(),u.push(Z(re.elseifClause(V,U))),e&&(q=L());return x("else")&&(e&&(q=new R(Ge),O.push(q)),D.scope&&xe(),a.pushScope(),U=Re(a),a.popScope(),D.scope&&G(),u.push(Z(re.elseClause(U)))),X("end"),Z(re.ifStatement(u))}function Xt(a){var u=De(),V;if(D.scope&&(xe(),B(u)),x("=")){var U=Ee(a);X(",");var q=Ee(a),me=x(",")?Ee(a):null;return X("do"),a.pushScope(!0),V=Re(a),a.popScope(),X("end"),D.scope&&G(),Z(re.forNumericStatement(u,U,q,me,V))}else{for(var _e=[u];x(",");)u=De(),D.scope&&B(u),_e.push(u);X("in");var Fe=[];do{var St=Ee(a);Fe.push(St)}while(x(","));return X("do"),a.pushScope(!0),V=Re(a),a.popScope(),X("end"),D.scope&&G(),Z(re.forGenericStatement(_e,Fe,V))}}function Zt(a){var u,V=Ge;if(Ie===W.type){var U=[],q=[];do u=De(),U.push(u),a.addLocal(u.name,V);while(x(","));if(x("="))do{var me=Ee(a);q.push(me)}while(x(","));if(D.scope)for(var _e=0,Fe=U.length;_e<Fe;++_e)B(U[_e]);return Z(re.localStatement(U,q))}if(x("function"))return u=De(),a.addLocal(u.name,V),D.scope&&(B(u),xe()),Ct(u,!0);Ne("<name>",W)}function Qt(a){var u,V,U,q,me,_e=[];e&&(V=L());do{if(e&&(u=L()),Ie===W.type)me=W.value,q=De(),D.scope&&F(q,$(me)),U=!0;else if(W.value==="(")J(),q=Ee(a),X(")"),U=!1;else return nt(W);e:for(;;){switch(Le===W.type?'"':W.value){case".":case"[":U=!0;break;case":":case"(":case"{":case'"':U=null;break;default:break e}q=Ut(q,u,a)}if(_e.push(q),W.value!==",")break;if(!U)return nt(W);J()}while(!0);if(_e.length===1&&U===null)return ie(u),Z(re.callStatement(_e[0]));if(!U)return nt(W);X("=");var Fe=[];do Fe.push(Ee(a));while(x(","));return ie(V),Z(re.assignmentStatement(_e,Fe))}function De(){se();var a=W.value;return Ie!==W.type&&Ne("<name>",W),J(),Z(re.identifier(a))}function Ct(a,u){var V=he();V.pushScope();var U=[];if(X("("),!x(")"))for(;;){if(Ie===W.type){var q=De();if(D.scope&&B(q),U.push(q),x(","))continue}else ge===W.type?(V.allowVararg=!0,U.push(Ft(V))):Ne("<name> or '...'",W);X(")");break}var me=Re(V);return V.popScope(),X("end"),D.scope&&G(),u=u||!1,Z(re.functionStatement(a,U,u,me))}function Yt(){var a,u,V;for(e&&(V=L()),a=De(),D.scope&&(F(a,$(a.name)),xe());x(".");)ie(V),u=De(),a=Z(re.memberExpression(a,".",u));return x(":")&&(ie(V),u=De(),a=Z(re.memberExpression(a,":",u)),D.scope&&z("self")),a}function It(a){for(var u=[],V,U;;){if(se(),A===W.type&&x("["))V=Ee(a),X("]"),X("="),U=Ee(a),u.push(Z(re.tableKey(V,U)));else if(Ie===W.type)$e.value==="="?(V=De(),J(),U=Ee(a),u.push(Z(re.tableKeyString(V,U)))):(U=Ee(a),u.push(Z(re.tableValue(U))));else{if((U=Vt(a))==null){O.pop();break}u.push(Z(re.tableValue(U)))}if(",;".indexOf(W.value)>=0){J();continue}break}return X("}"),Z(re.tableConstructorExpression(u))}function Vt(a){var u=wt(0,a);return u}function Ee(a){var u=Vt(a);if(u==null)Ne("<expression>",W);else return u}function en(a){var u=a.charCodeAt(0),V=a.length;if(V===1)switch(u){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(V===2)switch(u){case 47:return 10;case 46:return 8;case 60:case 62:return a==="<<"||a===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(u===97&&a==="and")return 2;return 0}function wt(a,u){var V=W.value,U,q;if(e&&(q=L()),_t(W)){se(),J();var me=wt(10,u);me==null&&Ne("<expression>",W),U=Z(re.unaryExpression(V,me))}if(U==null&&(U=Ft(u),U==null&&(U=tn(u))),U==null)return null;for(var _e;V=W.value,_e=A===W.type||Ke===W.type?en(V):0,!(_e===0||_e<=a);){(V==="^"||V==="..")&&--_e,J();var Fe=wt(_e,u);Fe==null&&Ne("<expression>",W),e&&O.push(q),U=Z(re.binaryExpression(V,U,Fe))}return U}function Ut(a,u,V){var U,q;if(A===W.type)switch(W.value){case"[":return ie(u),J(),U=Ee(V),X("]"),Z(re.indexExpression(a,U));case".":return ie(u),J(),q=De(),Z(re.memberExpression(a,".",q));case":":return ie(u),J(),q=De(),a=Z(re.memberExpression(a,":",q)),ie(u),Et(a,V);case"(":case"{":return ie(u),Et(a,V)}else if(Le===W.type)return ie(u),Et(a,V);return null}function tn(a){var u,V,U;if(e&&(U=L()),Ie===W.type)V=W.value,u=De(),D.scope&&F(u,$(V));else if(x("("))u=Ee(a),X(")");else return null;for(;;){var q=Ut(u,U,a);if(q===null)break;u=q}return u}function Et(a,u){if(A===W.type)switch(W.value){case"(":fe.emptyStatement||W.line!==Ge.line&&ae(null,ue.ambiguousSyntax,W.value),J();var V=[],U=Vt(u);for(U!=null&&V.push(U);x(",");)U=Ee(u),V.push(U);return X(")"),Z(re.callExpression(a,V));case"{":se(),J();var q=It(u);return Z(re.tableCallExpression(a,q))}else if(Le===W.type)return Z(re.stringCallExpression(a,Ft(u)));Ne("function arguments",W)}function Ft(a){var u=Le|Ue|et|He|ge,V=W.value,U=W.type,q;if(e&&(q=L()),U===ge&&!a.allowVararg&&ae(W,ue.cannotUseVararg,W.value),U&u){ie(q);var me=k.slice(W.range[0],W.range[1]);return J(),Z(re.literal(U,V,me))}else{if(Ke===U&&V==="function")return ie(q),J(),D.scope&&xe(),Ct(null);if(x("{"))return ie(q),It(a)}}de.parse=nn;var Pt={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function nn(a,u){if(typeof u>"u"&&typeof a=="object"&&(u=a,a=void 0),u||(u={}),k=a||"",D=Pe({},ft,u),b=0,p=1,g=0,Ve=k.length,Me=[[]],Q=0,Qe=[],O=[],!Object.prototype.hasOwnProperty.call(Pt,D.luaVersion))throw new Error(tt("Lua version '%1' not supported",D.luaVersion));if(fe=Pe({},Pt[D.luaVersion]),D.extendedIdentifiers!==void 0&&(fe.extendedIdentifiers=!!D.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(Ze,D.encodingMode))throw new Error(tt("Encoding mode '%1' not supported",D.encodingMode));return pe=Ze[D.encodingMode],D.comments&&(E=[]),D.wait?de:Nt()}de.write=zt;function zt(a){return k+=String(a),Ve=k.length,de}de.end=Nt;function Nt(a){typeof a<"u"&&zt(a),k&&k.substr(0,2)==="#!"&&(k=k.replace(/^.*/,function(V){return V.replace(/./g," ")})),Ve=k.length,e=D.locations||D.ranges,$e=S();var u=qe();if(D.comments&&(u.comments=E),D.scope&&(u.globals=Qe),O.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return u}})})(Lt,Lt.exports);var pn=Lt.exports;const dt=ln(pn);var bt={},At={exports:{}};At.exports;(function(ot){function h(E){for(var w=0,p=E.length;p--;)w+=E.charCodeAt(p),w+=w<<10,w^=w>>6;return w+=w<<3,w^=w>>11,w+=w<<15,w}const de=console.log,k=function(E,w){if(!E)throw w};function D(E,w){if(!E)return 0;var p=E.toString().split(".");return p.length>1?parseInt(p[0],w)+parseInt(p[1],w)/Math.pow(w,p[1].length):parseInt(p[0],w)}let Ve=[" ",`
`,"	","\r"],fe={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const pe=new Proxy(fe,{get(E,w){return D(w)}});let ft=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],it=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],Xe=["0","1","2","3","4","5","6","7","8","9"],rt=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],Ze=["0","1"],ee=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],Le=["~","=",">","<"],Ke=["+","-","*","/","^","..","%","//"],Ie=["+=","-=","*=","/=","^=","..=","%=","//="],Ue=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],A=["else","elseif","until","end"],et=["-","not","#","~"],He=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],ge=11,ue={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function re(E){let w=0,p=E.length,g=[];function S(l){return l=l||0,w<=p?E.substr(w+l,1):""}function C(){if(w<=p){let l=E.substr(w,1);return w++,l}else return""}function t(l){let i=0,s=1,o=1;for(;i<=w;)E.substr(i,1)==`
`?(s++,o=1):o++;let r;for(r=0;r<g.length;r++){let H=g[r];de(`${H.Type}<${H.Source}>`)}throw`file<${s}:${o}>: ${l}`}function _(l){for(;;){let i=C();if(i=="")t("Unfinished long string.");else if(i=="]"){let s=!0,o;for(o=1;o<=l;o++)if(S()=="=")w++;else{s=!1;break}if(s&&C()=="]")return}}}function f(){let l=w;for(;S()=="=";)w++;if(S()=="[")return w++,w-l-1;w=l}let m=0,T=0;function M(l){let i=E.substr(T,w-T),s=null;l=="Number"&&(i.substr(0,2).toLowerCase()=="0x"?(s="hex",parseInt(i,16)<999999999999&&(i=parseInt(i,16))):i.substr(0,2).toLowerCase()=="0b"&&(s="bin",parseInt(i.substr(2),2)<999999999999&&(i=parseInt(i.substr(2),2))));let o={Type:l,LeadingWhite:E.substr(m,T-m),Source:i};return s!==null&&(o.NType=s),g.push(o),m=w,T=w,o}for(;;){for(m=w;;){let i=S();if(i=="")break;if(i=="-")if(S(1)=="-")if(w+=2,S()=="["){w++;let s=f();if(s!=null)_(s),m=w;else for(;;){let o=C();if(o==""||o==`
`)break}}else for(;;){let s=C();if(s==""||s==`
`)break}else break;else if(Ve.includes(i))w++;else break}E.substr(m,w-m),T=w;let l=C();if(l==""){M("Eof");break}else if(l=="'"||l=='"'){for(;;){let i=C();if(i=="\\"){let s=C();if(pe[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==l)break;if(i=="")throw"Unfinished string!"}}M("String")}else if(l=="`"){for(;;){let i=C();if(i=="\\"){let s=C();if(pe[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==l)break;if(i=="")throw"Unfinished string!"}}M("Hash")}else if(ft.includes(l)){for(;it.includes(S());)w++;Ue.includes(E.substr(T,w-T))?M("Keyword"):M("Ident")}else if(Xe.includes(l)||l=="."&&Xe.includes(S())){if(l=="0"&&S().toLowerCase()=="x")for(w++;rt.includes(S())||S()==="_";)w++;else if(l=="0"&&S().toLowerCase()=="b")for(w++;Ze.includes(S())||S()==="_";)w++;else{for(;Xe.includes(S())||S()==="_";)w++;if(S()==".")for(w++;Xe.includes(S());)w++;if(S()=="e"||S()=="E")for(w++,(S()=="-"||S()=="+")&&w++;Xe.includes(S());)w++}M("Number")}else if(l=="["){let i=f();i!=null?(_(i),M("String")):M("Symbol")}else if(l==".")S()=="."&&(C(),(S()=="."||S()=="=")&&C()),M("Symbol");else if(l+S()=="//")C(),S()=="="&&C(),M("Symbol");else if(l+S()=="::")C(),M("Symbol");else if(He.includes(l+S()))C(),M("Symbol");else if(Le.includes(l))S()=="="&&w++,M("Symbol");else if(Ke.includes(l)&&S()=="=")C(),M("Symbol");else if(ee.includes(l))M("Symbol");else throw`Bad symbol \`${l}\` in source. ${w}`}return g}function Z(E){let w=re(E),p=0;function g(){let G=w[p];return p<w.length&&p++,G}function S(G){return G=p+(G||0),w[G]||w[w.length-1]}function C(G){let z=1,B=0,F=0;for(;;){let $=w[F],O;$==G?O=$.LeadingWhite:O=$.LeadingWhite+$.Source;let e;for(e=0;e<=O.length;e++)O.substr(e,1)==`
`?(z++,B=0):B++;if($==G)break;F++}return`${z}:${B+1}`}function t(){let G=S();return`<${G.Type} \`${G.Source}\`> at: ${C(G)}`}function _(){let G=S();return G.Type=="Eof"||G.Type=="Keyword"&&A.includes(G.Source)}function f(){return et.includes(S().Source)||!1}function m(){return He.includes(S().Source)||!1}function T(G,z){let B=S();if(B.Type==G&&(z==null||B.Source==z))return g();{let F;for(F=-3;F<=3;F++)de(`Tokens[${F}] = \`${S(F).Source}\``);throw z?`${C(B)}: \`${z}\` expected.`:`${C(B)}: ${G} expected.`}}function M(G){let z=G.GetFirstToken,B=G.GetLastToken,F=G;return G.GetFirstToken=function(){let $=z(F);return k($),$},G.GetLastToken=function(){let $=B(F);return k($),$},G}let l,i;function s(G,z){let B=[i(G,z)],F=[];for(;S().Source==",";)F.push(g()),B.push(i(G,z));return[B,F]}function o(G,z){var F,$,O,e;let B=S();if(B.Source=="("){let L=g(),R=i(G,z),se=T("Symbol",")"),ie;return ie=M({Type:"ParenExpr",Expression:R,Token_OpenParen:L,Token_CloseParen:se,GetFirstToken:()=>ie.Token_OpenParen,GetLastToken:()=>ie.Token_CloseParen}),ie}else if(B.Type=="Ident"){let L;return L=M({Type:"VariableExpr",Token:g(),GetFirstToken:()=>L.Token,GetLastToken:()=>L.Token}),G[L.Token.Source]!=null&&(($=(F=G[L.Token.Source])==null?void 0:F.Tokens)==null?void 0:$.push)!=null?(G[L.Token.Source].Tokens.push(L.Token),G[L.Token.Source].UseCountIncrease()):z[L.Token.Source]!=null&&((e=(O=z[L.Token.Source])==null?void 0:O.Tokens)==null?void 0:e.push)!=null&&(z[L.Token.Source].Tokens.push(L.Token),z[L.Token.Source].UseCountIncrease()),L}else throw de(t()),`${C(B)}: Unexpected symbol. ${B.Type} ${B.Source}`}function r(G,z){let B=T("Symbol","{"),F=[],$=[];for(;S().Source!="}";){if(S().Source=="["){let L=g(),R=i(G,z),se=T("Symbol","]"),ie=T("Symbol","="),ye=i(G,z);R.Token&&R.Token.Source,F.push({EntryType:"Index",Index:R,Value:ye,Token_OpenBracket:L,Token_CloseBracket:se,Token_Equals:ie})}else if(S().Type=="Ident"&&S(1).Source=="="){let L=g(),R=g(),se=i(G,z);F.push({EntryType:"Field",Field:L,Value:se,Token_Equals:R})}else{let L=i(G,z);F.push({EntryType:"Value",Value:L})}if(S().Source==","||S().Source==";")$.push(g());else break}let O=T("Symbol","}"),e;return e=M({Type:"TableLiteral",EntryList:F,Token_SeperatorList:$,Token_OpenBrace:B,Token_CloseBrace:O,GetFirstToken:()=>e.Token_OpenBrace,GetLastToken:()=>e.Token_CloseBrace}),e}function H(G,z){let B=[],F=[];if(S().Type=="Ident"){let $=g();if(z&&S().Source=="<"&&S(2).Source==">"){let O=S(1).Source;$.Attribute={LeadingWhite:S().LeadingWhite,Source:`<${O}>`},g(),g(),g()}B.push($)}else if(S().Source=="..."&&G)return[B,F,g()];for(;S().Source==",";){if(F.push(g()),S().Source=="..."&&G)return[B,F,g()];{let $=T("Ident");if(z&&S().Source=="<"&&S(2).Source==">"){let O=S(1).Source;$.Attribute={LeadingWhite:S().LeadingWhite,Source:`<${O}>`},g(),g(),g()}B.push($)}}return[B,F]}function Y(G,z,B){let F=l(z,B),$=S();if($.Type=="Keyword"&&$.Source==G)return g(),[F,$];throw de($.Type,$.Source),`${C($)}: ${G} expected.`}function ce(G,z,B,F){let $=g(),O,e;if(!G){O=[],e=[];let Re=T("Ident");for(O.push(Re);S().Source==".";)e.push(g()),O.push(T("Ident"));S().Source==":"&&(e.push(g()),O.push(T("Ident")))}let L=T("Symbol","("),[R,se,ie]=H(!0),ye=T("Symbol",")"),[Oe,he]=Y("end",z,B),qe;return qe=M({Type:G==!0?"FunctionLiteral":"FunctionStat",NameChain:O,ArgList:R,Body:Oe,Token_Function:$,Token_NameChainSeperator:e,Token_OpenParen:L,Token_Varg:ie,Token_ArgCommaList:se,Token_CloseParen:ye,Token_End:he,GetFirstToken:()=>qe.Token_Function,GetLastToken:()=>qe.Token_End}),qe}function ke(G,z){let B=S();if(B.Source=="("){let F=g(),$=[],O=[];for(;S().Source!=")"&&($.push(i(G,z)),S().Source==",");)O.push(g());let e=T("Symbol",")"),L;return L=M({CallType:"ArgCall",ArgList:$,Token_CommaList:O,Token_OpenParen:F,Token_CloseParen:e,GetFirstToken:()=>L.Token_OpenParen,GetLastToken:()=>L.Token_CloseParen}),L}else if(B.Source=="{"){let F;return F=M({CallType:"TableCall",TableExpr:i(G,z),GetFirstToken:()=>F.TableExpr.GetFirstToken(),GetLastToken:()=>F.TableExpr.GetLastToken()}),F}else if(B.Type=="String"){let F;return F=M({CallType:"StringCall",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else throw"Function arguments expected."}function J(G,z){let B=o(G,z);for(k(B,"nil prefixexpr");;){let F=S();if(F.Source=="."){let $=g(),O=T("Ident"),e;e=M({Type:"FieldExpr",Base:B,Field:O,Token_Dot:$,GetFirstToken:()=>e.Base.GetFirstToken(),GetLastToken:()=>e.Field}),B=e}else if(F.Source==":"){let $=g(),O=T("Ident"),e=ke(G,z),L;L=M({Type:"MethodExpr",Base:B,Method:O,FunctionArguments:e,Token_Colon:$,GetFirstToken:()=>L.Base.GetFirstToken(),GetLastToken:()=>L.FunctionArguments.GetLastToken()}),B=L}else if(F.Source=="["){let $=g(),O=i(G,z),e=T("Symbol","]"),L;L=M({Type:"IndexExpr",Base:B,Index:O,Token_OpenBracket:$,Token_CloseBracket:e,GetFirstToken:()=>L.Base.GetFirstToken(),GetLastToken:()=>L.Token_CloseBracket}),B=L}else if(F.Source=="{"||F.Source=="("||F.Type=="String"){let $;$=M({Type:"CallExpr",Base:B,FunctionArguments:ke(G,z),GetFirstToken:()=>$.Base.GetFirstToken(),GetLastToken:()=>$.FunctionArguments.GetLastToken()}),B=$}else if(Ie.includes(F.Source)){let $=g(),O=i(G,z),e;e=M({Type:"CompoundStat",Base:B,Token_Compound:$,Rhs:O,Lhs:B,GetFirstToken:()=>e.Base.GetFirstToken(),GetLastToken:()=>e.Rhs.GetLastToken()}),B=e}else return B}}function x(G,z){let B=S();if(B.Type=="Number"){let F;return F=M({Type:"NumberLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else if(B.Type=="String"){let F;return F=M({Type:"StringLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else if(B.Type=="Hash"){let F;return F=M({Type:"HashLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else if(B.Source=="nil"){let F;return F=M({Type:"NilLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else if(B.Source=="true"||B.Source=="false"){let F;return F=M({Type:"BooleanLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else if(B.Source=="..."){let F;return F=M({Type:"VargLiteral",Token:g(),GetFirstToken:()=>F.Token,GetLastToken:()=>F.Token}),F}else return B.Source=="{"?r(G,z):B.Source=="function"?ce(!0,G,z):J(G,z)}function X(G,z,B){let F;if(f()){let $=g(),O=X(ge,z,B),e;e=M({Type:"UnopExpr",Token_Op:$,Rhs:O,GetFirstToken:()=>e.Token_Op,GetLastToken:()=>e.Rhs.GetLastToken()}),F=e}else F=x(z,B),k(F,"nil sipleexpr");for(;m()&&ue[S().Source]!=null&&ue[S().Source][0]>G;){let $=g(),O=X(ue[$.Source][1],z,B);k(O,"RhsNeeded");let e;e=M({Type:"BinopExpr",Lhs:F,Rhs:O,Token_Op:$,GetFirstToken:()=>e.Lhs.GetFirstToken(),GetLastToken:()=>e.Rhs.GetLastToken()}),F=e}return F}i=(G,z)=>X(0,G,z);function oe(G,z){let B=J(G,z);if(B.Type=="MethodExpr"||B.Type=="CallExpr"){let F;return F=M({Type:"CallExprStat",Expression:B,GetFirstToken:()=>F.Expression.GetFirstToken(),GetLastToken:()=>F.Expression.GetLastToken()}),F}else{if(B.Type=="CompoundStat")return B;{let F=[B],$=[];for(;S().Source==",";){$.push(g());let se=J(G,z);if(se.Type=="MethodExpr"||se.Type=="CallExpr")throw"Bad left hand side of asignment";F.push(se)}let O=T("Symbol","="),e=[i(G,z)],L=[];for(;S().Source==",";)L.push(g()),e.push(i(G,z));let R;return R=M({Type:"AssignmentStat",Rhs:e,Lhs:F,Token_Equals:O,Token_LhsSeperatorList:$,Token_RhsSeperatorList:L,GetFirstToken:()=>R.Lhs[0].GetFirstToken(),GetLastToken:()=>R.Rhs[R.Rhs.length-1].GetLastToken()}),R}}}function Se(G,z){let B=g(),F=i(G,z),$=T("Keyword","then"),O=l(G,z),e=[];for(;S().Source=="elseif"||S().Source=="else";){let se=g(),ie,ye;se.Source=="elseif"&&(ie=i(G,z),ye=T("Keyword","then"));let Oe=l(G,z);if(e.push({Condition:ie,Body:Oe,ClauseType:se.Source,Token:se,Token_Then:ye}),se.Source=="else")break}let L=T("Keyword","end"),R;return R=M({Type:"IfStat",Condition:F,Body:O,ElseClauseList:e,Token_If:B,Token_Then:$,Token_End:L,GetFirstToken:()=>R.Token_If,GetLastToken:()=>R.Token_End}),R}function je(G,z){let B=g(),[F,$]=Y("end",G,z),O;return O=M({Type:"DoStat",Body:F,Token_Do:B,Token_End:$,GetFirstToken:()=>O.Token_Do,GetLastToken:()=>O.Token_End}),O}function Ce(G,z){let B=g(),F=i(G,z),$=T("Keyword","do"),[O,e]=Y("end",G,z),L;return L=M({Type:"WhileStat",Condition:F,Body:O,Token_While:B,Token_Do:$,Token_End:e,GetFirstToken:()=>L.Token_While,GetLastToken:()=>L.Token_End}),L}function yt(G,z){let B=g(),[F,$]=H();if(S().Source=="="){let O=g(),[e,L]=s(G,z);if(e.length<2||e.length>3)throw"Expected 2 or 3 values for range bounds";let R=T("Keyword","do"),[se,ie]=Y("end",G,z),ye;return ye=M({Type:"NumericForStat",VarList:F,RangeList:e,Body:se,Token_For:B,Token_VarCommaList:$,Token_Equals:O,Token_RangeCommaList:L,Token_Do:R,Token_End:ie,GetFirstToken:()=>ye.Token_For,GetLastToken:()=>ye.Token_End}),ye}else if(S().Source=="in"){let O=g(),[e,L]=s(G,z),R=T("Keyword","do"),[se,ie]=Y("end",G,z),ye;return ye=M({Type:"GenericForStat",VarList:F,GeneratorList:e,Body:se,Token_For:B,Token_VarCommaList:$,Token_In:O,Token_GeneratorCommaList:L,Token_Do:R,Token_End:ie,GetFirstToken:()=>ye.Token_For,GetLastToken:()=>ye.Token_End}),ye}}function ct(G,z){let B=g(),[F,$]=Y("until",G),O=i(G,z),e;return e=M({Type:"RepeatStat",Body:F,Condition:O,Token_Repeat:B,Token_Until:$,GetFirstToken:()=>e.Token_Repeat,GetLastToken:()=>e.Condition.GetLastToken()}),e}function mt(G,z){let B=g();if(S().Source=="function"){let F=ce(!1,G,z);if(F.NameChain.length>1)throw C(F.Token_NameChainSeperator[0])+": `(` expected.";let $;return $=M({Type:"LocalFunctionStat",FunctionStat:F,Token_Local:B,GetFirstToken:()=>$.Token_Local,GetLastToken:()=>$.FunctionStat.GetLastToken()}),$}else if(S().Type=="Ident"){let[F,$]=H(!1,!0),O=[],e=[],L;if(S().Source=="="){L=g();let[se,ie]=s(G,z);O=se,e=ie}let R;return R=M({Type:"LocalVarStat",VarList:F,ExprList:O,Token_Local:B,Token_Equals:L,Token_VarCommaList:$,Token_ExprCommaList:e,GetFirstToken:()=>R.Token_Local,GetLastToken:function(){return R.ExprList.length>0?R.ExprList[R.ExprList.length-1].GetLastToken():R.VarList[R.VarList.length-1]}}),R}else throw"`function` or ident expected"}function _t(G,z){let B=g(),F,$;_()||S().Source==";"?(F=[],$=[]):[F,$]=s(G,z);let O;return O={Type:"ReturnStat",ExprList:F,Token_Return:B,Token_CommaList:$,GetFirstToken:()=>O.Token_Return,GetLastToken:function(){return O.ExprList.length>0?O.ExprList[O.ExprList.length-1].GetLastToken():O.Token_Return}},O}function We(G,z){let B=g(),F;return F={Type:"BreakStat",Token_Break:B,GetFirstToken:()=>F.Token_Break,GetLastToken:()=>F.Token_Break},F}function Me(G,z){let B=g(),F;return F={Type:"ContinueStat",Token_Continue:B,GetFirstToken:()=>F.Token_Continue,GetLastToken:()=>F.Token_Continue},F}function Q(){let G=g(),z;S().Type=="Keyword"?z=T("Keyword"):z=T("Ident");let B;return B={Type:"GotoStat",Token_Goto:G,Token_Label:z,GetFirstToken:()=>B.Token_Goto,GetLastToken:()=>B.Token_Label},B}function Qe(){let G=g(),z;S().Type=="Keyword"?z=T("Keyword"):z=T("Ident");let B=T("Symbol","::"),F;return F={Type:"LabelStat",Token_ColonsLeft:G,Token_Label:z,Token_ColonsRight:B,GetFirstToken:()=>F.Token_ColonsLeft,GetLastToken:()=>F.Token_ColonsRight},F}function xe(G,z){let B=S();return B.Source=="if"?[!1,Se(G,z)]:B.Source=="while"?[!1,Ce(G,z)]:B.Source=="do"?[!1,je(G,z)]:B.Source=="for"?[!1,yt(G,z)]:B.Source=="repeat"?[!1,ct(G,z)]:B.Source=="function"?[!1,ce(!1,G,z)]:B.Source=="local"?[!1,mt(G,z)]:B.Source=="return"?[!0,_t(G,z)]:B.Source=="break"?[!0,We()]:B.Source=="continue"?[!0,Me()]:B.Source=="goto"?[!1,Q()]:B.Source=="::"?[!1,Qe()]:[!1,oe(G,z)]}return l=function(G,z){let B=[],F=[],$={},O={};if(z!=null)for(let[se,ie]of Object.entries(z))O[se]=ie;if(G!=null)for(let[se,ie]of Object.entries(G))O[se]=ie;let e,L=0;for(;!_();){e&&e==S()&&de(`INFINITE LOOP POSSIBLE ON STATEMENT ${e.Source} :`,e),e=S();let[se,ie]=xe($,O);if(ie)switch(B.push(ie),ie.Type){case"LocalVarStat":ie.VarList.forEach(he=>{he.UseCount=0,he.Number=L++,$[he.Source]=he;let qe=[];function Re(){he.UseCount++,qe.forEach(ze=>{ze.UseCount=he.UseCount})}he.Tokens={},he.Tokens.push=ze=>{ze.UseCountIncrease=Re,ze.UseCount=he.UseCount,ze.Tokens=he.Tokens,qe.push(ze)},he.Tokens.get=()=>qe,he.UseCountIncrease=Re});break;case"LocalFunctionStat":let Oe=ie.FunctionStat.NameChain;if(Oe.length===1){let Re=function(){he.UseCount++,qe.forEach(ze=>{ze.UseCount=he.UseCount})},he=Oe[0];he.UseCount=0,he.Number=L++,$[he.Source]=he;let qe=[];he.Tokens={},he.Tokens.push=ze=>{ze.UseCountIncrease=Re,ze.UseCount=he.UseCount,ze.Tokens=he.Tokens,qe.push(ze)},he.Tokens.get=()=>qe,he.UseCountIncrease=Re}break}let ye=S();ye.Type=="Symbol"&&ye.Source==";"&&(F[B.length-1]=g())}let R;return R={Type:"StatList",StatementList:B,SemicolonList:F,GetFirstToken:function(){var se;if(R.StatementList.length!=0)return(se=R.StatementList[0])==null?void 0:se.GetFirstToken()},GetLastToken:function(){if(R.StatementList.length!=0)return R.SemicolonList[R.StatementList.length-1]?R.SemicolonList[R.StatementList.length-1]:R.StatementList[R.StatementList.length-1].GetLastToken()}},R},l([],[])}function Je(E,w){let p={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},g={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[S,C]of Object.entries(w))if(!g[S]&&!p[S])throw`Invalid visitor target: \`${S}\``;function t(T){if(T!=null){let M=w[T.Type];if(typeof M=="function")return M(T);if(M&&M.Pre)return M.Pre(T)}}function _(T){let M=w[T.Type];if(M&&typeof M=="object"&&M.Post)return M.Post(T)}let f,m;f=function(T){if(!t(T)){if(T.Type=="BinopExpr")f(T.Lhs),f(T.Rhs);else if(T.Type=="UnopExpr")f(T.Rhs);else if(!(T.Type=="NumberLiteral"||T.Type=="StringLiteral"||T.Type=="NilLiteral"||T.Type=="BooleanLiteral"||T.Type=="VargLiteral"||T.Type=="HashLiteral")){if(T.Type=="FieldExpr")f(T.Base);else if(T.Type=="IndexExpr")f(T.Base),f(T.Index);else if(T.Type=="MethodExpr"||T.Type=="CallExpr")f(T.Base),T.FunctionArguments.CallType=="ArgCall"?T.FunctionArguments.ArgList.forEach((M,l)=>{f(M)}):T.FunctionArguments.CallType=="TableCall"&&f(T.FunctionArguments.TableExpr);else if(T.Type=="FunctionLiteral")m(T.Body);else if(T.Type!="VariableExpr")if(T.Type=="ParenExpr")f(T.Expression);else if(T.Type=="TableLiteral")T.EntryList.forEach((M,l)=>{if(M.EntryType=="Field")f(M.Value);else if(M.EntryType=="Index")f(M.Index),f(M.Value);else if(M.EntryType=="Value")f(M.Value);else throw"unreachable"});else if(T.Type=="CompoundStat")f(T.Lhs),f(T.Rhs);else throw`unreachable, type: ${T.Type}: ${T}`}_(T)}},m=function(T){if(!t(T)){if(T.Type=="StatList")T.StatementList.forEach((M,l)=>{if(M!=null){if(M===null||M.Type===null)return;M.Remove=()=>{T.StatementList[l]=null},m(M)}});else if(T.Type!="BreakStat"){if(T.Type!="ContinueStat"){if(T.Type!="GotoStat"){if(T.Type!="LabelStat")if(T.Type=="ReturnStat")T.ExprList.forEach((M,l)=>{f(M)});else if(T.Type=="LocalVarStat")T.Token_Equals&&T.ExprList.forEach((M,l)=>{f(M)});else if(T.Type=="LocalFunctionStat")m(T.FunctionStat.Body);else if(T.Type=="FunctionStat")m(T.Body);else if(T.Type=="RepeatStat")m(T.Body),f(T.Condition);else if(T.Type=="GenericForStat")T.GeneratorList.forEach((M,l)=>{f(M)}),m(T.Body);else if(T.Type=="NumericForStat")T.RangeList.forEach((M,l)=>{f(M)}),m(T.Body);else if(T.Type=="WhileStat")f(T.Condition),m(T.Body);else if(T.Type=="DoStat")m(T.Body);else if(T.Type=="IfStat")f(T.Condition),m(T.Body),T.ElseClauseList.forEach(M=>{M.Condition!=null&&f(M.Condition),m(M.Body)});else if(T.Type=="CallExprStat")f(T.Expression);else if(T.Type=="CompoundStat")f(T.Lhs),f(T.Rhs);else if(T.Type=="AssignmentStat")T.Lhs.forEach(M=>{f(M)}),T.Rhs.forEach(M=>{f(M)});else throw"unreachable"}}}_(T)}},g[E.Type]?m(E):f(E)}function ut(E){let w=[],p,g=0;function S(){return g++,g}function C(){p={ParentScope:p,ChildScopeList:[],VariableList:[],BeginLocation:S(),Depth:null,GetVar:null},p.ParentScope?(p.Depth=p.ParentScope.Depth+1,p.ParentScope.ChildScopeList.push(p)):p.Depth=1;let i=p;p.GetVar=function(s){for(const o of i.VariableList)if(o.Name==s)return o;if(i.ParentScope)return i.ParentScope.GetVar(s);for(const o of w)if(o.Name==s)return o}}function t(){let i=p;return i.EndLocation=S(),i.VariableList.forEach(s=>{s.ScopeEndLocation=i.EndLocation}),p=i.ParentScope,i}C();function _(i,s,o){k(o,"MIssing localInfo"),k(i,"Missing local var name");let r={Type:"Local",Name:i,RenameList:[s],AssignedTo:!1,Info:o,Scope:p,BeginLocation:S(),EndLocation:S(),ReferenceLocationList:[S()]};return r.Rename=function(H){r.Name=H,r.RenameList.forEach(Y=>{Y(H)})},p.VariableList.push(r),r}function f(i){for(const o of w)if(o.Name==i)return o;let s={Type:"Global",Name:i,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:S(),EndLocation:S(),ReferenceLocationList:[]};return s.Rename=function(o){s.Name=o,s.RenameList.forEach(r=>{r(o)})},w.push(s),s}function m(i,s){k(i,"Missing var name");let o=f(i);return o.RenameList.push(s),o}function T(i,s){let o;for(o=i.VariableList.length-1;o>=0;o--)if(i.VariableList[o].Name==s)return i.VariableList[o];if(i.ParentScope){let r=T(i.ParentScope,s);if(r)return r}}function M(i,s){k(i,"Missing var name");let o=T(p,i);o?o.RenameList.push(s):o=m(i,s);let r=S();return o.EndLocation=r,o.ReferenceLocationList.push(o.EndLocation),o}let l={};return l.FunctionLiteral={Pre:function(i){C(),i.ArgList.forEach((s,o)=>{let r=_(s.Source,function(H,Y){Y||(s.Source=H)},{Type:"Argument",Index:o});s.var=r})},Post:function(i){t()}},l.VariableExpr=function(i){i.Variable=M(i.Token.Source,function(s){i.Token.Source=s})},l.StatList={Pre:function(i){C()},Post:function(i){i.SkipPop||t()}},l.LocalVarStat={Post:function(i){i.VarList.forEach((s,o)=>{_(s.Source,function(r){i.VarList[o].Source=r},{Type:"Local"})})}},l.LocalFunctionStat={Pre:function(i){_(i.FunctionStat.NameChain[0].Source,function(s){i.FunctionStat.NameChain[0].Source=s},{Type:"LocalFunction"}),C(),i.FunctionStat.ArgList.forEach((s,o)=>{_(s.Source,function(r){s.Source=r},{Type:"Argument",Index:o})})},Post:function(){t()}},l.FunctionStat={Pre:function(i){let s=i.NameChain,o;s.length==1?T(p,s[0].Source)?o=M(s[0].Source,function(r){s[0].Source=r}):o=m(s[0].Source,function(r){s[0].Source=r}):o=M(s[0].Source,function(r){s[0].Source=r}),o.AssignedTo=!0,C(),i.ArgList.forEach((r,H)=>{_(r.Source,function(Y){r.Source=Y},{Type:"Argument",Index:H})})},Post:function(){t()}},l.GenericForStat={Pre:function(i){return i.GeneratorList.forEach(s=>{Je(s,l)}),C(),i.VarList.forEach((s,o)=>{_(s.Source,function(r){s.Source=r},{Type:"ForRange",Index:o})}),Je(i.Body,l),t(),!0}},l.NumericForStat={Pre:function(i){return i.RangeList.forEach(s=>{Je(s,l)}),C(),i.VarList.forEach((s,o)=>{_(s.Source,function(r){s.Source=r},{Type:"ForRange",Index:o})}),Je(i.Body,l),t(),!0}},l.RepeatStat={Pre:function(i){i.Body.SkipPop=!0},Post:function(i){t()}},l.AssignmentStat={Post:function(i){i.Lhs.forEach(s=>{s.Variable!=null&&(s.Variable.AssignedTo=!0)})}},Je(E,l),[w,t()]}function we(E){let w,p,g="",S=t=>typeof(t==null?void 0:t.LeadingWhite)!="string"?" ":t.LeadingWhite;function C(t){if(t.LeadingWhite==null||t.Source==null)throw`Bad token: tk=${t} | lwhite=${t.LeadingWhite} | source=${t.Source}`;g=`${g}${t.LeadingWhite}${t.Source}`}return p=function(t){if(t.Type=="BinopExpr")p(t.Lhs),C(t.Token_Op),p(t.Rhs);else if(t.Type=="UnopExpr")C(t.Token_Op),p(t.Rhs);else if(t.Type=="NumberLiteral"||t.Type=="StringLiteral"||t.Type=="NilLiteral"||t.Type=="BooleanLiteral"||t.Type=="VargLiteral"||t.Type=="HashLiteral")C(t.Token);else if(t.Type=="FieldExpr")p(t.Base),C(t.Token_Dot),C(t.Field);else if(t.Type=="IndexExpr")p(t.Base),C(t.Token_OpenBracket),p(t.Index),C(t.Token_CloseBracket);else if(t.Type=="MethodExpr"||t.Type=="CallExpr")p(t.Base),t.Type=="MethodExpr"&&(C(t.Token_Colon),C(t.Method)),t.FunctionArguments.CallType=="StringCall"?C(t.FunctionArguments.Token):t.FunctionArguments.CallType=="ArgCall"?(C(t.FunctionArguments.Token_OpenParen),t.FunctionArguments.ArgList.forEach((_,f)=>{p(_);let m=t.FunctionArguments.Token_CommaList[f];m!=null&&C(m)}),C(t.FunctionArguments.Token_CloseParen)):t.FunctionArguments.CallType=="TableCall"&&p(t.FunctionArguments.TableExpr);else if(t.Type=="FunctionLiteral")C(t.Token_Function),C(t.Token_OpenParen),t.ArgList.forEach((_,f)=>{C(_);let m=t.Token_ArgCommaList[f];m!=null&&C(m)}),t.Token_Varg!=null&&C(t.Token_Varg),C(t.Token_CloseParen),w(t.Body),C(t.Token_End);else if(t.Type=="VariableExpr")C(t.Token);else if(t.Type=="ParenExpr")C(t.Token_OpenParen),p(t.Expression),C(t.Token_CloseParen);else if(t.Type=="TableLiteral")C(t.Token_OpenBrace),t.EntryList.forEach((_,f)=>{if(_.EntryType=="Field")C(_.Field),C(_.Token_Equals),p(_.Value);else if(_.EntryType=="Index")C(_.Token_OpenBracket),p(_.Index),C(_.Token_CloseBracket),C(_.Token_Equals),p(_.Value);else if(_.EntryType=="Value")p(_.Value);else throw"unreachable";let m=t.Token_SeperatorList[f];m!=null&&C(m)}),C(t.Token_CloseBrace);else if(t.Type=="CompoundStat")w(t);else throw`unreachable, type: ${t.Type}: ${t}`},w=function(t){if(t==null)throw`STAT IS NIL! ${t}`;if(!(t.Type==="StatList"&&t.StatementList.length===0)){if(t.WrapInDo){let _=S(t.GetFirstToken());t.GetFirstToken().LeadingWhite="",g+=`${_}do `}t.Type=="StatList"?t.StatementList.forEach((_,f)=>{_===null||_.Type===null||(_.Remove=()=>{t.StatementList[f]=null},w(_),t.SemicolonList[f]&&C(t.SemicolonList[f]))}):t.Type=="BreakStat"?C(t.Token_Break):t.Type=="ContinueStat"?C(t.Token_Continue):t.Type=="GotoStat"?(C(t.Token_Goto),C(t.Token_Label)):t.Type=="LabelStat"?(C(t.Token_ColonsLeft),C(t.Token_Label),C(t.Token_ColonsRight)):t.Type=="ReturnStat"?(C(t.Token_Return),t.ExprList.forEach((_,f)=>{p(_),t.Token_CommaList[f]&&C(t.Token_CommaList[f])})):t.Type=="LocalVarStat"?(C(t.Token_Local),t.VarList.forEach((_,f)=>{C(_),_.Attribute!=null&&C(_.Attribute);let m=t.Token_VarCommaList[f];m!=null&&C(m)}),t.Token_Equals!=null&&(C(t.Token_Equals),t.ExprList.forEach((_,f)=>{p(_);let m=t.Token_ExprCommaList[f];m!=null&&C(m)}))):t.Type=="LocalFunctionStat"?(C(t.Token_Local),C(t.FunctionStat.Token_Function),C(t.FunctionStat.NameChain[0]),C(t.FunctionStat.Token_OpenParen),t.FunctionStat.ArgList.forEach((_,f)=>{C(_);let m=t.FunctionStat.Token_ArgCommaList[f];m!=null&&C(m)}),t.FunctionStat.Token_Varg&&C(t.FunctionStat.Token_Varg),C(t.FunctionStat.Token_CloseParen),w(t.FunctionStat.Body),C(t.FunctionStat.Token_End)):t.Type=="FunctionStat"?(C(t.Token_Function),t.NameChain.forEach((_,f)=>{C(_);let m=t.Token_NameChainSeperator[f];m!=null&&C(m)}),C(t.Token_OpenParen),t.ArgList.forEach((_,f)=>{C(_);let m=t.Token_ArgCommaList[f];m!=null&&C(m)}),t.Token_Varg&&C(t.Token_Varg),C(t.Token_CloseParen),w(t.Body),C(t.Token_End)):t.Type=="RepeatStat"?(C(t.Token_Repeat),w(t.Body),C(t.Token_Until),p(t.Condition)):t.Type=="GenericForStat"?(C(t.Token_For),t.VarList.forEach((_,f)=>{C(_);let m=t.Token_VarCommaList[f];m!=null&&C(m)}),C(t.Token_In),t.GeneratorList.forEach((_,f)=>{p(_);let m=t.Token_GeneratorCommaList[f];m!=null&&C(m)}),C(t.Token_Do),w(t.Body),C(t.Token_End)):t.Type=="NumericForStat"?(C(t.Token_For),t.VarList.forEach((_,f)=>{C(_);let m=t.Token_VarCommaList[f];m!=null&&C(m)}),C(t.Token_Equals),t.RangeList.forEach((_,f)=>{p(_);let m=t.Token_RangeCommaList[f];m!=null&&C(m)}),C(t.Token_Do),w(t.Body),C(t.Token_End)):t.Type=="WhileStat"?(C(t.Token_While),p(t.Condition),C(t.Token_Do),w(t.Body),C(t.Token_End)):t.Type=="DoStat"?(C(t.Token_Do),w(t.Body),C(t.Token_End)):t.Type=="IfStat"?(C(t.Token_If),p(t.Condition),C(t.Token_Then),w(t.Body),t.ElseClauseList.forEach(_=>{C(_.Token),_.Condition!=null&&(p(_.Condition),C(_.Token_Then)),w(_.Body)}),C(t.Token_End)):t.Type=="CallExprStat"?p(t.Expression):t.Type=="CompoundStat"?(p(t.Lhs),C(t.Token_Compound),p(t.Rhs),t.Type="CompoundStat"):t.Type=="AssignmentStat"?(t.Lhs.forEach((_,f)=>{p(_);let m=t.Token_LhsSeperatorList[f];m!=null&&C(m)}),C(t.Token_Equals),t.Rhs.forEach((_,f)=>{p(_);let m=t.Token_RhsSeperatorList[f];m!=null&&C(m)})):k(!1,"unreachable"),t.WrapInDo&&(g+=" end ")}},w(E),g}function tt(E){let w,p,g=0;function S(l){if(l===void 0)return;let i=`
${"	".repeat(g)}`;if(l.LeadingWhite==""||l.LeadingWhite.substr(-i.length,i.length)!=i){let s="",o;for(o=l.LeadingWhite.length;o>=0;o--){let r=l.LeadingWhite.substr(o,1);if(!(r==""||r.match(/\s/g))){s=l.LeadingWhite.substr(0,o+1);break}}l.LeadingWhite=`${s}${i}`}}function C(){g++}function t(){g--,k(g>=0,"Undented too far")}function _(l){return l.LeadingWhite.length>0?l.LeadingWhite.substr(0,1):l.Source.toString().substr(0,1)}function f(l){l.LeadingWhite=l.LeadingWhite.trim()}function m(l){f(l),Ve.includes(_(l))||(l.LeadingWhite=" "+l.LeadingWhite)}function T(l){m(l.GetFirstToken())}function M(l,i,s){C(),w(i),t(),S(s)}p=function(l){if(l.Type=="BinopExpr")p(l.Lhs),p(l.Rhs),T(l.Rhs),m(l.Token_Op);else if(l.Type=="UnopExpr")f(l.Token_Op),p(l.Rhs),l.Token_Op.Source[0]&&m(l.Rhs.GetFirstToken());else if(l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="VargLiteral"||l.Type=="HashLiteral")f(l.Token),l.Type=="HashLiteral"&&(l.Token.Source='"'+h(`${l.Token.Source.substring(1,l.Token.Source.length-1)}`)+'"',l.Type="StringLiteral",l.Token.Type="String");else if(l.Type=="FieldExpr")p(l.Base);else if(l.Type=="IndexExpr")p(l.Base),p(l.Index);else if(l.Type=="MethodExpr"||l.Type=="CallExpr")p(l.Base),f(l.FunctionArguments.GetFirstToken()),f(l.FunctionArguments.GetLastToken()),l.Type=="MethodExpr",l.FunctionArguments.CallType=="StringCall"||(l.FunctionArguments.CallType=="ArgCall"?l.FunctionArguments.ArgList.forEach((i,s)=>{p(i),s>0&&T(i);let o=l.FunctionArguments.Token_CommaList[s];o!=null&&f(o)}):l.FunctionArguments.CallType=="TableCall"&&p(l.FunctionArguments.TableExpr));else if(l.Type=="FunctionLiteral")l.ArgList.forEach((i,s)=>{s>0&&m(i),l.Token_ArgCommaList[s]}),l.ArgList.length>0&&l.Token_Varg!=null&&m(l.Token_Varg),M(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type!="VariableExpr")if(l.Type=="ParenExpr")f(l.Token_OpenParen),f(l.Token_CloseParen),p(l.Expression);else if(l.Type=="TableLiteral"){if(l.EntryList.length!=0){C();let i=100;l.EntryList.forEach((s,o)=>{s.EntryType=="Field"?(l.EntryList.length>i?Pe(s.Value):S(s.Field),m(s.Token_Equals),p(s.Value),T(s.Value)):s.EntryType=="Index"?(l.EntryList.length>i?f(s.Token_OpenBracket):S(s.Token_OpenBracket),p(s.Index),m(s.Token_Equals),p(s.Value),T(s.Value)):s.EntryType=="Value"?(p(s.Value),l.EntryList.length>i?Pe(s.Value):S(s.Value.GetFirstToken())):k(!1,"unreachable");let r=l.Token_SeperatorList[o];r!=null&&(l.EntryList.length>i?r.LeadingWhite="":f(r))}),t(),l.EntryList.length>i?l.Token_CloseBrace.LeadingWhite="":S(l.Token_CloseBrace)}}else if(l.Type=="CompoundStat")w(l);else throw de(l),`unreachable, type: ${l.Type}:`+l},w=function(l){if(l.Type=="StatList")l.StatementList.forEach((i,s)=>{i===null||i.Type===null||i.Type==="StatList"&&i.StatementList.length===0||(i.Remove=()=>{i.StatementList[s]=null},w(i),S(i.GetFirstToken()))});else if(l.Type!="BreakStat"){if(l.Type!="ContinueStat"){if(l.Type!="GotoStat"){if(l.Type!="LabelStat")if(l.Type=="ReturnStat")l.ExprList.forEach((i,s)=>{p(i),T(i),l.Token_CommaList[s]});else if(l.Type=="LocalVarStat"){if(l.VarList.forEach((i,s)=>{m(i),i.Attribute&&(i.Attribute.LeadingWhite=" "),l.Token_VarCommaList[s]}),l.Token_Equals){f(l.Token_Equals),m(l.Token_Equals);let i=[],s=[];l.ExprList.forEach((o,r)=>{o!=null&&(r<l.VarList.length||o.Type=="CallExpr"||o.Type=="ParenExpr"||o.Type=="VargLiteral"||o.Type=="BinopExpr"||o.Type=="UnopExpr")&&(i.push(o),s.push(l.Token_ExprCommaList[r]))}),l.ExprList=i,l.CommaList=s,l.ExprList.forEach((o,r)=>{o!=null&&(p(o),T(o),l.Token_ExprCommaList[r]!=null&&l.ExprList.length-1==r&&(l.Token_ExprCommaList[r]=null))})}}else if(l.Type=="LocalFunctionStat")m(l.FunctionStat.Token_Function),m(l.FunctionStat.NameChain[0]),l.FunctionStat.ArgList.forEach((i,s)=>{s>0?m(i):f(i);let o=l.FunctionStat.Token_ArgCommaList[s];o&&f(o)}),l.FunctionStat.ArgList.length>0&&l.FunctionStat.Token_Varg?(f(l.FunctionStat.Token_Varg),m(l.FunctionStat.Token_Varg)):l.FunctionStat.Token_Varg&&f(l.FunctionStat.Token_Varg),f(l.FunctionStat.Token_OpenParen),f(l.FunctionStat.Token_CloseParen),M(l.FunctionStat.Token_CloseParen,l.FunctionStat.Body,l.FunctionStat.Token_End);else if(l.Type=="FunctionStat")l.NameChain.forEach((i,s)=>{s==0&&m(i),l.Token_NameChainSeperator[s]}),l.ArgList.forEach((i,s)=>{s>0&&m(i),l.Token_ArgCommaList[s]}),l.ArgList.length>0&&l.Token_Varg&&m(l.Token_Varg),M(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type=="RepeatStat")M(l.Token_Repeat,l.Body,l.Token_Until),p(l.Condition),T(l.Condition);else if(l.Type=="GenericForStat")l.VarList.forEach((i,s)=>{m(i),l.Token_VarCommaList[s]}),m(l.Token_In),l.GeneratorList.forEach((i,s)=>{p(i),T(i),l.Token_GeneratorCommaList[s]}),m(l.Token_Do),M(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="NumericForStat")l.VarList.forEach((i,s)=>{m(i),l.Token_VarCommaList[s]}),m(l.Token_Equals),l.RangeList.forEach((i,s)=>{p(i),T(i),l.Token_RangeCommaList[s]}),m(l.Token_Do),M(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="WhileStat")p(l.Condition),T(l.Condition),m(l.Token_Do),M(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="DoStat")M(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="IfStat"){p(l.Condition),T(l.Condition),m(l.Token_Then);let i=l.Token_Then,s=l.Body;l.ElseClauseList.forEach(o=>{M(i,s,o.Token),i=o.Token,o.Condition!=null&&(p(o.Condition),T(o.Condition),m(o.Token_Then),i=o.Token_Then),s=o.Body}),M(i,s,l.Token_End)}else l.Type=="CallExprStat"?p(l.Expression):l.Type=="CompoundStat"?(p(l.Lhs),p(l.Rhs),T(l.Lhs),T(l.Rhs),m(l.Token_Compound)):l.Type=="AssignmentStat"?(l.Lhs.forEach((i,s)=>{p(i),s>0&&T(i),l.Token_LhsSeperatorList[s]}),m(l.Token_Equals),l.Rhs.forEach((i,s)=>{p(i),T(i),l.Token_RhsSeperatorList[s]})):k(!1,"Unreachable")}}}},w(E)}function Pe(E){let w,p;function g(t){t&&(t.LeadingWhite="")}function S(t,_,f=!1){g(_);let m=(typeof t.Source=="string"?t.Source:t.Source.toString()).substr(t.Source.length-1,1),T=(typeof _.Source=="string"?_.Source:_.Source.toString()).substr(0,1);m=="-"&&T=="-"||it.includes(m)&&it.includes(T)||f&&m==")"&&T=="("?_.LeadingWhite=f?";":" ":_.LeadingWhite=""}function C(t,_,f){w(_),g(f);let m=_.GetFirstToken(),T=_.GetLastToken();m!=null?(S(t,m),S(T,f)):S(t,f)}p=function(t){if(t.Type==="BinopExpr")p(t.Lhs),p(t.Rhs),t.Lhs.Type=="NumberLiteral"&&t.Token_Op.Source==".."?t.Token_Op.LeadingWhite=" ":(g(t.Token_Op),S(t.Lhs.GetLastToken(),t.Token_Op)),S(t.Token_Op,t.Rhs.GetFirstToken());else if(t.Type==="UnopExpr")g(t.Token_Op),p(t.Rhs),S(t.Token_Op,t.Rhs.GetFirstToken());else if(t.Type==="NumberLiteral"||t.Type==="StringLiteral"||t.Type==="NilLiteral"||t.Type==="BooleanLiteral"||t.Type==="VargLiteral"||t.Type==="HashLiteral")g(t.Token);else if(t.Type=="FieldExpr")p(t.Base),g(t.Token_Dot),g(t.Field);else if(t.Type=="IndexExpr")p(t.Base),g(t.Token_OpenBracket),p(t.Index),g(t.Token_CloseBracket);else if(t.Type=="MethodExpr"||t.Type=="CallExpr")p(t.Base),t.Type=="MethodExpr"&&(g(t.Token_Colon),g(t.Method)),t.FunctionArguments.CallType=="StringCall"?g(t.FunctionArguments.Token):t.FunctionArguments.CallType=="ArgCall"?(g(t.FunctionArguments.Token_OpenParen),t.FunctionArguments.ArgList.forEach((_,f)=>{p(_);let m=t.FunctionArguments.Token_CommaList[f];m!=null&&g(m)}),g(t.FunctionArguments.Token_CloseParen)):t.FunctionArguments.CallType=="TableCall"&&p(t.FunctionArguments.TableExpr);else if(t.Type=="FunctionLiteral")g(t.Token_Function),g(t.Token_OpenParen),t.ArgList.forEach((_,f)=>{g(_);let m=t.Token_ArgCommaList[f];m!=null&&g(m)}),t.Token_Varg!=null&&g(t.Token_Varg),g(t.Token_CloseParen),C(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type=="VariableExpr")g(t.Token);else if(t.Type=="ParenExpr")g(t.Token_OpenParen),p(t.Expression),g(t.Token_CloseParen);else if(t.Type=="TableLiteral")g(t.Token_OpenBrace),t.EntryList.forEach((_,f)=>{_.EntryType=="Field"?(g(_.Field),g(_.Token_Equals),p(_.Value)):_.EntryType=="Index"?(g(_.Token_OpenBracket),p(_.Index),g(_.Token_CloseBracket),g(_.Token_Equals),p(_.Value)):_.EntryType=="Value"?p(_.Value):k(!1,"unreachable");let m=t.Token_SeperatorList[f];m!=null&&g(m)}),t.Token_SeperatorList[t.EntryList.length-1]=null,g(t.Token_CloseBrace);else throw`unreachable, type: ${t.Type}:${t}  undefined`},w=function(t){if(t.Type=="StatList"){let _;for(_=0;_<=t.StatementList.length;_++){let f=t.StatementList[_];if(f==null)continue;w(f),g(f.GetFirstToken());let m=t.StatementList[_-1];if(m!=null){let T={")":["(","["],"]":["(","["]};if(t.SemicolonList[_-1]){let M=m.GetLastToken().Source,l=f.GetFirstToken().Source;(T[M]===null||T[M]===void 0||!T[M].includes(l))&&(t.SemicolonList[_-1]=null)}t.SemicolonList[_-1]||S(m.GetLastToken(),f.GetFirstToken(),!0)}}t.SemicolonList[t.StatementList.length-1]=null,t.StatementList.length>0&&g(t.StatementList[0].GetFirstToken())}else if(t.Type=="BreakStat")g(t.Token_Break);else if(t.Type=="ContinueStat")g(t.Token_Continue);else if(t.Type=="GotoStat")g(t.Token_Goto),S(t.Token_Goto,t.Token_Label);else if(t.Type=="LabelStat")g(t.Token_ColonsLeft),g(t.Token_Label),g(t.Token_ColonsRight);else if(t.Type=="ReturnStat")g(t.Token_Return),t.ExprList.forEach((_,f)=>{p(_),t.Token_CommaList[f]!=null&&g(t.Token_CommaList[f])}),t.ExprList.length>0&&S(t.Token_Return,t.ExprList[0].GetFirstToken());else if(t.Type=="LocalVarStat"){g(t.Token_Local);let _=!1;t.VarList.forEach((f,m)=>{m==0?S(t.Token_Local,f):g(f),f.Attribute&&(g(f.Attribute),m+1==t.VarList.length&&(_=!0));let T=t.Token_VarCommaList[m];T!=null&&g(T)}),t.Token_Equals!=null&&(_||g(t.Token_Equals),t.ExprList.forEach((f,m)=>{p(f);let T=t.Token_ExprCommaList[m];T!=null&&g(T)}))}else if(t.Type=="LocalFunctionStat")g(t.Token_Local),S(t.Token_Local,t.FunctionStat.Token_Function),S(t.FunctionStat.Token_Function,t.FunctionStat.NameChain[0]),S(t.FunctionStat.NameChain[0],t.FunctionStat.Token_OpenParen),t.FunctionStat.ArgList.forEach((_,f)=>{g(_);let m=t.FunctionStat.Token_ArgCommaList[f];m!=null&&g(m)}),t.FunctionStat.Token_Varg&&g(t.FunctionStat.Token_Varg),g(t.FunctionStat.Token_CloseParen),C(t.FunctionStat.Token_CloseParen,t.FunctionStat.Body,t.FunctionStat.Token_End);else if(t.Type=="FunctionStat")g(t.Token_Function),t.NameChain.forEach((_,f)=>{f==0?S(t.Token_Function,_):g(_);let m=t.Token_NameChainSeperator[f];m!=null&&g(m)}),g(t.Token_OpenParen),t.ArgList.forEach((_,f)=>{g(_);let m=t.Token_ArgCommaList[f];m!=null&&g(m)}),t.Token_Varg&&g(t.Token_Varg),g(t.Token_CloseParen),C(t.Token_CloseParen,t.Body,t.Token_End);else if(t.Type=="RepeatStat")g(t.Token_Repeat),C(t.Token_Repeat,t.Body,t.Token_Until),p(t.Condition),S(t.Token_Until,t.Condition.GetFirstToken());else if(t.Type=="GenericForStat")g(t.Token_For),t.VarList.forEach((_,f)=>{f==0?S(t.Token_For,_):g(_);let m=t.Token_VarCommaList[f];m!=null&&g(m)}),S(t.VarList[t.VarList.length-1],t.Token_In),t.GeneratorList.forEach((_,f)=>{p(_),f==0&&S(t.Token_In,_.GetFirstToken());let m=t.Token_GeneratorCommaList[f];m!=null&&g(m)}),S(t.GeneratorList[t.GeneratorList.length-1].GetLastToken(),t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="NumericForStat")g(t.Token_For),t.VarList.forEach((_,f)=>{f==0?S(t.Token_For,_):g(_);let m=t.Token_VarCommaList[f];m!=null&&g(m)}),S(t.VarList[t.VarList.length-1],t.Token_Equals),t.RangeList.forEach((_,f)=>{p(_),f==0&&S(t.Token_Equals,_.GetFirstToken());let m=t.Token_RangeCommaList[f];m!=null&&g(m)}),S(t.RangeList[t.RangeList.length-1].GetLastToken(),t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="WhileStat")g(t.Token_While),p(t.Condition),g(t.Token_Do),S(t.Token_While,t.Condition.GetFirstToken()),S(t.Condition.GetLastToken(),t.Token_Do),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="DoStat")g(t.Token_Do),g(t.Token_End),C(t.Token_Do,t.Body,t.Token_End);else if(t.Type=="IfStat"){g(t.Token_If),p(t.Condition),S(t.Token_If,t.Condition.GetFirstToken()),S(t.Condition.GetLastToken(),t.Token_Then);let _=t.Token_Then,f=t.Body;t.ElseClauseList.forEach((m,T)=>{C(_,f,m.Token),_=m.Token,m.Condition!=null&&(p(m.Condition),S(m.Token,m.Condition.GetFirstToken()),S(m.Condition.GetLastToken(),m.Token_Then),_=m.Token_Then),w(m.Body),f=m.Body}),C(_,f,t.Token_End)}else if(t.Type=="CallExprStat")p(t.Expression);else if(t.Type=="CompoundStat")p(t.Lhs),g(t.Token_Compound),p(t.Rhs),S(t.Lhs.GetLastToken(),t.Token_Compound),S(t.Token_Compound,t.Rhs.GetFirstToken());else if(t.Type=="AssignmentStat")t.Lhs.forEach((_,f)=>{p(_);let m=t.Token_LhsSeperatorList[f];m!=null&&g(m)}),g(t.Token_Equals),t.Rhs.forEach((_,f)=>{p(_);let m=t.Token_RhsSeperatorList[f];m!=null&&g(m)});else return p(t)},w(E)}function ht(E){let w,p,g={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function S(l,i,s=null){let o;return o={Type:l,Token:{Type:s??"Number",LeadingWhite:"",Source:i},GetFirstToken:()=>o.Token,GetLastToken:()=>o.Token},o}function C(l,i,s){let o;return o={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:l},Lhs:i,Rhs:s,GetFirstToken:()=>o.Lhs.GetFirstToken(),GetLastToken:()=>o.Rhs.GetLastToken()},o}function t(l,i){let s;return s={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:l},Rhs:i,GetFirstToken:()=>s.Token_Op,GetLastToken:()=>s.Rhs.GetLastToken()},s}function _(l,i){if(i!=null)for(var[s,o]of Object.entries(i))l[s]=o}function f(l){if(l==null||l.substr==null)return;let i=l.substr(0,1),s;if((i=='"'||i=="'")&&(s=l.substr(1,l.length-2)),i=="["){let H=0,Y=1;for(;l.substr(Y,1)=="=";)H++,Y++;s=l.substr(2+H,l.length-4-H-2)}if(s==null)return"";let o="",r;for(r=0;r<=s.length;r++){let H=s.substr(r,1);H=="'"||H=='"'?o+=`\\${H}`:o+=H}return o}function m(l){if(typeof l=="object"&&l.Type=="ParenExpr")return _(l,l.Expression)}function T(l,i,s){let o=i,r=s;if(i&&i.Type=="ParenExpr"&&(o=i.Expression),s&&s.Type=="ParenExpr"&&(r=s.Expression),o==null||r==null||o.Type==null||r.Type==null||o.Type=="VariableExpr"||o.Type=="CallExpr"||o.Type=="BinopExpr"||r.Type=="CallExpr"||r.Type=="BinopExpr"||r.Type=="VariableExpr")return;let H=o.Token||o.Expression!=null&&o.Expression.Token||null,Y=r.Token||r.Expression!=null&&r.Expression.Token||null,ce=H!=null?H.Source:null,ke=Y!=null?Y.Source:null,J,x;if(o.Type=="BooleanLiteral"&&(J=ce=="true"),r.Type=="BooleanLiteral"&&(x=ke=="true"),!(o.Type=="NumberLiteral"&&(J=D(ce),J==null))&&!(r.Type=="NumberLiteral"&&(x=D(ke),x==null))&&((o.Type=="StringLiteral"||o.Type=="HashLiteral")&&(J=ce.toString()),(r.Type=="StringLiteral"||r.Type=="HashLiteral")&&(x=ke.toString()),J!=null&&x!=null)){if(l=="==")return J==x;if(l=="~=")return J!=x;if(l=="and")return J&&x;if(l=="or")return J||x;if(l==".."&&o.Type=="StringLiteral"&&r.Type=="StringLiteral")return`"${f(ce)+f(ke)}"`;if(o.Type=="StringLiteral"&&(J=D(f(J))),r.Type=="StringLiteral"&&(x=D(f(x))),J==null||x==null)return;let X;if(l=="+"&&(X=J+x),l=="-"&&(X=J-x),l=="*"&&(X=J*x),l=="/"&&(X=J/x),l=="^"&&(X=J**x),l=="%"&&(X=J%x),l==">"&&(X=J>x),l=="<"&&(X=J<x),l==">="&&(X=J>=x),l=="<="&&(X=J<=x),X==!1||X==!0||isFinite(X)&&X>-(10**6)&&X<10**6)return X}}function M(l,i){let s=i.Token||i.Expression||i.EntryList||i;if(s==null||s.Source==null&&i.Type!="TableLiteral"||i.Type=="VariableExpr"||i.Type=="CallExpr"||i.Type=="BinopExpr")return;let o=s.Source,r;if(i.Type=="TableLiteral"&&s!=null){let H=[],Y=0,ce=!1,ke=!1,J=0;if(s.forEach((x,X)=>{if(ce)H.push(x);else if(x.EntryType=="Value"||x.EntryType=="Index")if((x.Index==null||x.Index.Type=="NumberLiteral")&&x.Value){if((x.Index!=null&&x.Index.Token!=null&&x.Index.Token.Source!==null?x.Index.Token.Source:J+1).toString()!==(++J).toString())return ce=!0,ke=!0,H.push(x);x.Value.Type!="CallExpr"?Y++:(ce=!0,H.push(x))}else H.push(x)}),ke)return;if(l=="#")return i.EntryList=H,i.EntryList.length<=0?S("NumberLiteral",Y!==null?Y:i.EntryList.length):Y<=0?t("#",i):C("+",S("NumberLiteral",Y),t("#",i))}if(i.Type=="BooleanLiteral"&&(r=o=="true"),!(i.Type=="NumberLiteral"&&(r=D(o),r===null))){if(i.Type=="StringLiteral"&&(r=o.substr(1,o.length-2)),l=="not"&&i.Type!==null)return i.Type=="NilLiteral"||i.Type=="BooleanLiteral"&&r===!1;if(r!=null){if(l=="#")return r.length;if(l=="-")return-r}}}p=function(l){if(l.Type=="BinopExpr"){if(p(l.Lhs),p(l.Rhs),l.Lhs!=null&&l.Rhs!=null){let i=l.Token_Op;if(i!=null&&i.Source!=null){let s=T(i.Source,l.Lhs,l.Rhs);if(s!=null){if(typeof s=="boolean"){let o=S("BooleanLiteral",s.toString(),"Keyword");_(l,o);return}else if(typeof s=="number"){if(isFinite(s)==!0){let o=S("NumberLiteral",s.toString(),"Number");_(l,o);return}}else if(typeof s=="string"){let o=S("StringLiteral",s,"String");_(l,o);return}else if(typeof s=="object"){_(l,s);return}return}}if(l.Lhs.Type=="ParenExpr"){let o=l.Lhs.Expression;o.Type=="NumberLiteral"||o.Type=="StringLiteral"||o.Type=="NilLiteral"||o.Type=="BooleanLiteral"||o.Type=="HashLiteral"}if(l.Rhs.Type=="ParenExpr"){let o=l.Rhs.Expression;o.Type=="NumberLiteral"||o.Type=="StringLiteral"||o.Type=="NilLiteral"||o.Type=="BooleanLiteral"||o.Type=="HashLiteral"}}}else if(l.Type=="UnopExpr"){if(p(l.Rhs),l.Rhs!=null&&g[l.Rhs.Type]==!0){let i=l.Token_Op;if(i!=null&&i.Source!=null){let s=l.Rhs.Expression!=null?l.Rhs.Expression:l.Rhs,o=M(i.Source,s);if(o!=null){if(typeof o=="boolean"){let r=S("BooleanLiteral",o.toString(),"Keyword");_(l,r);return}else if(typeof o=="number"){if(isFinite(o)==!0){let r=S("NumberLiteral",o,"Number");_(l,r);return}}else if(typeof o=="string"){let r=S("StringLiteral",o,"String");_(l,r);return}else if(typeof o=="object"){_(l,o);return}return}}}}else if(l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="VargLiteral"||l.Type=="HashLiteral"){let i=l.Token;if(i!=null){if(i.Type=="Number"){let s=i.Source.toString().split("e");if(s.length===2){let o=D(s[0]),r=D(s[1]);isFinite(o)&&isFinite(r)&&o**r<999999999&&!i.Source.includes("+")&&i.Source.includes(".")&&!i.Source.includes("-")&&(i.Source=(o**r).toString())}}i.Type=="String"&&(i.Source=i.Source.replace(/\\\d+/gi,s=>{let o=D(s.substr(1,s.length-1));return o&&isFinite(o)&&(o>=97&&o<=122||o>=65&&o<=90||o>=33&&o<=47||o>=58&&o<=64||o>=91&&o<=96||o>=123&&o<=126)&&o!==34&&o!==39&&o!==92?String.fromCharCode(o):s}))}}else if(l.Type=="FieldExpr")p(l.Base);else if(l.Type=="IndexExpr")p(l.Base),p(l.Index);else if(l.Type=="MethodExpr"||l.Type=="CallExpr"){if(p(l.Base),l.FunctionArguments.CallType=="ArgCall"?l.FunctionArguments.ArgList.forEach((i,s)=>{p(i)}):l.FunctionArguments.CallType=="TableCall"&&p(l.FunctionArguments.TableExpr),l.Base.Type==="ParenExpr"&&l.Base.Expression.Type==="FunctionLiteral"&&l.FunctionArguments.CallType==="ArgCall"){let i=l.Base.Expression;l.FunctionArguments.ArgList.forEach((s,o)=>{let r=l.FunctionArguments.ArgList[o];if(r!==void 0&&(r.Type=="NumberLiteral"||r.Type=="StringLiteral"||r.Type=="NilLiteral"||r.Type=="BooleanLiteral"||r.Type=="HashLiteral")){let H=i.ArgList[o];H&&H.var.RenameList.forEach(Y=>{Y(r.Token.Source,!0)})}})}}else if(l.Type=="FunctionLiteral")w(l.Body);else if(l.Type!="VariableExpr")if(l.Type=="ParenExpr"){let i=l.Expression;i!=null&&i.Type=="ParenExpr"&&(l.Expression=i.Expression),p(l.Expression),(l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="VargLiteral"||l.Type=="HashLiteral")&&m(l)}else l.Type=="TableLiteral"&&l.EntryList.forEach((i,s)=>{i.EntryType=="Field"?p(i.Value):i.EntryType=="Index"?(p(i.Index),p(i.Value)):i.EntryType=="Value"?p(i.Value):k(!1,"unreachable")})},w=function(l){if(l.Type=="StatList")l.StatementList.forEach((i,s)=>{i===null||i.Type===null||(i.Remove=()=>{l.StatementList[s]=null},w(i))});else if(l.Type!="BreakStat"){if(l.Type!="ContinueStat")if(l.Type=="ReturnStat")l.ExprList.forEach((i,s)=>{p(i)});else if(l.Type=="LocalVarStat")l.Token_Equals!=null&&l.ExprList.forEach((i,s)=>{p(i)});else if(l.Type=="LocalFunctionStat")w(l.FunctionStat.Body),l.FunctionStat.NameChain.length===1&&l.FunctionStat.NameChain[0].UseCount;else if(l.Type=="FunctionStat")w(l.Body);else if(l.Type=="RepeatStat")w(l.Body),p(l.Condition),l.Body.Type=="StatList"&&l.Body.StatementList.length;else if(l.Type=="GenericForStat")l.GeneratorList.forEach((i,s)=>{p(i)}),w(l.Body);else if(l.Type=="NumericForStat"){l.RangeList.forEach((x,X)=>{p(x)}),w(l.Body);let i=l.RangeList[0],s=l.RangeList[1],o=l.RangeList[2];if(i==null||s==null)return l.Remove();if(m(i),m(s),m(o),i.Type!="NumberLiteral"||s.Type!="NumberLiteral"||o!=null&&o.Type!="NumberLiteral"||o==null)return;let r=D(i.Token.Source),H=D(s.Token.Source),Y=o!=null&&D(o.Token.Source)||1,ce=Y>0&&r<=H||Y<0&&r>=H,ke=(H-r+Y)/Y;if(!(ce&&ke>=0)||l.Body.Type=="StatList"&&l.Body.StatementList.length===0)return l.Remove()}else if(l.Type=="WhileStat"){p(l.Condition),w(l.Body);let i=l.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":l.Remove();break}}else if(l.Type=="DoStat"){if(w(l.Body),l.Body===null||l.Body.Type=="StatList"&&l.Body.StatementList.length===0)return l.Remove();if(l.Body.StatementList.length===1){let i=l.Body.StatementList[0];i.Type!=="ContinueStat"&&i.Type!=="BreakStat"&&i.Type!=="ReturnStat"&&_(l,i)}}else if(l.Type=="IfStat"){p(l.Condition),w(l.Body),l.ElseClauseList.forEach((s,o)=>{s.Condition!=null&&p(s.Condition),w(s.Body)});let i=l.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(l.ElseClauseList.length>=1||i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":l.Remove();break}}else l.Type=="CallExprStat"?p(l.Expression):l.Type=="CompoundStat"?(p(l.Lhs),p(l.Rhs)):l.Type=="AssignmentStat"&&(l.Lhs.forEach((i,s)=>{p(i)}),l.Rhs.forEach((i,s)=>{p(i)}))}},w(E)}let ae=[],ve;for(ve=97;ve<=122;ve++)ae.push(String.fromCharCode(ve));for(ve=65;ve<=90;ve++)ae.push(String.fromCharCode(ve));for(ve=48;ve<=57;ve++)ae.push(String.fromCharCode(ve));ae.push("_");let Ne=[];for(ve=97;ve<=122;ve++)Ne.push(String.fromCharCode(ve));for(ve=65;ve<=90;ve++)Ne.push(String.fromCharCode(ve));function nt(E){let w="",p=E%Ne.length;for(E=(E-p)/Ne.length,w=`${w}${Ne[p]}`;E>0;){let g=E%ae.length;E=(E-g)/ae.length,w=`${w}${ae[g]}`}return w}function b(E,w,p){let g=[];for(var[S,C]of Object.entries(Ue))g[S]=!0;let t=[];E.forEach(M=>{M.AssignedTo&&p?t.push(M):g[M.Name]=!0});function _(M){M.VariableList.forEach(l=>{t.push(l)}),M.ChildScopeList.forEach(l=>{_(l)})}_(w),t.forEach(M=>{M.UsedNameArray=[]}),t.sort((M,l)=>M-l);let f=0,m=[];function T(M){let l=m[M];if(l==null){for(l=nt(f),f++;g[l];)l=nt(f),f++;m[M]=l}return l}t.forEach((M,l)=>{M.Renamed=!0;let i=0;for(;M.UsedNameArray[i];)i++;M.Rename(T(i)),M.Scope?t.forEach(s=>{s.Renamed||(!s.Scope||s.Scope.Depth<M.Scope.Depth?s.ReferenceLocationList.some(o=>o>=M.BeginLocation&&o<=M.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):s.Scope.Depth>M.Scope.Depth?M.ReferenceLocationList.some(o=>o>=s.BeginLocation&&o<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):M.BeginLocation<s.EndLocation&&M.EndLocation>s.BeginLocation&&(s.UsedNameArray[i]=!0))}):t.forEach(s=>{if(!s.Renamed)if(s.Type=="Global")s.UsedNameArray[i]=!0;else if(s.Type=="Local")M.ReferenceLocationList.some(o=>o>=s.BeginLocation&&o<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1);else throw"Unreachable"})})}function W(E,w,p){let g=[];E.forEach(f=>{(!f.AssignedTo||!p)&&(g[f.Name]=!0)});let S=1,C=1;function t(f,m){f.Name=m,f.RenameList.forEach(T=>{T(m)})}if(p){let f={};E.forEach(m=>{m.AssignedTo&&!m.ChangedName&&(f[m.Name]=f[m.Name]||`G_${C}_`,m.ChangedName=!0,t(m,f[m.Name]),C++)})}function _(f){f.VariableList.forEach(m=>{let T=`L_${S}_`;m.Info.Type=="Argument"?T=`${T}arg${m.Info.Index}`:m.Info.Type=="LocalFunction"?T=`${T}func`:m.Info.Type=="ForRange"&&(T=`${T}forvar${m.Info.Index}`),t(m,T),S++}),f.ChildScopeList.forEach(m=>{_(m)})}_(w)}let Ge=`--[[
	Code generated using github.com/Herrtt/luamin.js
	An open source Lua beautifier and minifier.
--]]

`,$e={};$e.Minify=function(E,w){let p=Z(E),[g,S]=ut(p);w.RenameVariables==!0&&b(g,S,w.RenameGlobals),w.SolveMath==!0&&ht(p),Pe(p);let C=we(p);return C=`${Ge}

${C}`,C},$e.Beautify=function(E,w){let p=Z(E),[g,S]=ut(p);return w.RenameVariables&&W(g,S,w.RenameGlobals),w.SolveMath==!0&&ht(p),tt(p),we(p)};try{ot!=null&&ot.exports!=null&&(ot.exports.Beautify=$e.Beautify,ot.exports.Minify=$e.Minify)}catch{}})(At);var hn=At.exports;const Gt=hn;bt.Beautify=Gt.Beautify;bt.Minify=Gt.Minify;bt.Uglify=Gt.Uglify;const xt={master:`return {
  desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="无尽",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  settings_id="ENDLESS",
  settings_name="无尽",
  substitutes={  },
  version=4,
  worldgen_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  worldgen_id="ENDLESS",
  worldgen_name="无尽" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},Ot={master:`return {
  desc="标准《饥荒》体验。",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="生存",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="标准《饥荒》体验。",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="生存",
  substitutes={  },
  version=4,
  worldgen_desc="标准《饥荒》体验。",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="生存" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_snake="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},yn={class:"page-div"},_n={class:"card-header"},Tn={class:"el-form-item-msg"},vn={style:{"font-weight":"bolder"}},kn={class:"item-container"},bn={style:{"font-weight":"bolder"}},Vn={class:"item-container"},Sn={style:{"font-weight":"bolder"}},Ln={class:"item-container"},Cn={style:{"font-weight":"bolder"}},wn={class:"item-container"},En={style:{"font-weight":"bolder"}},Fn={class:"item-container"},Mn={style:{"font-weight":"bolder"}},Rn={class:"item-container"},An={style:{"font-weight":"bolder"}},Gn={class:"item-container"},Bn={style:{"font-weight":"bolder"}},In={class:"item-container"},Un={style:{"font-weight":"bolder"}},Pn={class:"item-container"},zn={style:{"font-weight":"bolder"}},Nn={class:"item-container"},$n={style:{"font-weight":"bolder"}},xn={class:"item-container"},On={style:{"font-weight":"bolder"}},Dn={class:"item-container"},Wn={style:{"font-weight":"bolder"}},qn={class:"item-container"},Kn={style:{"font-weight":"bolder"}},jn={class:"item-container"},Hn={style:{"margin-top":"10px"}},Jn={style:{"font-weight":"bolder"}},Xn={class:"item-container"},Zn={style:{"font-weight":"bolder"}},Qn={class:"item-container"},Yn={style:{"font-weight":"bolder"}},el={class:"item-container"},tl={style:{"font-weight":"bolder"}},nl={class:"item-container"},ll={style:{"font-weight":"bolder"}},al={class:"item-container"},ol={style:{"font-weight":"bolder"}},il={class:"item-container"},rl={style:{"font-weight":"bolder"}},ul={class:"item-container"},sl={style:{"font-weight":"bolder"}},dl={class:"item-container"},fl={style:{"font-weight":"bolder"}},cl={class:"item-container"},ml={style:{display:"flex","justify-content":"flex-end"}},gl={class:"card-header"},pl={class:"el-form-item-msg"},hl={class:"card-header"},yl={style:{"font-weight":"bolder"}},_l={class:"item-container"},Tl={style:{"font-weight":"bolder"}},vl={class:"item-container"},kl={style:{"font-weight":"bolder"}},bl={class:"item-container"},Vl={style:{"font-weight":"bolder"}},Sl={class:"item-container"},Ll={style:{"font-weight":"bolder"}},Cl={class:"item-container"},wl={style:{"font-weight":"bolder"}},El={class:"item-container"},Fl={style:{"font-weight":"bolder"}},Ml={class:"item-container"},Rl={style:{"font-weight":"bolder"}},Al={class:"item-container"},Gl={style:{"font-weight":"bolder"}},Bl={class:"item-container"},Il={style:{"font-weight":"bolder"}},Ul={class:"item-container"},Pl={style:{"font-weight":"bolder"}},zl={class:"item-container"},Nl={style:{"font-weight":"bolder"}},$l={class:"item-container"},xl={style:{"font-weight":"bolder"}},Ol={class:"item-container"},Dl={style:{"font-weight":"bolder"}},Wl={class:"item-container"},ql={style:{"font-weight":"bolder"}},Kl={class:"item-container"},jl={style:{"font-weight":"bolder"}},Hl={class:"item-container"},Jl={style:{"font-weight":"bolder"}},Xl={class:"item-container"},Zl={style:{"font-weight":"bolder"}},Ql={class:"item-container"},Yl={style:{"font-weight":"bolder"}},ea={class:"item-container"},ta={style:{"font-weight":"bolder"}},na={class:"item-container"},la={style:{"font-weight":"bolder"}},aa={class:"item-container"},oa={style:{"font-weight":"bolder"}},ia={class:"item-container"},ra={style:{"font-weight":"bolder"}},ua={class:"item-container"},sa={style:{display:"flex","justify-content":"flex-end"}},da=gn({name:"settingsRoom"}),fa=Object.assign(da,{setup(ot){const{t:h}=on();rn(async()=>{await T(),await ht()});const de=Be(!1),{isMobile:k}=un(),D=sn(),Ve=$t(()=>D.isDark),fe=$t(()=>D.language),pe=dn();fn();const ft=cn(),it=mn("refresh"),Xe=()=>{setTimeout(()=>{pe.meta.isKeepAlive&&ft.removeKeepAliveName(pe.name),it(!1),Tt(()=>{pe.meta.isKeepAlive&&ft.addKeepAliveName(pe.name),it(!0)})},0)},rt=Be(),Ze=Be(),ee=Be(0),Le=o=>{m.value?ee.value>o&&(ee.value=o):ee.value>o&&(o===1&&w(),o===2&&p(),ee.value=o)},Ke=()=>{m.value||(ee.value,ee.value),ee.value--},Ie=async()=>{if(m.value){if(ee.value===0){if(ge.value.groundSetting!==""&&Z.value.caveSetting!==""){await M(!1),ee.value=0,st("检测到刷新页面，已重置为单节点服务器");return}Ue.value.validate(o=>{o&&(l.value,ee.value++)})}if(ee.value===1&&Ue.value.validate(o=>{if(o)try{dt.parse(ge.value.groundSetting),ee.value++}catch{st(h("setting.luaError"))}}),ee.value===2&&we.value)try{dt.parse(we.value.modSetting),ee.value++}catch{st(h("setting.luaError"))}}else if(ee.value===0)Ue.value.validate(o=>{if(o){if(A.value.masterPort===A.value.cavesPort){st(h("setting.roomBaseFormRules.samePort"));return}ee.value++}});else if(ee.value===1)He.value.validate(o=>{if(o)try{dt.parse(ge.value.groundSetting),ee.value++}catch{st(h("setting.luaError"))}});else if(ee.value===2)if(Z.value)try{dt.parse(Z.value.caveSetting),ee.value++}catch{st(h("setting.luaError"))}else ee.value++;else if(ee.value===3)if(we.value)try{dt.parse(we.value.modSetting),ee.value++}catch{st(h("setting.luaError"))}else ee.value++},Ue=Be(),A=Be({name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!0,password:"",token:"",masterPort:0,cavesPort:0,shardMasterPort:void 0,steamMasterPort:void 0,steamAuthenticationPort:void 0,shardMasterIp:void 0,clusterKey:void 0}),et={name:[{required:!0,message:h("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:h("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:h("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:h("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:h("setting.roomBaseFormRules.token"),trigger:"blur"}]},He=Be(),ge=Be({groundSetting:""}),ue={groundSetting:[{required:!0,message:h("setting.roomGroundFormRules.groundSetting"),trigger:"blur"}]},re=Be(),Z=Be({caveSetting:""}),Je={caveSetting:[{required:!0,message:h("setting.roomCaveFormRules.caveSetting"),trigger:"blur"}]},ut=Be(),we=Be({modSetting:""}),tt={modSetting:[{required:!0,message:h("setting.roomModFormRules.modSetting"),trigger:"blur"}]},Pe=(o,r)=>{o==="master"&&(r==="endless"&&(ge.value.groundSetting=xt.master),r==="survival"&&(ge.value.groundSetting=Ot.master),w(),m.value&&(A.value.masterPort=11e3,A.value.cavesPort=0,A.value.shardMasterPort=10888,A.value.steamMasterPort=27018,A.value.steamAuthenticationPort=8768,A.value.shardMasterIp="127.0.0.1",A.value.clusterKey=void 0)),o==="caves"&&(r==="endless"&&(Z.value.caveSetting=xt.caves),r==="survival"&&(Z.value.caveSetting=Ot.caves),p(),m.value&&(A.value.masterPort=0,A.value.cavesPort=11001,A.value.shardMasterPort=10888,A.value.steamMasterPort=27019,A.value.steamAuthenticationPort=8769,A.value.shardMasterIp=void 0,A.value.clusterKey=void 0))},ht=()=>{kt.room.get().then(o=>{A.value=o.data.base,ge.value.groundSetting=o.data.ground,Z.value.caveSetting=o.data.cave,we.value.modSetting=o.data.mod,ge.value.groundSetting===""?l.value=!1:(Z.value.caveSetting,l.value=!0),A.value.masterPort===0&&(A.value.masterPort=11e3),A.value.cavesPort===0&&(A.value.cavesPort=11001)})},ae=o=>{switch(o){case"save":ve();break;case"saveAndRestart":Ne();break;case"generateNewWorld":nt();break}},ve=()=>{const o={base:A.value,ground:ge.value.groundSetting,cave:Z.value.caveSetting,mod:we.value.modSetting};de.value=!0,kt.save.post(o).then(r=>{Rt(r.message),de.value=!1}).finally(()=>{de.value=!1,Tt(()=>{Xe()})})},Ne=()=>{const o={base:A.value,ground:ge.value.groundSetting,cave:Z.value.caveSetting,mod:we.value.modSetting};de.value=!0,kt.saveAndRestart.post(o).then(r=>{Rt(r.message),de.value=!1}).finally(()=>{de.value=!1,Tt(()=>{Xe()})})},nt=()=>{const o={base:A.value,ground:ge.value.groundSetting,cave:Z.value.caveSetting,mod:we.value.modSetting};de.value=!0,kt.saveAndGenerate.post(o).then(r=>{de.value=!1,Rt(r.message)}).finally(()=>{de.value=!1,Tt(()=>{Xe()})})},b=Be("Code"),W=Be("Code"),Ge=o=>{if(o==="Visualization")try{w()}catch{st(fe.value==="zh"?"可视化配置加载失败":"Visualization load failed")}o==="Code"&&(ge.value.groundSetting=C(ge.value.groundSetting),Tt(()=>{rt.value&&rt.value.refresh()}))},$e=o=>{if(o==="Visualization")try{p()}catch{st(fe.value==="zh"?"可视化配置加载失败":"Visualization load failed")}o==="Code"&&(Z.value.caveSetting=C(Z.value.caveSetting),Tt(()=>{Ze.value&&Ze.value.refresh()}))},E=Be({}),w=()=>{if(ge.value.groundSetting==="")return;const o=dt.parse(ge.value.groundSetting),r=g(o);E.value=S(r)},p=()=>{if(Z.value.caveSetting==="")return;const o=dt.parse(Z.value.caveSetting),r=g(o);E.value=S(r)};function g(o){const H=o.body[0].arguments[0];for(const Y of H.fields)if(Y.key.type==="Identifier"&&Y.key.name==="overrides")return Y.value;return null}function S(o){const r={};for(const H of o.fields){const Y=H.key.name;r[Y]=H.value.raw.replace(/"/g,"")}return r}const C=o=>{let r=bt.Beautify(o,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1});return r=r.replace(/--\[\[\n\t.+\n\t.+\n--]]\n\n\n\n\n/g,""),r=r.replace(/ = /g,"="),r=r.replace(/\t/g,"  "),r=r.replace(/overrides=\{ +(.+)\n/g,`overrides={
    $1
`),r=r.replace(/^(\w+)=(.+)\n/gm,`    $1=$2
`),r=r.replace(/(.+)},\n/g,`$1
  },
`),r=r.replace(/^ +?\n/gm,""),r},t=o=>{const r=o.name,H=o.value,Y=dt.parse(ge.value.groundSetting),ce=g(Y);for(let ke of ce.fields)ke.key.name===r&&(ke.value.raw=`"${H}"`);ge.value.groundSetting=f(Y)},_=o=>{const r=o.name,H=o.value,Y=dt.parse(Z.value.caveSetting),ce=g(Y);for(let J of ce.fields)J.key.name===r&&(J.value.raw=`"${H}"`);const ke=f(Y);Z.value.caveSetting=bt.Beautify(ke,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),Ze.value&&Ze.value.refresh()},f=(o,r=0)=>{const H="    ".repeat(r);switch(o.type){case"Chunk":return o.body.map(Y=>f(Y,r)).join(`
`);case"LocalStatement":return`${H}local ${o.variables.map(f).join(", ")} = ${o.init.map(f).join(", ")}`;case"FunctionDeclaration":return`${H}function ${f(o.identifier)}(${o.parameters.map(f).join(", ")}) 
${f(o.body,r+1)}
${H}end`;case"ReturnStatement":return`${H}return ${o.arguments.map(f).join(", ")}`;case"BinaryExpression":return`${f(o.left)} ${o.operator} ${f(o.right)}`;case"CallStatement":return`${H}${f(o.expression)}`;case"Identifier":return o.name;case"StringLiteral":return`${o.raw}`;case"NumericLiteral":return o.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${H}{ ${o.fields.map(Y=>f(Y,r+1)).join(`,
`+H)} }`;case"Field":return o.key?`${f(o.key)} = ${f(o.value)}`:f(o.value);case"AssignmentStatement":return`${H}${o.variables.map(f).join(", ")} = ${o.init.map(f).join(", ")}`;case"CallExpression":return`${f(o.base)}(${o.arguments.map(f).join(", ")})`;case"TableKeyString":return`${f(o.key)} = ${f(o.value)}`;case"BooleanLiteral":return o.raw;case"TableValue":return f(o.value);default:throw new Error(`Unsupported node type: ${o.type}`)}},m=Be(!1),T=async()=>{await kt.multihost.get().then(o=>{m.value=o.data})},M=o=>{kt.multihost.post({multiHost:!m.value}).then(r=>{m.value=!m.value,o&&i()})},l=Be(!0),i=()=>{ge.value.groundSetting="",Z.value.caveSetting="",A.value.masterPort=void 0,A.value.cavesPort=void 0,A.value.shardMasterPort=void 0,A.value.steamMasterPort=void 0,A.value.steamAuthenticationPort=void 0,l.value?A.value.shardMasterIp="127.0.0.1":A.value.shardMasterIp=void 0,A.value.clusterKey=void 0},s={masterPort:[{required:!0,message:h("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:h("setting.roomWorldFormRules.cavesPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:h("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:h("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:h("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:h("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:h("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]};return(o,r)=>{const H=be("el-step"),Y=be("el-steps"),ce=be("el-card"),ke=be("el-col"),J=be("el-row"),x=be("el-button"),X=be("el-input"),oe=be("el-form-item"),Se=be("el-tooltip"),je=be("el-input-number"),Ce=be("el-radio"),yt=be("el-radio-group"),ct=be("el-switch"),mt=be("el-slider"),_t=be("el-link"),We=be("el-form"),Me=be("el-tab-pane"),Q=be("el-divider"),Qe=be("el-tabs"),xe=be("el-alert"),G=be("el-result"),z=be("arrow-down"),B=be("el-icon"),F=be("el-dropdown-item"),$=be("el-dropdown-menu"),O=be("el-dropdown");return v(),N("div",yn,[m.value?Te("",!0):(v(),N(te,{key:0},[c(J,{gutter:10},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:y(()=>[c(ce,{shadow:"never"},{default:y(()=>[c(Y,{active:ee.value,"align-center":"","finish-status":"success"},{default:y(()=>[c(H,{title:n(k)?o.$t("setting.roomSettingMobile"):o.$t("setting.roomSetting"),onClick:r[0]||(r[0]=e=>Le(0))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.groundSettingMobile"):o.$t("setting.groundSetting"),onClick:r[1]||(r[1]=e=>Le(1))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.caveSettingMobile"):o.$t("setting.caveSetting"),onClick:r[2]||(r[2]=e=>Le(2))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.modSettingMobile"):o.$t("setting.modSetting"),onClick:r[3]||(r[3]=e=>Le(3))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.finishSettingMobile"):o.$t("setting.finishSetting"),onClick:r[4]||(r[4]=e=>Le(4))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(J,{gutter:10,style:{"margin-top":"5px"}},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[ee.value===0?(v(),K(ce,{key:0,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[P("div",_n,[P("span",null,I(n(h)("setting.roomSetting")),1),P("div",null,[c(x,{link:"",type:"primary",onClick:r[5]||(r[5]=e=>M(!0))},{default:y(()=>[j(I(n(h)("setting.baseForm.changeMultiHostMode")),1)]),_:1})])])]),default:y(()=>[c(We,{ref_key:"roomBaseFormRef",ref:Ue,"label-position":n(k)?"top":"left","label-width":n(k)?"70":"auto",model:A.value,rules:et,size:n(k)?"small":"large"},{default:y(()=>[c(oe,{label:n(h)("setting.baseForm.room"),prop:"name"},{default:y(()=>[c(X,{modelValue:A.value.name,"onUpdate:modelValue":r[6]||(r[6]=e=>A.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.description"),prop:"description"},{default:y(()=>[c(X,{modelValue:A.value.description,"onUpdate:modelValue":r[7]||(r[7]=e=>A.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{prop:"masterPort"},{label:y(()=>[c(Se,{content:n(h)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:y(()=>[j(I(n(h)("setting.baseForm.masterPort")),1)]),_:1},8,["content"])]),default:y(()=>[c(je,{modelValue:A.value.masterPort,"onUpdate:modelValue":r[8]||(r[8]=e=>A.value.masterPort=e),max:65535,min:1,size:n(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c(oe,{prop:"cavesPort"},{label:y(()=>[c(Se,{content:n(h)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:y(()=>[j(I(n(h)("setting.baseForm.cavesPort")),1)]),_:1},8,["content"])]),default:y(()=>[c(je,{modelValue:A.value.cavesPort,"onUpdate:modelValue":r[9]||(r[9]=e=>A.value.cavesPort=e),max:65535,min:1,size:n(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),c(oe,{label:n(h)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:y(()=>[c(yt,{modelValue:A.value.gameMode,"onUpdate:modelValue":r[10]||(r[10]=e=>A.value.gameMode=e)},{default:y(()=>[c(Ce,{label:o.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.pvp"),prop:"pvp"},{default:y(()=>[c(ct,{modelValue:A.value.pvp,"onUpdate:modelValue":r[11]||(r[11]=e=>A.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.playerNum"),prop:"playerNum"},{default:y(()=>[c(mt,{modelValue:A.value.playerNum,"onUpdate:modelValue":r[12]||(r[12]=e=>A.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.backDays"),prop:"backDays"},{default:y(()=>[c(mt,{modelValue:A.value.backDays,"onUpdate:modelValue":r[13]||(r[13]=e=>A.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.vote"),prop:"vote"},{default:y(()=>[c(ct,{modelValue:A.value.vote,"onUpdate:modelValue":r[14]||(r[14]=e=>A.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.password")},{default:y(()=>[c(X,{modelValue:A.value.password,"onUpdate:modelValue":r[15]||(r[15]=e=>A.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.token"),prop:"token"},{default:y(()=>[c(X,{modelValue:A.value.token,"onUpdate:modelValue":r[16]||(r[16]=e=>A.value.token=e),"show-password":""},null,8,["modelValue"]),P("div",Tn,[c(_t,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:y(()=>[j(I(n(h)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):Te("",!0),ee.value===1?(v(),K(ce,{key:1,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[c(Qe,{modelValue:b.value,"onUpdate:modelValue":r[20]||(r[20]=e=>b.value=e),onTabChange:Ge},{default:y(()=>[c(Me,{label:n(h)("setting.tabCode"),name:"Code"},{default:y(()=>[A.value.gameMode==="endless"?(v(),K(x,{key:0,type:"primary",onClick:r[17]||(r[17]=e=>Pe("master","endless"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.endless")),1)]),_:1})):Te("",!0),A.value.gameMode==="survival"?(v(),K(x,{key:1,type:"primary",onClick:r[18]||(r[18]=e=>Pe("master","survival"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.survival")),1)]),_:1})):Te("",!0),c(We,{ref_key:"roomGroundFormRef",ref:He,"label-width":n(k)?"70":"100",model:ge.value,rules:ue,size:n(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[c(oe,{"label-position":"top",prop:"groundSetting"},{default:y(()=>[c(vt,{ref_key:"editorGroundSettingRef",ref:rt,modelValue:ge.value.groundSetting,"onUpdate:modelValue":r[19]||(r[19]=e=>ge.value.groundSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(A.value.gameMode==="endless"||A.value.gameMode==="survival")&&ge.value.groundSetting!==""?(v(),K(Me,{key:0,lazy:"",label:n(h)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[c(Q,{"content-position":"center"},{default:y(()=>[P("span",vn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),P("div",kn,[(v(!0),N(te,null,ne(n(Ae).global,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",bn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),P("div",Vn,[(v(!0),N(te,null,ne(n(Ae).events,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Sn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),P("div",Ln,[(v(!0),N(te,null,ne(n(Ae).survivors,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Cn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),P("div",wn,[(v(!0),N(te,null,ne(n(Ae).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",En,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),P("div",Fn,[(v(!0),N(te,null,ne(n(Ae).resourceRegrowth,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Mn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),P("div",Rn,[(v(!0),N(te,null,ne(n(Ae).unnaturalPortalResource,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",An,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),P("div",Gn,[(v(!0),N(te,null,ne(n(Ae).creatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Bn,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),P("div",In,[(v(!0),N(te,null,ne(n(Ae).hostileCreatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Un,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),P("div",Pn,[(v(!0),N(te,null,ne(n(Ae).giants,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",zn,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),P("div",Nn,[(v(!0),N(te,null,ne(n(lt).global,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",$n,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),P("div",xn,[(v(!0),N(te,null,ne(n(lt).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",On,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),P("div",Dn,[(v(!0),N(te,null,ne(n(lt).resources,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Wn,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),P("div",qn,[(v(!0),N(te,null,ne(n(lt).creaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Kn,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),P("div",jn,[(v(!0),N(te,null,ne(n(lt).hostileCreaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):Te("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):Te("",!0),ee.value===2?(v(),K(ce,{key:2,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[c(Qe,{modelValue:W.value,"onUpdate:modelValue":r[24]||(r[24]=e=>W.value=e),onTabChange:$e},{default:y(()=>[c(Me,{label:n(h)("setting.tabCode"),name:"Code"},{default:y(()=>[c(xe,{closable:!1,effect:Ve.value?"light":"dark",type:"success"},{default:y(()=>[j(I(n(h)("setting.cavesTip")),1)]),_:1},8,["effect"]),P("div",Hn,[A.value.gameMode==="endless"?(v(),K(x,{key:0,type:"primary",onClick:r[21]||(r[21]=e=>Pe("caves","endless"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.endless")),1)]),_:1})):Te("",!0),A.value.gameMode==="survival"?(v(),K(x,{key:1,type:"primary",onClick:r[22]||(r[22]=e=>Pe("caves","survival"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.survival")),1)]),_:1})):Te("",!0)]),c(We,{ref_key:"roomCaveFormRef",ref:re,"label-width":n(k)?"70":"100",model:Z.value,rules:Je,size:n(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[c(oe,{"label-position":"top",prop:"caveSetting"},{default:y(()=>[c(vt,{ref_key:"editorCavesSettingRef",ref:Ze,modelValue:Z.value.caveSetting,"onUpdate:modelValue":r[23]||(r[23]=e=>Z.value.caveSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(A.value.gameMode==="endless"||A.value.gameMode==="survival")&&Z.value.caveSetting!==""?(v(),K(Me,{key:0,lazy:"",label:n(h)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[c(Q,{"content-position":"center"},{default:y(()=>[P("span",Jn,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),P("div",Xn,[(v(!0),N(te,null,ne(n(at).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Zn,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),P("div",Qn,[(v(!0),N(te,null,ne(n(at).resourceRegrowth,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Yn,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),P("div",el,[(v(!0),N(te,null,ne(n(at).creatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",tl,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),P("div",nl,[(v(!0),N(te,null,ne(n(at).hostileCreatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",ll,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),P("div",al,[(v(!0),N(te,null,ne(n(at).giants,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",ol,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),P("div",il,[(v(!0),N(te,null,ne(n(gt).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(pt)[e].configs,customConfigsValue:n(pt)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(pt)[e].i18n,image:n(pt)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",rl,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),P("div",ul,[(v(!0),N(te,null,ne(n(gt).resources,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",sl,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),P("div",dl,[(v(!0),N(te,null,ne(n(gt).creaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",fl,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),P("div",cl,[(v(!0),N(te,null,ne(n(gt).hostileCreaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):Te("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):Te("",!0),ee.value===3?(v(),K(ce,{key:3,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[c(We,{ref_key:"roomModFormRef",ref:ut,"label-width":n(k)?"70":"100",model:we.value,rules:tt,size:n(k)?"small":"large"},{default:y(()=>[c(oe,{"label-position":"top",prop:"modSetting"},{default:y(()=>[c(vt,{ref:"editor",modelValue:we.value.modSetting,"onUpdate:modelValue":r[25]||(r[25]=e=>we.value.modSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):Te("",!0),ee.value===4?(v(),K(ce,{key:4,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[P("div",{style:Ye(n(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(G,{"sub-title":o.$t("setting.finish.description"),title:o.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):Te("",!0)]),_:1})]),_:1}),c(J,{gutter:10},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[c(ce,{shadow:"never"},{default:y(()=>[P("div",ml,[ee.value>0?(v(),K(x,{key:0,onClick:Ke},{default:y(()=>[j(I(n(h)("setting.button.prev")),1)]),_:1})):Te("",!0),ee.value<4?(v(),K(x,{key:1,type:"primary",onClick:Ie},{default:y(()=>[j(I(n(h)("setting.button.next")),1)]),_:1})):Te("",!0),ee.value===4?(v(),K(O,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:ae},{dropdown:y(()=>[c($,null,{default:y(()=>[c(F,{command:"save"},{default:y(()=>[j(I(n(h)("setting.button.save")),1)]),_:1}),c(F,{command:"saveAndRestart"},{default:y(()=>[j(I(n(h)("setting.button.saveAndRestart")),1)]),_:1}),c(F,{command:"generateNewWorld"},{default:y(()=>[j(I(n(h)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:y(()=>[c(x,{loading:de.value,type:"warning"},{default:y(()=>[j(I(n(h)("setting.button.actions"))+" ",1),c(B,{class:"el-icon--right"},{default:y(()=>[c(z)]),_:1})]),_:1},8,["loading"])]),_:1})):Te("",!0)])]),_:1})]),_:1})]),_:1})],64)),m.value?(v(),N(te,{key:1},[c(J,{gutter:10},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:y(()=>[c(ce,{shadow:"never"},{default:y(()=>[c(Y,{active:ee.value,"align-center":"","finish-status":"success"},{default:y(()=>[c(H,{title:n(k)?o.$t("setting.roomSettingMobile"):o.$t("setting.roomSetting"),onClick:r[26]||(r[26]=e=>Le(0))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.worldSettingMobile"):o.$t("setting.worldSetting"),onClick:r[27]||(r[27]=e=>Le(1))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.modSettingMobile"):o.$t("setting.modSetting"),onClick:r[28]||(r[28]=e=>Le(3))},null,8,["title"]),c(H,{title:n(k)?o.$t("setting.finishSettingMobile"):o.$t("setting.finishSetting"),onClick:r[29]||(r[29]=e=>Le(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),c(J,{gutter:10,style:{"margin-top":"5px"}},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[ee.value===0?(v(),K(ce,{key:0,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[P("div",gl,[P("span",null,I(n(h)("setting.roomSetting")),1),P("div",null,[c(x,{link:"",type:"primary",onClick:r[30]||(r[30]=e=>M(!1))},{default:y(()=>[j(I(n(h)("setting.baseForm.changeSingleHostMode")),1)]),_:1})])])]),default:y(()=>[c(We,{ref_key:"roomBaseFormRef",ref:Ue,"label-position":n(k)?"top":"left","label-width":n(k)?"70":"auto",model:A.value,rules:et,size:n(k)?"small":"large"},{default:y(()=>[c(oe,{label:n(h)("setting.baseForm.room"),prop:"name"},{default:y(()=>[c(X,{modelValue:A.value.name,"onUpdate:modelValue":r[31]||(r[31]=e=>A.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.description"),prop:"description"},{default:y(()=>[c(X,{modelValue:A.value.description,"onUpdate:modelValue":r[32]||(r[32]=e=>A.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:y(()=>[c(yt,{modelValue:A.value.gameMode,"onUpdate:modelValue":r[33]||(r[33]=e=>A.value.gameMode=e)},{default:y(()=>[c(Ce,{label:o.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),c(Ce,{label:o.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.pvp"),prop:"pvp"},{default:y(()=>[c(ct,{modelValue:A.value.pvp,"onUpdate:modelValue":r[34]||(r[34]=e=>A.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.playerNum"),prop:"playerNum"},{default:y(()=>[c(mt,{modelValue:A.value.playerNum,"onUpdate:modelValue":r[35]||(r[35]=e=>A.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.backDays"),prop:"backDays"},{default:y(()=>[c(mt,{modelValue:A.value.backDays,"onUpdate:modelValue":r[36]||(r[36]=e=>A.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.vote"),prop:"vote"},{default:y(()=>[c(ct,{modelValue:A.value.vote,"onUpdate:modelValue":r[37]||(r[37]=e=>A.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.password")},{default:y(()=>[c(X,{modelValue:A.value.password,"onUpdate:modelValue":r[38]||(r[38]=e=>A.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),c(oe,{label:n(h)("setting.baseForm.token"),prop:"token"},{default:y(()=>[c(X,{modelValue:A.value.token,"onUpdate:modelValue":r[39]||(r[39]=e=>A.value.token=e),"show-password":""},null,8,["modelValue"]),P("div",pl,[c(_t,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:y(()=>[j(I(n(h)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):Te("",!0),ee.value===1?(v(),K(ce,{key:1,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[P("div",hl,[P("div",null,[c(yt,{modelValue:l.value,"onUpdate:modelValue":r[40]||(r[40]=e=>l.value=e),onChange:i},{default:y(()=>[c(Ce,{value:!0,size:"small"},{default:y(()=>[j(I(n(h)("setting.groundSettingMobile")),1)]),_:1}),c(Ce,{value:!1,size:"small"},{default:y(()=>[j(I(n(h)("setting.caveSettingMobile")),1)]),_:1})]),_:1},8,["modelValue"])])])]),default:y(()=>[l.value?(v(),K(Qe,{key:0,modelValue:b.value,"onUpdate:modelValue":r[50]||(r[50]=e=>b.value=e),onTabChange:Ge},{default:y(()=>[c(Me,{label:n(h)("setting.tabCode"),name:"Code"},{default:y(()=>[A.value.gameMode==="endless"?(v(),K(x,{key:0,type:"primary",onClick:r[41]||(r[41]=e=>Pe("master","endless"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.endless")),1)]),_:1})):Te("",!0),A.value.gameMode==="survival"?(v(),K(x,{key:1,type:"primary",onClick:r[42]||(r[42]=e=>Pe("master","survival"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.survival")),1)]),_:1})):Te("",!0),c(We,{ref_key:"roomBaseFormRef",ref:Ue,"label-width":n(k)?"70":"100",model:A.value,rules:s,size:n(k)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:y(()=>[c(Se,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.masterPort"),"label-position":"top",prop:"masterPort"},{default:y(()=>[c(X,{modelValue:A.value.masterPort,"onUpdate:modelValue":r[43]||(r[43]=e=>A.value.masterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:y(()=>[c(X,{modelValue:A.value.shardMasterPort,"onUpdate:modelValue":r[44]||(r[44]=e=>A.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:y(()=>[c(X,{modelValue:A.value.steamMasterPort,"onUpdate:modelValue":r[45]||(r[45]=e=>A.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:y(()=>[c(X,{modelValue:A.value.steamAuthenticationPort,"onUpdate:modelValue":r[46]||(r[46]=e=>A.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:y(()=>[c(X,{modelValue:A.value.shardMasterIp,"onUpdate:modelValue":r[47]||(r[47]=e=>A.value.shardMasterIp=e),disabled:"",size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:y(()=>[c(X,{modelValue:A.value.clusterKey,"onUpdate:modelValue":r[48]||(r[48]=e=>A.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),c(We,{ref_key:"roomGroundFormRef",ref:He,"label-width":n(k)?"70":"100",model:ge.value,rules:ue,size:n(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.groundSetting"),"label-position":"top",prop:"groundSetting"},{default:y(()=>[c(vt,{ref_key:"editorGroundSettingRef",ref:rt,modelValue:ge.value.groundSetting,"onUpdate:modelValue":r[49]||(r[49]=e=>ge.value.groundSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(A.value.gameMode==="endless"||A.value.gameMode==="survival")&&ge.value.groundSetting!==""?(v(),K(Me,{key:0,lazy:"",label:n(h)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[c(Q,{"content-position":"center"},{default:y(()=>[P("span",yl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),P("div",_l,[(v(!0),N(te,null,ne(n(Ae).global,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Tl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),P("div",vl,[(v(!0),N(te,null,ne(n(Ae).events,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",kl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),P("div",bl,[(v(!0),N(te,null,ne(n(Ae).survivors,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Vl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),P("div",Sl,[(v(!0),N(te,null,ne(n(Ae).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Ll,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),P("div",Cl,[(v(!0),N(te,null,ne(n(Ae).resourceRegrowth,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",wl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),P("div",El,[(v(!0),N(te,null,ne(n(Ae).unnaturalPortalResource,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Fl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),P("div",Ml,[(v(!0),N(te,null,ne(n(Ae).creatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Rl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),P("div",Al,[(v(!0),N(te,null,ne(n(Ae).hostileCreatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Gl,I(n(h)("setting.groundVisualizationRule")),1),j(" - "+I(n(h)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),P("div",Bl,[(v(!0),N(te,null,ne(n(Ae).giants,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Il,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),P("div",Ul,[(v(!0),N(te,null,ne(n(lt).global,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Pl,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),P("div",zl,[(v(!0),N(te,null,ne(n(lt).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Nl,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),P("div",$l,[(v(!0),N(te,null,ne(n(lt).resources,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",xl,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),P("div",Ol,[(v(!0),N(te,null,ne(n(lt).creaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Dl,I(n(h)("setting.groundVisualizationGeneration")),1),j(" - "+I(n(h)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),P("div",Wl,[(v(!0),N(te,null,ne(n(lt).hostileCreaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:t},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):Te("",!0)]),_:1},8,["modelValue"])):(v(),K(Qe,{key:1,modelValue:W.value,"onUpdate:modelValue":r[60]||(r[60]=e=>W.value=e),onTabChange:$e},{default:y(()=>[c(Me,{label:n(h)("setting.tabCode"),name:"Code"},{default:y(()=>[P("div",null,[A.value.gameMode==="endless"?(v(),K(x,{key:0,type:"primary",onClick:r[51]||(r[51]=e=>Pe("caves","endless"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.endless")),1)]),_:1})):Te("",!0),A.value.gameMode==="survival"?(v(),K(x,{key:1,type:"primary",onClick:r[52]||(r[52]=e=>Pe("caves","survival"))},{default:y(()=>[j(I(n(h)("setting.luaImportButton.survival")),1)]),_:1})):Te("",!0)]),c(We,{ref_key:"roomBaseFormRef",ref:Ue,"label-width":n(k)?"70":"100",model:A.value,rules:s,size:n(k)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:y(()=>[c(Se,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.cavesPort"),"label-position":"top",prop:"cavesPort"},{default:y(()=>[c(X,{modelValue:A.value.cavesPort,"onUpdate:modelValue":r[53]||(r[53]=e=>A.value.cavesPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:y(()=>[c(X,{modelValue:A.value.shardMasterPort,"onUpdate:modelValue":r[54]||(r[54]=e=>A.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:y(()=>[c(X,{modelValue:A.value.steamMasterPort,"onUpdate:modelValue":r[55]||(r[55]=e=>A.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:y(()=>[c(X,{modelValue:A.value.steamAuthenticationPort,"onUpdate:modelValue":r[56]||(r[56]=e=>A.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:y(()=>[c(X,{modelValue:A.value.shardMasterIp,"onUpdate:modelValue":r[57]||(r[57]=e=>A.value.shardMasterIp=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),c(Se,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:y(()=>[c(X,{modelValue:A.value.clusterKey,"onUpdate:modelValue":r[58]||(r[58]=e=>A.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),c(We,{ref_key:"roomCaveFormRef",ref:re,"label-width":n(k)?"70":"100",model:Z.value,rules:Je,size:n(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[c(oe,{label:n(h)("setting.roomWorldForm.caveSetting"),"label-position":"top",prop:"caveSetting"},{default:y(()=>[c(vt,{ref_key:"editorCavesSettingRef",ref:Ze,modelValue:Z.value.caveSetting,"onUpdate:modelValue":r[59]||(r[59]=e=>Z.value.caveSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(A.value.gameMode==="endless"||A.value.gameMode==="survival")&&Z.value.caveSetting!==""?(v(),K(Me,{key:0,lazy:"",label:n(h)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[c(Q,{"content-position":"center"},{default:y(()=>[P("span",ql,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),P("div",Kl,[(v(!0),N(te,null,ne(n(at).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",jl,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),P("div",Hl,[(v(!0),N(te,null,ne(n(at).resourceRegrowth,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Jl,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),P("div",Xl,[(v(!0),N(te,null,ne(n(at).creatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Zl,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),P("div",Ql,[(v(!0),N(te,null,ne(n(at).hostileCreatures,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",Yl,I(n(h)("setting.cavesVisualizationRule")),1),j(" - "+I(n(h)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),P("div",ea,[(v(!0),N(te,null,ne(n(at).giants,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",ta,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),P("div",na,[(v(!0),N(te,null,ne(n(gt).world,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(pt)[e].configs,customConfigsValue:n(pt)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(pt)[e].i18n,image:n(pt)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",la,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),P("div",aa,[(v(!0),N(te,null,ne(n(gt).resources,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",oa,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),P("div",ia,[(v(!0),N(te,null,ne(n(gt).creaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),c(Q,{"content-position":"center"},{default:y(()=>[P("span",ra,I(n(h)("setting.cavesVisualizationGeneration")),1),j(" - "+I(n(h)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),P("div",ua,[(v(!0),N(te,null,ne(n(gt).hostileCreaturesAndSpawners,(e,L)=>(v(),N("div",null,[(v(),K(le,{key:L,modelValue:E.value[e],"onUpdate:modelValue":R=>E.value[e]=R,configs:n(d)[e].configs,customConfigsValue:n(d)[e].customConfigsValue,defaultModelValue:n(d)[e].modelValue,i18n:n(d)[e].i18n,image:n(d)[e].image,name:e,onChangeModelValue:_},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):Te("",!0)]),_:1},8,["modelValue"]))]),_:1},8,["style"])):Te("",!0),ee.value===2?(v(),K(ce,{key:2,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[c(We,{ref_key:"roomModFormRef",ref:ut,"label-width":n(k)?"70":"100",model:we.value,rules:tt,size:n(k)?"small":"large"},{default:y(()=>[c(oe,{"label-position":"top",prop:"modSetting"},{default:y(()=>[c(vt,{ref:"editor",modelValue:we.value.modSetting,"onUpdate:modelValue":r[61]||(r[61]=e=>we.value.modSetting=e),height:n(k)?320:500,theme:Ve.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):Te("",!0),ee.value===3?(v(),K(ce,{key:3,style:Ye(n(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[P("div",{style:Ye(n(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[c(G,{"sub-title":o.$t("setting.finish.description"),title:o.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):Te("",!0)]),_:1})]),_:1}),c(J,{gutter:10},{default:y(()=>[c(ke,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[c(ce,{shadow:"never"},{default:y(()=>[P("div",sa,[ee.value>0?(v(),K(x,{key:0,onClick:Ke},{default:y(()=>[j(I(n(h)("setting.button.prev")),1)]),_:1})):Te("",!0),ee.value<3?(v(),K(x,{key:1,type:"primary",onClick:Ie},{default:y(()=>[j(I(n(h)("setting.button.next")),1)]),_:1})):Te("",!0),ee.value===3?(v(),K(O,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:ae},{dropdown:y(()=>[c($,null,{default:y(()=>[c(F,{command:"save"},{default:y(()=>[j(I(n(h)("setting.button.save")),1)]),_:1}),c(F,{command:"saveAndRestart"},{default:y(()=>[j(I(n(h)("setting.button.saveAndRestart")),1)]),_:1}),c(F,{command:"generateNewWorld"},{default:y(()=>[j(I(n(h)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:y(()=>[c(x,{loading:de.value,type:"warning"},{default:y(()=>[j(I(n(h)("setting.button.actions"))+" ",1),c(B,{class:"el-icon--right"},{default:y(()=>[c(z)]),_:1})]),_:1},8,["loading"])]),_:1})):Te("",!0)])]),_:1})]),_:1})]),_:1})],64)):Te("",!0)])}}}),ha=an(fa,[["__scopeId","data-v-588fd42f"]]);export{ha as default};
