import{h as V,_ as ct,o as mt,u as pt,a as ft,g as _t,c as Be,s as q,r as y,b as ht,d as vt,w as gt,e as u,f as z,F as K,i as l,j as t,k as e,l as c,t as n,m,n as P,p as r,q as h,v as Me,x as he,y as yt,z as Ae,E as Ee,A as H,B as Re,C as ve,D as bt,G as wt,H as kt,I as qe,J as d,K as Ke}from"./index-CUbuX02y.js";import{e as Q}from"./index-CqQQTNvG.js";const S={roomInfo:{url:"/home/room_info",get:async function(b){return await V.get(this.url,b)}},sysInfo:{url:"/home/sys_info",get:async function(b){return await V.get(this.url,b)}},worldInfo:{url:"/home/world_info",get:async function(b){return await V.get(this.url,b)}},exec:{url:"/home/exec",post:async function(b){return await V.post(this.url,b)}},allScreens:{url:"/home/cluster/all_screens",get:async function(b){return await V.get(this.url,b)}},screenKill:{url:"/home/cluster/screen_kill",post:async function(b){return await V.post(this.url,b)}},interface:{announce:{url:"/home/announce",post:async function(b){return await V.post(this.url,b)}},console:{url:"/home/console",post:async function(b){return await V.post(this.url,b)}}}},xt={class:"page-div"},Ct={class:"card-header"},zt={key:1,class:"fcc",style:{height:"150px"}},Dt={class:"card-header"},It={class:"fcc"},St={class:"fcc"},Nt={class:"percentage-value"},Vt={class:"percentage-value"},Tt={class:"percentage-label"},Lt={class:"card-header"},Ft={key:0},$t={key:1,class:"fcc",style:{height:"150px"}},Ut={class:"card-header"},Bt={key:0},Mt={class:"fcc"},At={style:{"margin-right":"10px"}},Et={key:1,class:"fcc",style:{height:"150px"}},Rt={class:"card-header"},qt={style:{display:"flex","align-items":"center"}},Kt={key:1,class:"fcc",style:{height:"300px"}},Pt={class:"fcc",style:{height:"67vh"}},Gt={class:"fcc",style:{height:"67vh"}},Wt={class:"tip_warning"},Ot={class:"tip"},jt={style:{display:"flex","align-items":"center"}},Ht={style:{display:"flex","align-items":"center"}},Qt={style:{display:"flex","align-items":"center"}},Jt={style:{display:"flex","align-items":"center"}},Yt={style:{display:"flex","align-items":"center"}},Xt={style:{display:"flex","align-items":"center"}},Zt={__name:"index",setup(b){mt(()=>{Oe(),Ge(),We(),ee(!1),He(),Pe()});const{t:a}=pt(),{isMobile:M}=ft(),v=_t(),J=Be(()=>v.isDark),g=Be(()=>v.language),Pe=async()=>{var i;await q(2e3),v.needTour=(((i=v.dstClusters)==null?void 0:i.length)||0)===0};y(!1);const Y=y(!1),X=y(!1),T=y({server:0,local:0}),G=y(""),Ge=()=>{Y.value=!0,Q.dstVersion.get().then(i=>{T.value=i.data}).finally(()=>{Y.value=!1})},We=async()=>{X.value=!0,v.selectedDstCluster||await q(1e3),Q.connectionCode.get({clusterName:v.selectedDstCluster}).then(i=>{G.value=i.data}).finally(()=>{X.value=!1})},f=y({clusterSetting:{},seasonInfo:{season:{},cycles:0,elapsedDays:0,seasonLength:{summer:15,autumn:20,spring:20,winter:15},phase:{}},modsCount:0,playerNum:0}),Oe=async()=>{v.selectedDstCluster||await q(1e3),S.roomInfo.get({clusterName:v.selectedDstCluster}).then(i=>{f.value=i.data})},ge=i=>f.value.seasonInfo.cycles>-1?`(${f.value.seasonInfo.elapsedDays}/${f.value.seasonInfo.seasonLength[i]})`:"",Z=y({cpu:0,memory:0}),W=y([{id:"",stat:!1,world:"",type:"",cpu:0,mem:0,memSize:0,diskUsed:0}]),je=()=>{S.sysInfo.get().then(i=>{Z.value=i.data})},ee=async(i=!0)=>{if(f.value.clusterSetting.name==="")return;i||v.selectedDstCluster||await q(1e3);const s={clusterName:v.selectedDstCluster};S.worldInfo.get(s).then(I=>{W.value=I.data})},ye=[{color:"#5cb87a",percentage:20},{color:"#1989fa",percentage:40},{color:"#e6a23c",percentage:60},{color:"#f56c6c",percentage:80},{color:"#6f7ad3",percentage:100}];let O=null,te=null;const He=()=>{O=setInterval(()=>{je()},2e3),te=setInterval(()=>{v.selectedDstCluster&&ee()},1e4)},be=()=>{O&&(clearInterval(O),clearInterval(te),O=null,te=null)},le=y(!1),Qe=i=>{const s={clusterName:v.selectedDstCluster,worldName:i,type:"switch",extraData:""};le.value=!0,S.exec.post(s).finally(async()=>{await ee(),await q(1500),le.value=!1})},w=(i,s)=>{const I={startup:{en:"STARTUP",zh:"启动"},rollback:{en:"ROLLBACK",zh:"回档"},shutdown:{en:"SHUTDOWN",zh:"关闭"},restart:{en:"RESTART",zh:"重启"},update:{en:"UPDATE GAME",zh:"更新游戏"},reset:{en:"RESET GAME",zh:"重置游戏"},delete:{en:"DELETE GAME",zh:"删除世界"}};Ee.confirm(g.value==="zh"?`将执行 ${I[i].zh} 操作，是否继续？`:`The ${I[i].en} operation will be performed. Do you want to continue?`,g.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:g.value==="zh"?"确定":"confirm",cancelButtonText:g.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(k,p,C)=>{if(k==="confirm"){p.confirmButtonLoading=!0;const $={type:i,extraData:s,clusterName:v.selectedDstCluster,worldName:""};S.exec.post($).then(_=>{H(_.message),C()}).catch(()=>{}).finally(()=>{p.confirmButtonLoading=!1})}else C()}}).then(()=>{}).catch(()=>{Re(a("home.canceled"))})},ae=y(!1),A=y({message:""}),we=()=>{if(A.value.message===""){ve(g.value==="zh"?"请输入要宣告的内容":"Please enter the content to be announced");return}ae.value=!0;const i={type:"announce",extraData:A.value.message,clusterName:v.selectedDstCluster,worldName:""};S.exec.post(i).then(s=>{H(s.message),A.value.message=""}).finally(()=>{ae.value=!1})},oe=y(!1),D=y({cmd:"",world:""}),ke=()=>{if(D.value.world===""){ve(g.value==="zh"?"请选择地面或洞穴":"Please select a world from ground and cave");return}if(D.value.cmd===""){ve(g.value==="zh"?"请输入要执行的命令":"Please enter the command to execute");return}oe.value=!0;const i={type:"console",extraData:D.value.cmd,clusterName:v.selectedDstCluster,worldName:D.value.world};S.exec.post(i).then(s=>{H(s.message),D.value.cmd=""}).finally(()=>{oe.value=!1})},se=y(!1),ne=y(!1),xe=y([]),Je=()=>{se.value=!0,ne.value=!0;const i={clusterName:v.selectedDstCluster};Q.modInfo.get(i).then(s=>{xe.value=s.data}).finally(()=>{ne.value=!1})},re=y(!1),Ce=y([]),ue=y(!1),ze=()=>{ue.value=!0,re.value=!0;const i={clusterName:v.selectedDstCluster};S.allScreens.get(i).then(s=>{Ce.value=s.data}).finally(()=>{re.value=!1}),De()},Ye=i=>{Ee.confirm(g.value==="zh"?"将执行 关闭进程 操作，是否继续？":"The shutdown operation will be performed. Do you want to continue?",g.value==="zh"?"请确认您的操作":"Please confirm your operation",{confirmButtonText:g.value==="zh"?"确定":"confirm",cancelButtonText:g.value==="zh"?"取消":"cancel",type:"warning",beforeClose:(s,I,k)=>{if(s==="confirm"){I.confirmButtonLoading=!0;const p={screenName:i};S.screenKill.post(p).then(C=>{H(C.message),ze(),k()}).catch(()=>{}).finally(()=>{I.confirmButtonLoading=!1})}else k()}}).then(()=>{}).catch(()=>{Re(a("home.canceled"))})},Xe=[{label:"ap-southeast-1",value:"ap-southeast-1"},{label:"ap-east-1",value:"ap-east-1"},{label:"us-east-1",value:"us-east-1"},{label:"eu-central-1",value:"eu-central-1"}],ie=y(["ap-southeast-1","ap-east-1"]),de=y(!1),F=y(!1),De=()=>{F.value=!0;const i={clusterName:v.selectedDstCluster,regions:ie.value};Q.checkLobby.post(i).then(s=>{de.value=s.data}).finally(()=>{F.value=!1})},j=bt();wt();const Ie=ht(),Se=kt("refresh"),Ze=()=>{setTimeout(()=>{j.meta.isKeepAlive&&Ie.removeKeepAliveName(j.name),Se(!1),qe(()=>{j.meta.isKeepAlive&&Ie.addKeepAliveName(j.name),Se(!0)})},0)};return vt(()=>{be(),window.removeEventListener("beforeunload",be)}),gt(()=>v.selectedDstCluster,i=>{i&&qe(()=>{Ze()})},{immediate:!1}),(i,s)=>{const I=d("DocumentCopy"),k=d("el-icon"),p=d("el-button"),C=d("el-descriptions-item"),$=d("el-tooltip"),_=d("el-tag"),et=d("el-descriptions"),U=d("el-result"),L=d("el-card"),N=d("el-col"),Ne=d("QuestionFilled"),Ve=d("el-progress"),ce=d("el-row"),E=d("el-form-item"),me=d("el-form"),Te=d("el-input"),Le=d("el-option"),Fe=d("el-select"),x=d("el-table-column"),tt=d("el-switch"),pe=d("el-table"),lt=d("el-image"),$e=d("el-dialog"),at=d("Loading"),fe=d("el-alert"),ot=d("MilkTea"),B=d("el-tour-step"),st=d("Sugar"),nt=d("ColdDrink"),rt=d("Dessert"),ut=d("Fries"),it=d("IceDrink"),dt=d("el-tour"),Ue=Ke("copy"),_e=Ke("loading");return u(),z("div",xt,[T.value.local!==-1?(u(),z(K,{key:0},[l(v).dstClusters?(u(),z(K,{key:0},[t(ce,{gutter:10},{default:e(()=>[t(N,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[c("div",Ct,n(l(a)("home.roomInfo")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(u(),m(et,{key:0,column:l(M)?1:2},{default:e(()=>[t(C,{label:l(a)("home.roomName")},{default:e(()=>[P((u(),m(p,{link:"",type:"primary"},{default:e(()=>[r(n(f.value.clusterSetting.name)+" ",1),t(k,{style:{"margin-left":"3px"}},{default:e(()=>[t(I)]),_:1})]),_:1})),[[Ue,f.value.clusterSetting.name]])]),_:1},8,["label"]),t(C,{label:l(a)("home.connectionCode")},{default:e(()=>[t($,{content:G.value,effect:"light",placement:"top"},{default:e(()=>[P((u(),m(p,{disabled:G.value==="",loading:X.value,link:"",type:"primary"},{default:e(()=>[r(n(l(a)("home.copy")),1)]),_:1},8,["disabled","loading"])),[[Ue,G.value]])]),_:1},8,["content"])]),_:1},8,["label"]),t(C,{label:l(a)("home.cycles")},{default:e(()=>[t(_,{type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[r(n(f.value.seasonInfo.cycles),1)]),_:1},8,["type"])]),_:1},8,["label"]),t(C,{label:l(a)("home.phase")},{default:e(()=>[g.value==="en"?(u(),m(_,{key:0,type:f.value.seasonInfo.phase.en==="Failed to retrieve"?"danger":"success"},{default:e(()=>[r(n(f.value.seasonInfo.phase.en),1)]),_:1},8,["type"])):h("",!0),g.value==="zh"?(u(),m(_,{key:1,type:f.value.seasonInfo.phase.zh==="获取失败"?"danger":"success"},{default:e(()=>[r(n(f.value.seasonInfo.phase.zh),1)]),_:1},8,["type"])):h("",!0)]),_:1},8,["label"]),t(C,{label:l(a)("home.season")},{default:e(()=>[g.value==="en"?(u(),m(_,{key:0,type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[r(n(f.value.seasonInfo.season.en)+" "+n(ge(f.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):h("",!0),g.value==="zh"?(u(),m(_,{key:1,type:f.value.seasonInfo.cycles>-1?"success":"danger"},{default:e(()=>[r(n(f.value.seasonInfo.season.zh)+" "+n(ge(f.value.seasonInfo.season.en)),1)]),_:1},8,["type"])):h("",!0)]),_:1},8,["label"]),t(C,{label:l(a)("home.mods")},{default:e(()=>[t(_,null,{default:e(()=>[r(n(f.value.modsCount),1)]),_:1}),t(p,{link:"",style:{"margin-left":"10px"},type:"primary",onClick:Je},{default:e(()=>[r(n(l(a)("home.modsButton")),1)]),_:1})]),_:1},8,["label"]),t(C,{label:l(a)("home.version")},{default:e(()=>[P((u(),m(_,{type:T.value.local===T.value.server?"success":"danger"},{default:e(()=>[r(" ("+n(T.value.local)+"/"+n(T.value.server)+") ",1)]),_:1},8,["type"])),[[_e,Y.value]])]),_:1},8,["label"]),t(C,{label:l(a)("home.playerNum")},{default:e(()=>[t(_,{type:"primary"},{default:e(()=>[r(n(f.value.playerNum),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["column"])):h("",!0),f.value.clusterSetting.name===""?(u(),z("div",zt,[t(U,{title:l(a)("home.noServer"),icon:"warning"},null,8,["title"])])):h("",!0)]),_:1})]),_:1}),t(N,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{shadow:"never",style:{"min-height":"250px"}},{header:e(()=>[c("div",Dt,[c("div",It,[r(n(l(a)("home.sysInfo"))+" ",1),t($,{content:l(a)("home.sysInfoTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Ne)]),_:1})]),_:1},8,["content"])])])]),default:e(()=>[c("div",St,[t(Ve,{color:ye,percentage:Z.value.cpu,type:"dashboard"},{default:e(({percentage:o})=>[c("span",Nt,n(o.toFixed(1)),1),s[23]||(s[23]=c("span",{class:"percentage-label"},"CPU",-1))]),_:1},8,["percentage"]),t(Ve,{color:ye,percentage:Z.value.memory,style:{"margin-left":"10%"},type:"dashboard"},{default:e(({percentage:o})=>[c("span",Vt,n(o.toFixed(1)),1),c("span",Tt,n(l(a)("home.mem")),1)]),_:1},8,["percentage"])])]),_:1})]),_:1})]),_:1}),t(ce,{gutter:10},{default:e(()=>[t(N,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[c("div",Lt,n(l(a)("home.control")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(u(),z("div",Ft,[t(me,{size:"large"},{default:e(()=>[t(E,{label:l(a)("home.rollback")},{default:e(()=>[l(M)?(u(),m(N,{key:0},{default:e(()=>[t(p,{size:"small",onClick:s[0]||(s[0]=o=>w("rollback",1))},{default:e(()=>[r("1"+n(l(a)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:s[1]||(s[1]=o=>w("rollback",2))},{default:e(()=>[r(" 2"+n(l(a)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[2]||(s[2]=o=>w("rollback",3))},{default:e(()=>[r(" 3"+n(l(a)("home.days")),1)]),_:1})]),_:1})):h("",!0),l(M)?(u(),m(N,{key:1},{default:e(()=>[t(p,{size:"small",onClick:s[3]||(s[3]=o=>w("rollback",4))},{default:e(()=>[r(" 4"+n(l(a)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[4]||(s[4]=o=>w("rollback",5))},{default:e(()=>[r(" 5"+n(l(a)("home.days")),1)]),_:1})]),_:1})):h("",!0),l(M)?h("",!0):(u(),m(N,{key:2},{default:e(()=>[t(p,{size:"small",onClick:s[5]||(s[5]=o=>w("rollback",1))},{default:e(()=>[r("1"+n(l(a)("home.day")),1)]),_:1}),t(p,{size:"small",onClick:s[6]||(s[6]=o=>w("rollback",2))},{default:e(()=>[r(" 2"+n(l(a)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[7]||(s[7]=o=>w("rollback",3))},{default:e(()=>[r(" 3"+n(l(a)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[8]||(s[8]=o=>w("rollback",4))},{default:e(()=>[r(" 4"+n(l(a)("home.days")),1)]),_:1}),t(p,{size:"small",onClick:s[9]||(s[9]=o=>w("rollback",5))},{default:e(()=>[r(" 5"+n(l(a)("home.days")),1)]),_:1})]),_:1}))]),_:1},8,["label"])]),_:1}),t(me,{size:"large"},{default:e(()=>[t(E,null,{default:e(()=>[t(p,{size:"default",type:"success",onClick:s[10]||(s[10]=o=>w("startup",0))},{default:e(()=>[r(n(l(a)("home.startup")),1)]),_:1}),t(p,{size:"default",type:"primary",onClick:s[11]||(s[11]=o=>w("restart",0))},{default:e(()=>[r(n(l(a)("home.restart")),1)]),_:1}),t(p,{size:"default",type:"warning",onClick:s[12]||(s[12]=o=>w("update",0))},{default:e(()=>[r(n(l(a)("home.update")),1)]),_:1})]),_:1}),t(E,null,{default:e(()=>[t(p,{size:"default",type:"warning",onClick:s[13]||(s[13]=o=>w("shutdown",0))},{default:e(()=>[r(n(l(a)("home.shutdown")),1)]),_:1}),t(p,{size:"default",type:"danger",onClick:s[14]||(s[14]=o=>w("reset",0))},{default:e(()=>[r(n(l(a)("home.reset")),1)]),_:1}),t($,{content:l(a)("home.deleteTips"),effect:"light",placement:"top"},{default:e(()=>[t(p,{color:"#626aef",size:"default",onClick:s[15]||(s[15]=o=>w("delete",0))},{default:e(()=>[r(n(l(a)("home.delete")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})])):h("",!0),f.value.clusterSetting.name===""?(u(),z("div",$t,[t(U,{title:l(a)("home.noServer"),icon:"warning"},null,8,["title"])])):h("",!0)]),_:1})]),_:1}),t(N,{lg:12,md:12,sm:24,span:12,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:{"min-height":"300px"},shadow:"never"},{header:e(()=>[c("div",Ut,n(l(a)("home.interface")),1)]),default:e(()=>[f.value.clusterSetting.name!==""?(u(),z("div",Bt,[t(me,{"label-position":"top"},{default:e(()=>[t(E,{label:l(a)("home.announcement")},{default:e(()=>[t(Te,{modelValue:A.value.message,"onUpdate:modelValue":s[16]||(s[16]=o=>A.value.message=o),onKeyup:Me(we,["enter"])},{append:e(()=>[t(p,{loading:ae.value,onClick:we},{default:e(()=>[r(n(l(a)("home.send")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(E,{label:"Console"},{default:e(()=>[t(Te,{modelValue:D.value.cmd,"onUpdate:modelValue":s[18]||(s[18]=o=>D.value.cmd=o),onKeyup:Me(ke,["enter"])},{prepend:e(()=>[t(Fe,{modelValue:D.value.world,"onUpdate:modelValue":s[17]||(s[17]=o=>D.value.world=o),style:{width:"115px"}},{default:e(()=>[(u(!0),z(K,null,he(W.value,o=>(u(),m(Le,{disabled:!o.stat,label:o.world,value:o.world},{default:e(()=>[c("div",Mt,[c("span",At,n(o.world),1),o.type==="forest"?(u(),m(_,{key:0,type:"success"},{default:e(()=>s[24]||(s[24]=[r("地面")])),_:1})):h("",!0),o.type==="cave"?(u(),m(_,{key:1,type:"warning"},{default:e(()=>s[25]||(s[25]=[r("洞穴")])),_:1})):h("",!0),o.type==="None"?(u(),m(_,{key:2,type:"danger"},{default:e(()=>s[26]||(s[26]=[r("未识别")])),_:1})):h("",!0)])]),_:2},1032,["disabled","label","value"]))),256))]),_:1},8,["modelValue"])]),append:e(()=>[t(p,{loading:oe.value,onClick:ke},{default:e(()=>[r(n(l(a)("home.execute")),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1})])):h("",!0),f.value.clusterSetting.name===""?(u(),z("div",Et,[t(U,{title:l(a)("home.noServer"),icon:"warning"},null,8,["title"])])):h("",!0)]),_:1})]),_:1})]),_:1}),t(ce,{gutter:10},{default:e(()=>[t(N,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:e(()=>[t(L,{style:yt(l(M)?"min-height: 300px":"height: 400px"),shadow:"never"},{header:e(()=>[c("div",Rt,[c("span",null,n(g.value==="zh"?"世界信息":"World Info"),1),t(p,{link:"",type:"primary",onClick:ze},{default:e(()=>[r(n(g.value==="zh"?"检查世界":"Check World"),1)]),_:1})])]),default:e(()=>[W.value?(u(),m(pe,{key:0,data:W.value,border:""},{default:e(()=>[t(x,{label:"ID",prop:"id"},{default:e(o=>[t(_,{type:"info"},{default:e(()=>[r(n(o.row.id),1)]),_:2},1024)]),_:1}),t(x,{label:l(a)("home.worldName"),prop:"world"},{default:e(o=>[t(_,{type:"primary"},{default:e(()=>[r(n(o.row.world),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(a)("home.type"),prop:"type"},{default:e(o=>[o.row.type==="forest"?(u(),m(_,{key:0,type:"success"},{default:e(()=>[r(n(g.value==="zh"?"地面":"Ground"),1)]),_:1})):h("",!0),o.row.type==="cave"?(u(),m(_,{key:1,type:"warning"},{default:e(()=>[r(n(g.value==="zh"?"洞穴":"Cave"),1)]),_:1})):h("",!0),o.row.type==="None"?(u(),m(_,{key:2,type:"danger"},{default:e(()=>[r(n(g.value==="zh"?"未识别":"Undefined"),1)]),_:1})):h("",!0)]),_:1},8,["label"]),t(x,{label:l(a)("home.isMaster"),prop:"isMaster"},{default:e(o=>[o.row.isMaster?(u(),m(_,{key:0,type:"primary"},{default:e(()=>[r(n(g.value==="zh"?"是":"Yes"),1)]),_:1})):(u(),m(_,{key:1,type:"info"},{default:e(()=>[r(n(g.value==="zh"?"否":"No"),1)]),_:1}))]),_:1},8,["label"]),t(x,{prop:"cpu"},{header:e(()=>[c("div",qt,[s[27]||(s[27]=c("span",null,"CPU",-1)),t($,{content:l(a)("home.cpuTip"),effect:"light",placement:"top"},{default:e(()=>[t(k,{size:"14",style:{"margin-left":"2px"}},{default:e(()=>[t(Ne)]),_:1})]),_:1},8,["content"])])]),default:e(o=>[t(_,{type:"info"},{default:e(()=>[r(n(o.row.cpu.toFixed(2))+"%",1)]),_:2},1024)]),_:1}),t(x,{label:l(a)("home.memory")+"(MiB)",prop:"mem"},{default:e(o=>[t(_,{type:"info"},{default:e(()=>[r(n(o.row.memSize.toFixed(0))+" ["+n(o.row.mem.toFixed(0))+"%]",1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(a)("home.disk"),prop:"diskUsed"},{default:e(o=>[t(_,{type:"info"},{default:e(()=>[r(n(l(Ae)(o.row.diskUsed,0)),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(a)("home.status"),prop:"stat"},{default:e(o=>[t(tt,{modelValue:o.row.stat,"onUpdate:modelValue":R=>o.row.stat=R,"inline-prompt":"","active-text":l(a)("home.running"),"inactive-text":l(a)("home.terminated"),loading:le.value,onChange:R=>Qe(o.row.world)},null,8,["modelValue","onUpdate:modelValue","active-text","inactive-text","loading","onChange"])]),_:1},8,["label"])]),_:1},8,["data"])):(u(),z("div",Kt,[t(U,{title:l(a)("home.noServer"),icon:"warning"},null,8,["title"])]))]),_:1},8,["style"])]),_:1})]),_:1})],64)):(u(),m(L,{key:1,shadow:"never"},{default:e(()=>[c("div",Pt,[t(U,{title:"请创建集群后再使用本平台功能",icon:"warning"})])]),_:1}))],64)):h("",!0),T.value.local===-1?(u(),m(L,{key:1,shadow:"never"},{default:e(()=>[c("div",Gt,[t(U,{title:"请先安装游戏后再使用本平台功能","sub-title":"请前往 工具-安装游戏 页面，或使用脚本进行手动安装",icon:"warning"})])]),_:1})):h("",!0),t($e,{modelValue:se.value,"onUpdate:modelValue":s[19]||(s[19]=o=>se.value=o),"close-on-click-modal":!1,title:l(a)("home.modsTable.title"),width:"80%"},{default:e(()=>[P((u(),m(pe,{data:xe.value,border:"",height:"70vh",size:"small",style:{width:"100%"},"tooltip-effect":"light"},{default:e(()=>[t(x,{label:l(a)("home.modsTable.name"),prop:"name"},null,8,["label"]),t(x,{label:l(a)("home.modsTable.pics"),prop:"preview_url",width:"120px"},{default:e(o=>[t(lt,{src:o.row.preview_url,fit:"fill",style:{width:"100px",height:"100px"}},null,8,["src"])]),_:1},8,["label"]),t(x,{label:l(a)("home.modsTable.size"),prop:"size"},{default:e(o=>[r(n(l(Ae)(o.row.size)),1)]),_:1},8,["label"]),t(x,{label:l(a)("home.modsTable.id"),prop:"id"},null,8,["label"]),t(x,{label:l(a)("home.modsTable.tags"),prop:"tags"},{default:e(o=>[(u(!0),z(K,null,he(o.row.tags,R=>(u(),m(_,{style:{margin:"0 5px 5px 0"}},{default:e(()=>[r(n(R.display_name),1)]),_:2},1024))),256))]),_:1},8,["label"])]),_:1},8,["data"])),[[_e,ne.value]])]),_:1},8,["modelValue","title"]),t($e,{modelValue:ue.value,"onUpdate:modelValue":s[21]||(s[21]=o=>ue.value=o),width:"60%"},{header:e(()=>[r(n(l(a)("home.screenDialog.title")),1)]),default:e(()=>[t(Fe,{modelValue:ie.value,"onUpdate:modelValue":s[20]||(s[20]=o=>ie.value=o),multiple:"",disabled:F.value,onChange:De,style:{margin:"20px 0"}},{default:e(()=>[(u(),z(K,null,he(Xe,o=>t(Le,{label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"]),F.value?(u(),m(fe,{key:0,closable:!1,type:"info","show-icon":"",effect:J.value?"light":"dark"},{icon:e(()=>[t(k,{class:"is-loading"},{default:e(()=>[t(at)]),_:1})]),default:e(()=>[r(" "+n(l(a)("home.screenDialog.tip3")),1)]),_:1},8,["effect"])):h("",!0),de.value&&!F.value?(u(),m(fe,{key:1,closable:!1,type:"success","show-icon":"",effect:J.value?"light":"dark"},{default:e(()=>[r(n(l(a)("home.screenDialog.tip4")),1)]),_:1},8,["effect"])):h("",!0),!de.value&&!F.value?(u(),m(fe,{key:2,closable:!1,type:"error","show-icon":"",effect:J.value?"light":"dark"},{default:e(()=>[r(n(l(a)("home.screenDialog.tip5")),1)]),_:1},8,["effect"])):h("",!0),c("div",Wt,n(l(a)("home.screenDialog.tip1")),1),c("div",Ot,n(l(a)("home.screenDialog.tip2")),1),P((u(),m(pe,{data:Ce.value,border:""},{default:e(()=>[t(x,{label:l(a)("home.screenDialog.column1"),prop:"screenName"},{default:e(o=>[t(_,{type:"primary"},{default:e(()=>[r(n(o.row.screenName),1)]),_:2},1024)]),_:1},8,["label"]),t(x,{label:l(a)("home.screenDialog.column2")},{default:e(o=>[t(p,{type:"danger",size:"small",onClick:R=>Ye(o.row.screenName)},{default:e(()=>[r(n(l(a)("home.screenDialog.stop")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[_e,re.value]])]),_:1},8,["modelValue"]),t(dt,{modelValue:l(v).needTour,"onUpdate:modelValue":s[22]||(s[22]=o=>l(v).needTour=o)},{default:e(()=>[t(B,{title:l(a)("home.tour.one.title")},{default:e(()=>[c("div",jt,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ot)]),_:1}),c("span",null,n(l(a)("home.tour.one.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourUser",title:l(a)("home.tour.two.title")},{default:e(()=>[c("div",Ht,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(st)]),_:1}),c("span",null,n(l(a)("home.tour.two.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourClusterSelect",title:l(a)("home.tour.three.title")},{default:e(()=>[c("div",Qt,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(nt)]),_:1}),c("span",null,n(l(a)("home.tour.three.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourMessage",title:l(a)("home.tour.four.title")},{default:e(()=>[c("div",Jt,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(rt)]),_:1}),c("span",null,n(l(a)("home.tour.four.desc")),1)])]),_:1},8,["title"]),t(B,{target:"#tourGithub",title:l(a)("home.tour.five.title")},{default:e(()=>[c("div",Yt,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(ut)]),_:1}),c("span",null,n(l(a)("home.tour.five.desc")),1)])]),_:1},8,["title"]),t(B,{title:l(a)("home.tour.six.title")},{default:e(()=>[c("div",Xt,[t(k,{style:{"margin-right":"5px"}},{default:e(()=>[t(it)]),_:1}),c("span",null,n(l(a)("home.tour.six.desc")),1)])]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}},ll=ct(Zt,[["__scopeId","data-v-403f847b"]]);export{ll as default};
