import{aa as Et,ab as tn,_ as nn,u as ln,o as an,r as Ae,a as on,g as rn,c as un,B as Ve,d as v,e as P,F as ne,f as m,w as y,j as t,k as j,p as Xe,i as U,t as R,m as H,n as be,v as oe,X as sn,A as ct,y as Ft}from"./index-B5BRRdMX.js";import{s as Tt}from"./index-BKJcVTpy.js";import{s as yt}from"./index-B6-ITlIL.js";import{g as Re,_ as ie,o as f,a as tt,c as nt,b as st,d as dt}from"./levelDataSetting-DQZ9omZz.js";var Vt={exports:{}};Vt.exports;(function(lt,T){(function(ge,k,N){var Se=T&&!T.nodeType&&T,fe=lt&&!lt.nodeType&&lt,ye=Se&&fe&&typeof Et=="object"&&Et,ee=fe&&fe.exports===Se&&Se;ye&&(ye.global===ye||ye.window===ye||ye.self===ye)&&(ge=ye),N(Se&&fe?ee?fe.exports:Se:ge[k]={})})(Et,"luaparse",function(ge){ge.version="0.3.1";var k,N,Se,fe,ye,ee=ge.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Be(a,u){return u=u||0,a<128?String.fromCharCode(a):a<2048?String.fromCharCode(u|192|a>>6,u|128|a&63):a<65536?String.fromCharCode(u|224|a>>12,u|128|a>>6&63,u|128|a&63):a<1114112?String.fromCharCode(u|240|a>>18,u|128|a>>12&63,u|128|a>>6&63,u|128|a&63):null}function Ze(a,u){for(var S=a.toString(16);S.length<u;)S="0"+S;return S}function ft(a){return function(u){var S=a.exec(u);if(!S)return u;re(null,Q.invalidCodeUnit,Ze(S[0].charCodeAt(0),4).toUpperCase())}}var We={"pseudo-latin1":{fixup:ft(/[^\x00-\xff]/),encodeByte:function(a){return a===null?"":String.fromCharCode(a)},encodeUTF8:function(a){return Be(a)}},"x-user-defined":{fixup:ft(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(a){return a===null?"":a>=128?String.fromCharCode(a|63232):String.fromCharCode(a)},encodeUTF8:function(a){return Be(a,63232)}},none:{discardStrings:!0,fixup:function(a){return a},encodeByte:function(a){return""},encodeUTF8:function(a){return""}}},M=1,ze=2,De=4,se=8,Ke=16,Ne=32,_e=64,je=128,Qe=256;ge.tokenTypes={EOF:M,StringLiteral:ze,Keyword:De,Identifier:se,NumericLiteral:Ke,Punctuator:Ne,BooleanLiteral:_e,NilLiteral:je,VarargLiteral:Qe};var Q=ge.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},ue=ge.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,u){return{type:"IfClause",condition:a,body:u}},elseifClause:function(a,u){return{type:"ElseifClause",condition:a,body:u}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,u){return{type:"WhileStatement",condition:a,body:u}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,u){return{type:"RepeatStatement",condition:a,body:u}},localStatement:function(a,u){return{type:"LocalStatement",variables:a,init:u}},assignmentStatement:function(a,u){return{type:"AssignmentStatement",variables:a,init:u}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,u,S,B){return{type:"FunctionDeclaration",identifier:a,isLocal:S,parameters:u,body:B}},forNumericStatement:function(a,u,S,B,W){return{type:"ForNumericStatement",variable:a,start:u,end:S,step:B,body:W}},forGenericStatement:function(a,u,S){return{type:"ForGenericStatement",variables:a,iterators:u,body:S}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,u,S){return a=a===ze?"StringLiteral":a===Ke?"NumericLiteral":a===_e?"BooleanLiteral":a===je?"NilLiteral":"VarargLiteral",{type:a,value:u,raw:S}},tableKey:function(a,u){return{type:"TableKey",key:a,value:u}},tableKeyString:function(a,u){return{type:"TableKeyString",key:a,value:u}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,u,S){var B=a==="and"||a==="or"?"LogicalExpression":"BinaryExpression";return{type:B,operator:a,left:u,right:S}},unaryExpression:function(a,u){return{type:"UnaryExpression",operator:a,argument:u}},memberExpression:function(a,u,S){return{type:"MemberExpression",indexer:u,identifier:S,base:a}},indexExpression:function(a,u){return{type:"IndexExpression",base:a,index:u}},callExpression:function(a,u){return{type:"CallExpression",base:a,arguments:u}},tableCallExpression:function(a,u){return{type:"TableCallExpression",base:a,arguments:u}},stringCallExpression:function(a,u){return{type:"StringCallExpression",base:a,argument:u}},comment:function(a,u){return{type:"Comment",value:a,raw:u}}};function le(a){if(O){var u=D.pop();u.complete(),u.bless(a)}return N.onCreateNode&&N.onCreateNode(a),a}var He=Array.prototype.slice,at=function(a,u){for(var S=0,B=a.length;S<B;++S)if(a[S]===u)return S;return-1};Array.prototype.indexOf&&(at=function(a,u){return a.indexOf(u)});function mt(a,u,S){for(var B=0,W=a.length;B<W;++B)if(a[B][u]===S)return B;return-1}function ot(a){var u=He.call(arguments,1);return a=a.replace(/%(\d)/g,function(S,B){return""+u[B-1]||""}),a}var it=function(a){for(var u=He.call(arguments,1),S,B,W=0,Te=u.length;W<Te;++W){S=u[W];for(B in S)Object.prototype.hasOwnProperty.call(S,B)&&(a[B]=S[B])}return a};Object.assign&&(it=Object.assign),ge.SyntaxError=SyntaxError;function Ye(a){return Object.create?Object.create(a,{line:{writable:!0,value:a.line},index:{writable:!0,value:a.index},column:{writable:!0,value:a.column}}):a}function re(a){var u=ot.apply(null,He.call(arguments,1)),S,B;throw a===null||typeof a.line>"u"?(B=b-_+1,S=Ye(new SyntaxError(ot("[%1:%2] %3",h,B,u))),S.index=b,S.line=h,S.column=B):(B=a.range[0]-a.lineStart,S=Ye(new SyntaxError(ot("[%1:%2] %3",a.line,B,u))),S.line=a.line,S.index=a.range[0],S.column=B),S}function A(a){var u=k.slice(a.range[0],a.range[1]);return u||a.value}function we(a,u){re(u,Q.expectedToken,a,A(u))}function $e(a){var u=A(x);if(typeof a.type<"u"){var S;switch(a.type){case ze:S="string";break;case De:S="keyword";break;case se:S="identifier";break;case Ke:S="number";break;case Ne:S="symbol";break;case _e:S="boolean";break;case je:return re(a,Q.unexpected,"symbol","nil",u);case M:return re(a,Q.unexpectedEOF)}return re(a,Q.unexpected,S,A(a),u)}return re(a,Q.unexpected,"symbol",a,u)}var b,K,ae,x,C,p,h,_;ge.lex=L;function L(){for(V();k.charCodeAt(b)===45&&k.charCodeAt(b+1)===45;)Le(),V();if(b>=Se)return{type:M,value:"<eof>",line:h,lineStart:_,range:[b,b]};var a=k.charCodeAt(b),u=k.charCodeAt(b+1);if(p=b,_t(a))return r();switch(a){case 39:case 34:return w();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i();case 46:return X(u)?i():u===46?k.charCodeAt(b+2)===46?g():o(".."):o(".");case 61:return o(u===61?"==":"=");case 62:return fe.bitwiseOperators&&u===62?o(">>"):o(u===61?">=":">");case 60:return fe.bitwiseOperators&&u===60?o("<<"):o(u===61?"<=":"<");case 126:if(u===61)return o("~=");if(!fe.bitwiseOperators)break;return o("~");case 58:return fe.labels&&u===58?o("::"):o(":");case 91:return u===91||u===61?n():o("[");case 47:return fe.integerDivision&&u===47?o("//"):o("/");case 38:case 124:if(!fe.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return o(k.charAt(b))}return $e(k.charAt(b))}function l(){var a=k.charCodeAt(b),u=k.charCodeAt(b+1);return Ge(a)?(a===10&&u===13&&++b,a===13&&u===10&&++b,++h,_=++b,!0):!1}function V(){for(;b<Se;){var a=k.charCodeAt(b);if(Oe(a))++b;else if(!l())break}}function r(){for(var a,u;gt(k.charCodeAt(++b)););return a=ye.fixup(k.slice(p,b)),pt(a)?u=De:a==="true"||a==="false"?(u=_e,a=a==="true"):a==="nil"?(u=je,a=null):u=se,{type:u,value:a,line:h,lineStart:_,range:[p,b]}}function o(a){return b+=a.length,{type:Ne,value:a,line:h,lineStart:_,range:[p,b]}}function g(){return b+=3,{type:Qe,value:"...",line:h,lineStart:_,range:[p,b]}}function w(){for(var a=k.charCodeAt(b++),u=h,S=_,B=b,W=ye.discardStrings?null:"",Te;Te=k.charCodeAt(b++),a!==Te;)if((b>Se||Ge(Te))&&(W+=k.slice(B,b-1),re(null,Q.unfinishedString,k.slice(p,b-1))),Te===92){if(!ye.discardStrings){var ke=k.slice(B,b-1);W+=ye.fixup(ke)}var Me=Ee();ye.discardStrings||(W+=Me),B=b}return ye.discardStrings||(W+=ye.encodeByte(null),W+=ye.fixup(k.slice(B,b-1))),{type:ze,value:W,line:u,lineStart:S,lastLine:h,lastLineStart:_,range:[p,b]}}function n(){var a=h,u=_,S=de(!1);return S===!1&&re(K,Q.expected,"[",A(K)),{type:ze,value:ye.discardStrings?null:ye.fixup(S),line:a,lineStart:u,lastLine:h,lastLineStart:_,range:[p,b]}}function i(){var a=k.charAt(b),u=k.charAt(b+1),S=a==="0"&&"xX".indexOf(u||null)>=0?F():$(),B=s(),W=d();return W&&(B||S.hasFractionPart)&&re(null,Q.malformedNumber,k.slice(p,b)),{type:Ke,value:S.value,line:h,lineStart:_,range:[p,b]}}function s(){if(fe.imaginaryNumbers)return"iI".indexOf(k.charAt(b)||null)>=0?(++b,!0):!1}function d(){if(fe.integerSuffixes){if("uU".indexOf(k.charAt(b)||null)>=0)if(++b,"lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"ULL";re(null,Q.malformedNumber,k.slice(p,b))}else re(null,Q.malformedNumber,k.slice(p,b));else if("lL".indexOf(k.charAt(b)||null)>=0){if(++b,"lL".indexOf(k.charAt(b)||null)>=0)return++b,"LL";re(null,Q.malformedNumber,k.slice(p,b))}}}function F(){var a=0,u=1,S=1,B,W,Te,ke;for(ke=b+=2,xe(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(p,b));xe(k.charCodeAt(b));)++b;B=parseInt(k.slice(ke,b),16);var Me=!1;if(k.charAt(b)==="."){for(Me=!0,W=++b;xe(k.charCodeAt(b));)++b;a=k.slice(W,b),a=W===b?0:parseInt(a,16)/Math.pow(16,b-W)}var bt=!1;if("pP".indexOf(k.charAt(b)||null)>=0){for(bt=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&(S=k.charAt(b++)==="+"?1:-1),Te=b,X(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(p,b));X(k.charCodeAt(b));)++b;u=k.slice(Te,b),u=Math.pow(2,u*S)}return{value:(B+a)*u,hasFractionPart:Me||bt}}function $(){for(;X(k.charCodeAt(b));)++b;var a=!1;if(k.charAt(b)===".")for(a=!0,++b;X(k.charCodeAt(b));)++b;var u=!1;if("eE".indexOf(k.charAt(b)||null)>=0)for(u=!0,++b,"+-".indexOf(k.charAt(b)||null)>=0&&++b,X(k.charCodeAt(b))||re(null,Q.malformedNumber,k.slice(p,b));X(k.charCodeAt(b));)++b;return{value:parseFloat(k.slice(p,b)),hasFractionPart:a||u}}function te(){var a=b++;for(k.charAt(b++)!=="{"&&re(null,Q.braceExpected,"{","\\"+k.slice(a,b)),xe(k.charCodeAt(b))||re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(a,b));k.charCodeAt(b)===48;)++b;for(var u=b;xe(k.charCodeAt(b));)++b,b-u>6&&re(null,Q.tooLargeCodepoint,"\\"+k.slice(a,b));var S=k.charAt(b++);S!=="}"&&(S==='"'||S==="'"?re(null,Q.braceExpected,"}","\\"+k.slice(a,b--)):re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(a,b)));var B=parseInt(k.slice(u,b-1)||"0",16),W="\\"+k.slice(a,b);return B>1114111&&re(null,Q.tooLargeCodepoint,W),ye.encodeUTF8(B,W)}function Ee(){var a=b;switch(k.charAt(b)){case"a":return++b,"\x07";case"n":return++b,`
`;case"r":return++b,"\r";case"t":return++b,"	";case"v":return++b,"\v";case"b":return++b,"\b";case"f":return++b,"\f";case"\r":case`
`:return l(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;X(k.charCodeAt(b))&&b-a<3;)++b;var u=k.slice(a,b),S=parseInt(u,10);return S>255&&re(null,Q.decimalEscapeTooLarge,"\\"+S),ye.encodeByte(S,"\\"+u);case"z":if(fe.skipWhitespaceEscape)return++b,V(),"";break;case"x":if(fe.hexEscapes){if(xe(k.charCodeAt(b+1))&&xe(k.charCodeAt(b+2)))return b+=3,ye.encodeByte(parseInt(k.slice(a+1,b),16),"\\"+k.slice(a,b));re(null,Q.hexadecimalDigitExpected,"\\"+k.slice(a,b+2))}break;case"u":if(fe.unicodeEscapes)return te();break;case"\\":case'"':case"'":return k.charAt(b++)}return fe.strictEscapes&&re(null,Q.invalidEscape,"\\"+k.slice(a,b+1)),k.charAt(b++)}function Le(){p=b,b+=2;var a=k.charAt(b),u="",S=!1,B=b,W=_,Te=h;if(a==="["&&(u=de(!0),u===!1?u=a:S=!0),!S){for(;b<Se&&!Ge(k.charCodeAt(b));)++b;N.comments&&(u=k.slice(B,b))}if(N.comments){var ke=ue.comment(u,k.slice(p,b));N.locations&&(ke.loc={start:{line:Te,column:p-W},end:{line:h,column:b-_}}),N.ranges&&(ke.range=[p,b]),N.onCreateNode&&N.onCreateNode(ke),C.push(ke)}}function de(a){var u=0,S="",B=!1,W,Te,ke=h;for(++b;k.charAt(b+u)==="=";)++u;if(k.charAt(b+u)!=="[")return!1;for(b+=u+1,Ge(k.charCodeAt(b))&&l(),Te=b;b<Se;){for(;Ge(k.charCodeAt(b));)l();if(W=k.charAt(b++),W==="]"){B=!0;for(var Me=0;Me<u;++Me)k.charAt(b+Me)!=="="&&(B=!1);k.charAt(b+u)!=="]"&&(B=!1)}if(B)return S+=k.slice(Te,b-1),b+=u+1,S}re(null,a?Q.unfinishedLongComment:Q.unfinishedLongString,ke,"<eof>")}function q(){ae=K,K=x,x=L()}function Y(a){return a===K.value?(q(),!0):!1}function ve(a){a===K.value?q():re(K,Q.expected,a,A(K))}function Oe(a){return a===9||a===32||a===11||a===12}function Ge(a){return a===10||a===13}function X(a){return a>=48&&a<=57}function xe(a){return a>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70}function _t(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||fe.extendedIdentifiers&&a>=128)}function gt(a){return!!(a>=65&&a<=90||a>=97&&a<=122||a===95||a>=48&&a<=57||fe.extendedIdentifiers&&a>=128)}function pt(a){switch(a.length){case 2:return a==="do"||a==="if"||a==="in"||a==="or";case 3:return a==="and"||a==="end"||a==="for"||a==="not";case 4:return a==="else"||a==="then"?!0:fe.labels&&!fe.contextualGoto?a==="goto":!1;case 5:return a==="break"||a==="local"||a==="until"||a==="while";case 6:return a==="elseif"||a==="repeat"||a==="return";case 8:return a==="function"}return!1}function ht(a){return Ne===a.type?"#-~".indexOf(a.value)>=0:De===a.type?a.value==="not":!1}function et(a){if(M===a.type)return!0;if(De!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var qe,Je,e;function c(){var a=qe[Je++].slice();qe.push(a),N.onCreateScope&&N.onCreateScope()}function I(){qe.pop(),--Je,N.onDestroyScope&&N.onDestroyScope()}function G(a){N.onLocalDeclaration&&N.onLocalDeclaration(a),at(qe[Je],a)===-1&&qe[Je].push(a)}function E(a){G(a.name),z(a,!0)}function z(a,u){!u&&mt(e,"name",a.name)===-1&&e.push(a),a.isLocal=u}function J(a){return at(qe[Je],a)!==-1}var D=[],O;function Z(){return new me(K)}function me(a){N.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),N.ranges&&(this.range=[a.range[0],0])}me.prototype.complete=function(){N.locations&&(this.loc.end.line=ae.lastLine||ae.line,this.loc.end.column=ae.range[1]-(ae.lastLineStart||ae.lineStart)),N.ranges&&(this.range[1]=ae.range[1])},me.prototype.bless=function(a){if(this.loc){var u=this.loc;a.loc={start:{line:u.start.line,column:u.start.column},end:{line:u.end.line,column:u.end.column}}}this.range&&(a.range=[this.range[0],this.range[1]])};function pe(){O&&D.push(Z())}function he(a){O&&D.push(a)}function Ie(){this.scopes=[],this.pendingGotos=[]}Ie.prototype.isInLoop=function(){for(var a=this.scopes.length;a-- >0;)if(this.scopes[a].isLoop)return!0;return!1},Ie.prototype.pushScope=function(a){var u={labels:{},locals:[],deferredGotos:[],isLoop:!!a};this.scopes.push(u)},Ie.prototype.popScope=function(){for(var a=0;a<this.pendingGotos.length;++a){var u=this.pendingGotos[a];u.maxDepth>=this.scopes.length&&--u.maxDepth<=0&&re(u.token,Q.labelNotVisible,u.target)}this.scopes.pop()},Ie.prototype.addGoto=function(a,u){for(var S=[],B=0;B<this.scopes.length;++B){var W=this.scopes[B];if(S.push(W.locals.length),Object.prototype.hasOwnProperty.call(W.labels,a))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:a,token:u,localCounts:S})},Ie.prototype.addLabel=function(a,u){var S=this.currentScope();if(Object.prototype.hasOwnProperty.call(S.labels,a))re(u,Q.labelAlreadyDefined,a,S.labels[a].line);else{for(var B=[],W=0;W<this.pendingGotos.length;++W){var Te=this.pendingGotos[W];if(Te.maxDepth>=this.scopes.length&&Te.target===a){Te.localCounts[this.scopes.length-1]<S.locals.length&&S.deferredGotos.push(Te);continue}B.push(Te)}this.pendingGotos=B}S.labels[a]={localCount:S.locals.length,line:u.line}},Ie.prototype.addLocal=function(a,u){this.currentScope().locals.push({name:a,token:u})},Ie.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},Ie.prototype.raiseDeferredErrors=function(){for(var a=this.currentScope(),u=a.deferredGotos,S=0;S<u.length;++S){var B=u[S];re(B.token,Q.gotoJumpInLocalScope,B.target,a.locals[B.localCounts[this.scopes.length-1]].name)}};function ce(){this.level=0,this.loopLevels=[]}ce.prototype.isInLoop=function(){return!!this.loopLevels.length},ce.prototype.pushScope=function(a){++this.level,a&&this.loopLevels.push(this.level)},ce.prototype.popScope=function(){var a=this.loopLevels,u=a.length;u&&a[u-1]===this.level&&a.pop(),--this.level},ce.prototype.addGoto=ce.prototype.addLabel=function(){throw new Error("This should never happen")},ce.prototype.addLocal=ce.prototype.raiseDeferredErrors=function(){};function Ue(){return fe.labels?new Ie:new ce}function rt(){q(),pe(),N.scope&&c();var a=Ue();a.allowVararg=!0,a.pushScope();var u=Ce(a);return a.popScope(),N.scope&&I(),M!==K.type&&$e(K),O&&!u.length&&(ae=K),le(ue.chunk(u))}function Ce(a){for(var u=[],S;!et(K);){if(K.value==="return"||!fe.relaxedBreak&&K.value==="break"){u.push(At(a));break}S=At(a),Y(";"),S&&u.push(S)}return u}function At(a){if(pe(),Ne===K.type&&Y("::"))return $t(a);if(fe.emptyStatement&&Y(";")){O&&D.pop();return}if(a.raiseDeferredErrors(),De===K.type)switch(K.value){case"local":return q(),Jt(a);case"if":return q(),jt(a);case"return":return q(),Kt(a);case"function":q();var u=Zt();return St(u);case"while":return q(),Wt(a);case"for":return q(),Ht(a);case"repeat":return q(),qt(a);case"break":return q(),a.isInLoop()||re(K,Q.noLoopToBreak,K.value),Ot();case"do":return q(),xt(a);case"goto":return q(),Bt(a)}return fe.contextualGoto&&K.type===se&&K.value==="goto"&&x.type===se&&x.value!=="goto"?(q(),Bt(a)):(O&&D.pop(),Xt(a))}function $t(a){var u=K,S=Pe();return N.scope&&(G("::"+u.value+"::"),z(S,!0)),ve("::"),a.addLabel(u.value,u),le(ue.labelStatement(S))}function Ot(){return le(ue.breakStatement())}function Bt(a){var u=K.value,S=ae,B=Pe();return a.addGoto(u,S),le(ue.gotoStatement(B))}function xt(a){N.scope&&c(),a.pushScope();var u=Ce(a);return a.popScope(),N.scope&&I(),ve("end"),le(ue.doStatement(u))}function Wt(a){var u=Fe(a);ve("do"),N.scope&&c(),a.pushScope(!0);var S=Ce(a);return a.popScope(),N.scope&&I(),ve("end"),le(ue.whileStatement(u,S))}function qt(a){N.scope&&c(),a.pushScope(!0);var u=Ce(a);ve("until"),a.raiseDeferredErrors();var S=Fe(a);return a.popScope(),N.scope&&I(),le(ue.repeatStatement(S,u))}function Kt(a){var u=[];if(K.value!=="end"){var S=kt(a);for(S!=null&&u.push(S);Y(",");)S=Fe(a),u.push(S);Y(";")}return le(ue.returnStatement(u))}function jt(a){var u=[],S,B,W;for(O&&(W=D[D.length-1],D.push(W)),S=Fe(a),ve("then"),N.scope&&c(),a.pushScope(),B=Ce(a),a.popScope(),N.scope&&I(),u.push(le(ue.ifClause(S,B))),O&&(W=Z());Y("elseif");)he(W),S=Fe(a),ve("then"),N.scope&&c(),a.pushScope(),B=Ce(a),a.popScope(),N.scope&&I(),u.push(le(ue.elseifClause(S,B))),O&&(W=Z());return Y("else")&&(O&&(W=new me(ae),D.push(W)),N.scope&&c(),a.pushScope(),B=Ce(a),a.popScope(),N.scope&&I(),u.push(le(ue.elseClause(B)))),ve("end"),le(ue.ifStatement(u))}function Ht(a){var u=Pe(),S;if(N.scope&&(c(),E(u)),Y("=")){var B=Fe(a);ve(",");var W=Fe(a),Te=Y(",")?Fe(a):null;return ve("do"),a.pushScope(!0),S=Ce(a),a.popScope(),ve("end"),N.scope&&I(),le(ue.forNumericStatement(u,B,W,Te,S))}else{for(var ke=[u];Y(",");)u=Pe(),N.scope&&E(u),ke.push(u);ve("in");var Me=[];do{var bt=Fe(a);Me.push(bt)}while(Y(","));return ve("do"),a.pushScope(!0),S=Ce(a),a.popScope(),ve("end"),N.scope&&I(),le(ue.forGenericStatement(ke,Me,S))}}function Jt(a){var u,S=ae;if(se===K.type){var B=[],W=[];do u=Pe(),B.push(u),a.addLocal(u.name,S);while(Y(","));if(Y("="))do{var Te=Fe(a);W.push(Te)}while(Y(","));if(N.scope)for(var ke=0,Me=B.length;ke<Me;++ke)E(B[ke]);return le(ue.localStatement(B,W))}if(Y("function"))return u=Pe(),a.addLocal(u.name,S),N.scope&&(E(u),c()),St(u,!0);we("<name>",K)}function Xt(a){var u,S,B,W,Te,ke=[];O&&(S=Z());do{if(O&&(u=Z()),se===K.type)Te=K.value,W=Pe(),N.scope&&z(W,J(Te)),B=!0;else if(K.value==="(")q(),W=Fe(a),ve(")"),B=!1;else return $e(K);e:for(;;){switch(ze===K.type?'"':K.value){case".":case"[":B=!0;break;case":":case"(":case"{":case'"':B=null;break;default:break e}W=It(W,u,a)}if(ke.push(W),K.value!==",")break;if(!B)return $e(K);q()}while(!0);if(ke.length===1&&B===null)return he(u),le(ue.callStatement(ke[0]));if(!B)return $e(K);ve("=");var Me=[];do Me.push(Fe(a));while(Y(","));return he(S),le(ue.assignmentStatement(ke,Me))}function Pe(){pe();var a=K.value;return se!==K.type&&we("<name>",K),q(),le(ue.identifier(a))}function St(a,u){var S=Ue();S.pushScope();var B=[];if(ve("("),!Y(")"))for(;;){if(se===K.type){var W=Pe();if(N.scope&&E(W),B.push(W),Y(","))continue}else Qe===K.type?(S.allowVararg=!0,B.push(wt(S))):we("<name> or '...'",K);ve(")");break}var Te=Ce(S);return S.popScope(),ve("end"),N.scope&&I(),u=u||!1,le(ue.functionStatement(a,B,u,Te))}function Zt(){var a,u,S;for(O&&(S=Z()),a=Pe(),N.scope&&(z(a,J(a.name)),c());Y(".");)he(S),u=Pe(),a=le(ue.memberExpression(a,".",u));return Y(":")&&(he(S),u=Pe(),a=le(ue.memberExpression(a,":",u)),N.scope&&G("self")),a}function Gt(a){for(var u=[],S,B;;){if(pe(),Ne===K.type&&Y("["))S=Fe(a),ve("]"),ve("="),B=Fe(a),u.push(le(ue.tableKey(S,B)));else if(se===K.type)x.value==="="?(S=Pe(),q(),B=Fe(a),u.push(le(ue.tableKeyString(S,B)))):(B=Fe(a),u.push(le(ue.tableValue(B))));else{if((B=kt(a))==null){D.pop();break}u.push(le(ue.tableValue(B)))}if(",;".indexOf(K.value)>=0){q();continue}break}return ve("}"),le(ue.tableConstructorExpression(u))}function kt(a){var u=Lt(0,a);return u}function Fe(a){var u=kt(a);if(u==null)we("<expression>",K);else return u}function Qt(a){var u=a.charCodeAt(0),S=a.length;if(S===1)switch(u){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(S===2)switch(u){case 47:return 10;case 46:return 8;case 60:case 62:return a==="<<"||a===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(u===97&&a==="and")return 2;return 0}function Lt(a,u){var S=K.value,B,W;if(O&&(W=Z()),ht(K)){pe(),q();var Te=Lt(10,u);Te==null&&we("<expression>",K),B=le(ue.unaryExpression(S,Te))}if(B==null&&(B=wt(u),B==null&&(B=Yt(u))),B==null)return null;for(var ke;S=K.value,ke=Ne===K.type||De===K.type?Qt(S):0,!(ke===0||ke<=a);){(S==="^"||S==="..")&&--ke,q();var Me=Lt(ke,u);Me==null&&we("<expression>",K),O&&D.push(W),B=le(ue.binaryExpression(S,B,Me))}return B}function It(a,u,S){var B,W;if(Ne===K.type)switch(K.value){case"[":return he(u),q(),B=Fe(S),ve("]"),le(ue.indexExpression(a,B));case".":return he(u),q(),W=Pe(),le(ue.memberExpression(a,".",W));case":":return he(u),q(),W=Pe(),a=le(ue.memberExpression(a,":",W)),he(u),Ct(a,S);case"(":case"{":return he(u),Ct(a,S)}else if(ze===K.type)return he(u),Ct(a,S);return null}function Yt(a){var u,S,B;if(O&&(B=Z()),se===K.type)S=K.value,u=Pe(),N.scope&&z(u,J(S));else if(Y("("))u=Fe(a),ve(")");else return null;for(;;){var W=It(u,B,a);if(W===null)break;u=W}return u}function Ct(a,u){if(Ne===K.type)switch(K.value){case"(":fe.emptyStatement||K.line!==ae.line&&re(null,Q.ambiguousSyntax,K.value),q();var S=[],B=kt(u);for(B!=null&&S.push(B);Y(",");)B=Fe(u),S.push(B);return ve(")"),le(ue.callExpression(a,S));case"{":pe(),q();var W=Gt(u);return le(ue.tableCallExpression(a,W))}else if(ze===K.type)return le(ue.stringCallExpression(a,wt(u)));we("function arguments",K)}function wt(a){var u=ze|Ke|_e|je|Qe,S=K.value,B=K.type,W;if(O&&(W=Z()),B===Qe&&!a.allowVararg&&re(K,Q.cannotUseVararg,K.value),B&u){he(W);var Te=k.slice(K.range[0],K.range[1]);return q(),le(ue.literal(B,S,Te))}else{if(De===B&&S==="function")return he(W),q(),N.scope&&c(),St(null);if(Y("{"))return he(W),Gt(a)}}ge.parse=en;var Ut={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function en(a,u){if(typeof u>"u"&&typeof a=="object"&&(u=a,a=void 0),u||(u={}),k=a||"",N=it({},ee,u),b=0,h=1,_=0,Se=k.length,qe=[[]],Je=0,e=[],D=[],!Object.prototype.hasOwnProperty.call(Ut,N.luaVersion))throw new Error(ot("Lua version '%1' not supported",N.luaVersion));if(fe=it({},Ut[N.luaVersion]),N.extendedIdentifiers!==void 0&&(fe.extendedIdentifiers=!!N.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(We,N.encodingMode))throw new Error(ot("Encoding mode '%1' not supported",N.encodingMode));return ye=We[N.encodingMode],N.comments&&(C=[]),N.wait?ge:zt()}ge.write=Pt;function Pt(a){return k+=String(a),Se=k.length,ge}ge.end=zt;function zt(a){typeof a<"u"&&Pt(a),k&&k.substr(0,2)==="#!"&&(k=k.replace(/^.*/,function(S){return S.replace(/./g," ")})),Se=k.length,O=N.locations||N.ranges,x=L();var u=rt();if(N.comments&&(u.comments=C),N.scope&&(u.globals=e),D.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return u}})})(Vt,Vt.exports);var dn=Vt.exports;const ut=tn(dn);var vt={},Mt={exports:{}};Mt.exports;(function(lt){function T(x){for(var C=0,p=x.length;p--;)C+=x.charCodeAt(p),C+=C<<10,C^=C>>6;return C+=C<<3,C^=C>>11,C+=C<<15,C}const ge=console.log,k=function(x,C){if(!x)throw C};function N(x,C){if(!x)return 0;var p=x.toString().split(".");return p.length>1?parseInt(p[0],C)+parseInt(p[1],C)/Math.pow(C,p[1].length):parseInt(p[0],C)}let Se=[" ",`
`,"	","\r"],fe={r:"\r",n:`
`,t:"	",'"':'"',"'":"'","\\":"\\"};const ye=new Proxy(fe,{get(x,C){return N(C)}});let ee=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Be=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a","b","c","d","e","f","g","t","u","v","w","h","i","j","k","l","m","n","o","p","q","r","s","x","y","z"],Ze=["0","1","2","3","4","5","6","7","8","9"],ft=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"],We=["0","1"],M=["+","-","*",")",";","/","^","%","#",",","{","}",":","[","]","(",".","`"],ze=["~","=",">","<"],De=["+","-","*","/","^","..","%","//"],se=["+=","-=","*=","/=","^=","..=","%=","//="],Ke=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","continue"],Ne=["else","elseif","until","end"],_e=["-","not","#","~"],je=["+","-","*","/","%","^","#","//","&","|","~","<<",">>","..",".",":",">","<","<=",">=","~=","==","+=","-=","*=","/=","%=","^=","..=","//=","and","or"],Qe=11,Q={"^":[13,12],"%":[10,10],"//":[10,10],"/":[10,10],"*":[10,10],"+":[9,9],"-":[9,9],"..":[8,7],">>":[7,7],"<<":[7,7],"&":[6,6],"~":[5,5],"|":[4,4],"==":[3,3],"~=":[3,3],">=":[3,3],"<=":[3,3],">":[3,3],"<":[3,3],"+=":[3,3],"-=":[3,3],"*=":[3,3],"/=":[3,3],"^=":[3,3],"%=":[3,3],"..=":[3,3],"//=":[3,3],and:[2,2],or:[1,1]};function ue(x){let C=0,p=x.length,h=[];function _(n){return n=n||0,C<=p?x.substr(C+n,1):""}function L(){if(C<=p){let n=x.substr(C,1);return C++,n}else return""}function l(n){let i=0,s=1,d=1;for(;i<=C;)x.substr(i,1)==`
`?(s++,d=1):d++;let F;for(F=0;F<h.length;F++){let $=h[F];ge(`${$.Type}<${$.Source}>`)}throw`file<${s}:${d}>: ${n}`}function V(n){for(;;){let i=L();if(i=="")l("Unfinished long string.");else if(i=="]"){let s=!0,d;for(d=1;d<=n;d++)if(_()=="=")C++;else{s=!1;break}if(s&&L()=="]")return}}}function r(){let n=C;for(;_()=="=";)C++;if(_()=="[")return C++,C-n-1;C=n}let o=0,g=0;function w(n){let i=x.substr(g,C-g),s=null;n=="Number"&&(i.substr(0,2).toLowerCase()=="0x"?(s="hex",parseInt(i,16)<999999999999&&(i=parseInt(i,16))):i.substr(0,2).toLowerCase()=="0b"&&(s="bin",parseInt(i.substr(2),2)<999999999999&&(i=parseInt(i.substr(2),2))));let d={Type:n,LeadingWhite:x.substr(o,g-o),Source:i};return s!==null&&(d.NType=s),h.push(d),o=C,g=C,d}for(;;){for(o=C;;){let i=_();if(i=="")break;if(i=="-")if(_(1)=="-")if(C+=2,_()=="["){C++;let s=r();if(s!=null)V(s),o=C;else for(;;){let d=L();if(d==""||d==`
`)break}}else for(;;){let s=L();if(s==""||s==`
`)break}else break;else if(Se.includes(i))C++;else break}x.substr(o,C-o),g=C;let n=L();if(n==""){w("Eof");break}else if(n=="'"||n=='"'){for(;;){let i=L();if(i=="\\"){let s=L();if(ye[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==n)break;if(i=="")throw"Unfinished string!"}}w("String")}else if(n=="`"){for(;;){let i=L();if(i=="\\"){let s=L();if(ye[s]==null)throw`Invalid Escape Sequence \`${s}\`.`}else{if(i==n)break;if(i=="")throw"Unfinished string!"}}w("Hash")}else if(ee.includes(n)){for(;Be.includes(_());)C++;Ke.includes(x.substr(g,C-g))?w("Keyword"):w("Ident")}else if(Ze.includes(n)||n=="."&&Ze.includes(_())){if(n=="0"&&_().toLowerCase()=="x")for(C++;ft.includes(_())||_()==="_";)C++;else if(n=="0"&&_().toLowerCase()=="b")for(C++;We.includes(_())||_()==="_";)C++;else{for(;Ze.includes(_())||_()==="_";)C++;if(_()==".")for(C++;Ze.includes(_());)C++;if(_()=="e"||_()=="E")for(C++,(_()=="-"||_()=="+")&&C++;Ze.includes(_());)C++}w("Number")}else if(n=="["){let i=r();i!=null?(V(i),w("String")):w("Symbol")}else if(n==".")_()=="."&&(L(),(_()=="."||_()=="=")&&L()),w("Symbol");else if(n+_()=="//")L(),_()=="="&&L(),w("Symbol");else if(n+_()=="::")L(),w("Symbol");else if(je.includes(n+_()))L(),w("Symbol");else if(ze.includes(n))_()=="="&&C++,w("Symbol");else if(De.includes(n)&&_()=="=")L(),w("Symbol");else if(M.includes(n))w("Symbol");else throw`Bad symbol \`${n}\` in source. ${C}`}return h}function le(x){let C=ue(x),p=0;function h(){let c=C[p];return p<C.length&&p++,c}function _(c){return c=p+(c||0),C[c]||C[C.length-1]}function L(c){let I=1,G=0,E=0;for(;;){let z=C[E],J;z==c?J=z.LeadingWhite:J=z.LeadingWhite+z.Source;let D;for(D=0;D<=J.length;D++)J.substr(D,1)==`
`?(I++,G=0):G++;if(z==c)break;E++}return`${I}:${G+1}`}function l(){let c=_();return`<${c.Type} \`${c.Source}\`> at: ${L(c)}`}function V(){let c=_();return c.Type=="Eof"||c.Type=="Keyword"&&Ne.includes(c.Source)}function r(){return _e.includes(_().Source)||!1}function o(){return je.includes(_().Source)||!1}function g(c,I){let G=_();if(G.Type==c&&(I==null||G.Source==I))return h();{let E;for(E=-3;E<=3;E++)ge(`Tokens[${E}] = \`${_(E).Source}\``);throw I?`${L(G)}: \`${I}\` expected.`:`${L(G)}: ${c} expected.`}}function w(c){let I=c.GetFirstToken,G=c.GetLastToken,E=c;return c.GetFirstToken=function(){let z=I(E);return k(z),z},c.GetLastToken=function(){let z=G(E);return k(z),z},c}let n,i;function s(c,I){let G=[i(c,I)],E=[];for(;_().Source==",";)E.push(h()),G.push(i(c,I));return[G,E]}function d(c,I){var E,z,J,D;let G=_();if(G.Source=="("){let O=h(),Z=i(c,I),me=g("Symbol",")"),pe;return pe=w({Type:"ParenExpr",Expression:Z,Token_OpenParen:O,Token_CloseParen:me,GetFirstToken:()=>pe.Token_OpenParen,GetLastToken:()=>pe.Token_CloseParen}),pe}else if(G.Type=="Ident"){let O;return O=w({Type:"VariableExpr",Token:h(),GetFirstToken:()=>O.Token,GetLastToken:()=>O.Token}),c[O.Token.Source]!=null&&((z=(E=c[O.Token.Source])==null?void 0:E.Tokens)==null?void 0:z.push)!=null?(c[O.Token.Source].Tokens.push(O.Token),c[O.Token.Source].UseCountIncrease()):I[O.Token.Source]!=null&&((D=(J=I[O.Token.Source])==null?void 0:J.Tokens)==null?void 0:D.push)!=null&&(I[O.Token.Source].Tokens.push(O.Token),I[O.Token.Source].UseCountIncrease()),O}else throw ge(l()),`${L(G)}: Unexpected symbol. ${G.Type} ${G.Source}`}function F(c,I){let G=g("Symbol","{"),E=[],z=[];for(;_().Source!="}";){if(_().Source=="["){let O=h(),Z=i(c,I),me=g("Symbol","]"),pe=g("Symbol","="),he=i(c,I);Z.Token&&Z.Token.Source,E.push({EntryType:"Index",Index:Z,Value:he,Token_OpenBracket:O,Token_CloseBracket:me,Token_Equals:pe})}else if(_().Type=="Ident"&&_(1).Source=="="){let O=h(),Z=h(),me=i(c,I);E.push({EntryType:"Field",Field:O,Value:me,Token_Equals:Z})}else{let O=i(c,I);E.push({EntryType:"Value",Value:O})}if(_().Source==","||_().Source==";")z.push(h());else break}let J=g("Symbol","}"),D;return D=w({Type:"TableLiteral",EntryList:E,Token_SeperatorList:z,Token_OpenBrace:G,Token_CloseBrace:J,GetFirstToken:()=>D.Token_OpenBrace,GetLastToken:()=>D.Token_CloseBrace}),D}function $(c,I){let G=[],E=[];if(_().Type=="Ident"){let z=h();if(I&&_().Source=="<"&&_(2).Source==">"){let J=_(1).Source;z.Attribute={LeadingWhite:_().LeadingWhite,Source:`<${J}>`},h(),h(),h()}G.push(z)}else if(_().Source=="..."&&c)return[G,E,h()];for(;_().Source==",";){if(E.push(h()),_().Source=="..."&&c)return[G,E,h()];{let z=g("Ident");if(I&&_().Source=="<"&&_(2).Source==">"){let J=_(1).Source;z.Attribute={LeadingWhite:_().LeadingWhite,Source:`<${J}>`},h(),h(),h()}G.push(z)}}return[G,E]}function te(c,I,G){let E=n(I,G),z=_();if(z.Type=="Keyword"&&z.Source==c)return h(),[E,z];throw ge(z.Type,z.Source),`${L(z)}: ${c} expected.`}function Ee(c,I,G,E){let z=h(),J,D;if(!c){J=[],D=[];let rt=g("Ident");for(J.push(rt);_().Source==".";)D.push(h()),J.push(g("Ident"));_().Source==":"&&(D.push(h()),J.push(g("Ident")))}let O=g("Symbol","("),[Z,me,pe]=$(!0),he=g("Symbol",")"),[Ie,ce]=te("end",I,G),Ue;return Ue=w({Type:c==!0?"FunctionLiteral":"FunctionStat",NameChain:J,ArgList:Z,Body:Ie,Token_Function:z,Token_NameChainSeperator:D,Token_OpenParen:O,Token_Varg:pe,Token_ArgCommaList:me,Token_CloseParen:he,Token_End:ce,GetFirstToken:()=>Ue.Token_Function,GetLastToken:()=>Ue.Token_End}),Ue}function Le(c,I){let G=_();if(G.Source=="("){let E=h(),z=[],J=[];for(;_().Source!=")"&&(z.push(i(c,I)),_().Source==",");)J.push(h());let D=g("Symbol",")"),O;return O=w({CallType:"ArgCall",ArgList:z,Token_CommaList:J,Token_OpenParen:E,Token_CloseParen:D,GetFirstToken:()=>O.Token_OpenParen,GetLastToken:()=>O.Token_CloseParen}),O}else if(G.Source=="{"){let E;return E=w({CallType:"TableCall",TableExpr:i(c,I),GetFirstToken:()=>E.TableExpr.GetFirstToken(),GetLastToken:()=>E.TableExpr.GetLastToken()}),E}else if(G.Type=="String"){let E;return E=w({CallType:"StringCall",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else throw"Function arguments expected."}function de(c,I){let G=d(c,I);for(k(G,"nil prefixexpr");;){let E=_();if(E.Source=="."){let z=h(),J=g("Ident"),D;D=w({Type:"FieldExpr",Base:G,Field:J,Token_Dot:z,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Field}),G=D}else if(E.Source==":"){let z=h(),J=g("Ident"),D=Le(c,I),O;O=w({Type:"MethodExpr",Base:G,Method:J,FunctionArguments:D,Token_Colon:z,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.FunctionArguments.GetLastToken()}),G=O}else if(E.Source=="["){let z=h(),J=i(c,I),D=g("Symbol","]"),O;O=w({Type:"IndexExpr",Base:G,Index:J,Token_OpenBracket:z,Token_CloseBracket:D,GetFirstToken:()=>O.Base.GetFirstToken(),GetLastToken:()=>O.Token_CloseBracket}),G=O}else if(E.Source=="{"||E.Source=="("||E.Type=="String"){let z;z=w({Type:"CallExpr",Base:G,FunctionArguments:Le(c,I),GetFirstToken:()=>z.Base.GetFirstToken(),GetLastToken:()=>z.FunctionArguments.GetLastToken()}),G=z}else if(se.includes(E.Source)){let z=h(),J=i(c,I),D;D=w({Type:"CompoundStat",Base:G,Token_Compound:z,Rhs:J,Lhs:G,GetFirstToken:()=>D.Base.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),G=D}else return G}}function q(c,I){let G=_();if(G.Type=="Number"){let E;return E=w({Type:"NumberLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(G.Type=="String"){let E;return E=w({Type:"StringLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(G.Type=="Hash"){let E;return E=w({Type:"HashLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(G.Source=="nil"){let E;return E=w({Type:"NilLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(G.Source=="true"||G.Source=="false"){let E;return E=w({Type:"BooleanLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else if(G.Source=="..."){let E;return E=w({Type:"VargLiteral",Token:h(),GetFirstToken:()=>E.Token,GetLastToken:()=>E.Token}),E}else return G.Source=="{"?F(c,I):G.Source=="function"?Ee(!0,c,I):de(c,I)}function Y(c,I,G){let E;if(r()){let z=h(),J=Y(Qe,I,G),D;D=w({Type:"UnopExpr",Token_Op:z,Rhs:J,GetFirstToken:()=>D.Token_Op,GetLastToken:()=>D.Rhs.GetLastToken()}),E=D}else E=q(I,G),k(E,"nil sipleexpr");for(;o()&&Q[_().Source]!=null&&Q[_().Source][0]>c;){let z=h(),J=Y(Q[z.Source][1],I,G);k(J,"RhsNeeded");let D;D=w({Type:"BinopExpr",Lhs:E,Rhs:J,Token_Op:z,GetFirstToken:()=>D.Lhs.GetFirstToken(),GetLastToken:()=>D.Rhs.GetLastToken()}),E=D}return E}i=(c,I)=>Y(0,c,I);function ve(c,I){let G=de(c,I);if(G.Type=="MethodExpr"||G.Type=="CallExpr"){let E;return E=w({Type:"CallExprStat",Expression:G,GetFirstToken:()=>E.Expression.GetFirstToken(),GetLastToken:()=>E.Expression.GetLastToken()}),E}else{if(G.Type=="CompoundStat")return G;{let E=[G],z=[];for(;_().Source==",";){z.push(h());let me=de(c,I);if(me.Type=="MethodExpr"||me.Type=="CallExpr")throw"Bad left hand side of asignment";E.push(me)}let J=g("Symbol","="),D=[i(c,I)],O=[];for(;_().Source==",";)O.push(h()),D.push(i(c,I));let Z;return Z=w({Type:"AssignmentStat",Rhs:D,Lhs:E,Token_Equals:J,Token_LhsSeperatorList:z,Token_RhsSeperatorList:O,GetFirstToken:()=>Z.Lhs[0].GetFirstToken(),GetLastToken:()=>Z.Rhs[Z.Rhs.length-1].GetLastToken()}),Z}}}function Oe(c,I){let G=h(),E=i(c,I),z=g("Keyword","then"),J=n(c,I),D=[];for(;_().Source=="elseif"||_().Source=="else";){let me=h(),pe,he;me.Source=="elseif"&&(pe=i(c,I),he=g("Keyword","then"));let Ie=n(c,I);if(D.push({Condition:pe,Body:Ie,ClauseType:me.Source,Token:me,Token_Then:he}),me.Source=="else")break}let O=g("Keyword","end"),Z;return Z=w({Type:"IfStat",Condition:E,Body:J,ElseClauseList:D,Token_If:G,Token_Then:z,Token_End:O,GetFirstToken:()=>Z.Token_If,GetLastToken:()=>Z.Token_End}),Z}function Ge(c,I){let G=h(),[E,z]=te("end",c,I),J;return J=w({Type:"DoStat",Body:E,Token_Do:G,Token_End:z,GetFirstToken:()=>J.Token_Do,GetLastToken:()=>J.Token_End}),J}function X(c,I){let G=h(),E=i(c,I),z=g("Keyword","do"),[J,D]=te("end",c,I),O;return O=w({Type:"WhileStat",Condition:E,Body:J,Token_While:G,Token_Do:z,Token_End:D,GetFirstToken:()=>O.Token_While,GetLastToken:()=>O.Token_End}),O}function xe(c,I){let G=h(),[E,z]=$();if(_().Source=="="){let J=h(),[D,O]=s(c,I);if(D.length<2||D.length>3)throw"Expected 2 or 3 values for range bounds";let Z=g("Keyword","do"),[me,pe]=te("end",c,I),he;return he=w({Type:"NumericForStat",VarList:E,RangeList:D,Body:me,Token_For:G,Token_VarCommaList:z,Token_Equals:J,Token_RangeCommaList:O,Token_Do:Z,Token_End:pe,GetFirstToken:()=>he.Token_For,GetLastToken:()=>he.Token_End}),he}else if(_().Source=="in"){let J=h(),[D,O]=s(c,I),Z=g("Keyword","do"),[me,pe]=te("end",c,I),he;return he=w({Type:"GenericForStat",VarList:E,GeneratorList:D,Body:me,Token_For:G,Token_VarCommaList:z,Token_In:J,Token_GeneratorCommaList:O,Token_Do:Z,Token_End:pe,GetFirstToken:()=>he.Token_For,GetLastToken:()=>he.Token_End}),he}}function _t(c,I){let G=h(),[E,z]=te("until",c),J=i(c,I),D;return D=w({Type:"RepeatStat",Body:E,Condition:J,Token_Repeat:G,Token_Until:z,GetFirstToken:()=>D.Token_Repeat,GetLastToken:()=>D.Condition.GetLastToken()}),D}function gt(c,I){let G=h();if(_().Source=="function"){let E=Ee(!1,c,I);if(E.NameChain.length>1)throw L(E.Token_NameChainSeperator[0])+": `(` expected.";let z;return z=w({Type:"LocalFunctionStat",FunctionStat:E,Token_Local:G,GetFirstToken:()=>z.Token_Local,GetLastToken:()=>z.FunctionStat.GetLastToken()}),z}else if(_().Type=="Ident"){let[E,z]=$(!1,!0),J=[],D=[],O;if(_().Source=="="){O=h();let[me,pe]=s(c,I);J=me,D=pe}let Z;return Z=w({Type:"LocalVarStat",VarList:E,ExprList:J,Token_Local:G,Token_Equals:O,Token_VarCommaList:z,Token_ExprCommaList:D,GetFirstToken:()=>Z.Token_Local,GetLastToken:function(){return Z.ExprList.length>0?Z.ExprList[Z.ExprList.length-1].GetLastToken():Z.VarList[Z.VarList.length-1]}}),Z}else throw"`function` or ident expected"}function pt(c,I){let G=h(),E,z;V()||_().Source==";"?(E=[],z=[]):[E,z]=s(c,I);let J;return J={Type:"ReturnStat",ExprList:E,Token_Return:G,Token_CommaList:z,GetFirstToken:()=>J.Token_Return,GetLastToken:function(){return J.ExprList.length>0?J.ExprList[J.ExprList.length-1].GetLastToken():J.Token_Return}},J}function ht(c,I){let G=h(),E;return E={Type:"BreakStat",Token_Break:G,GetFirstToken:()=>E.Token_Break,GetLastToken:()=>E.Token_Break},E}function et(c,I){let G=h(),E;return E={Type:"ContinueStat",Token_Continue:G,GetFirstToken:()=>E.Token_Continue,GetLastToken:()=>E.Token_Continue},E}function qe(){let c=h(),I;_().Type=="Keyword"?I=g("Keyword"):I=g("Ident");let G;return G={Type:"GotoStat",Token_Goto:c,Token_Label:I,GetFirstToken:()=>G.Token_Goto,GetLastToken:()=>G.Token_Label},G}function Je(){let c=h(),I;_().Type=="Keyword"?I=g("Keyword"):I=g("Ident");let G=g("Symbol","::"),E;return E={Type:"LabelStat",Token_ColonsLeft:c,Token_Label:I,Token_ColonsRight:G,GetFirstToken:()=>E.Token_ColonsLeft,GetLastToken:()=>E.Token_ColonsRight},E}function e(c,I){let G=_();return G.Source=="if"?[!1,Oe(c,I)]:G.Source=="while"?[!1,X(c,I)]:G.Source=="do"?[!1,Ge(c,I)]:G.Source=="for"?[!1,xe(c,I)]:G.Source=="repeat"?[!1,_t(c,I)]:G.Source=="function"?[!1,Ee(!1,c,I)]:G.Source=="local"?[!1,gt(c,I)]:G.Source=="return"?[!0,pt(c,I)]:G.Source=="break"?[!0,ht()]:G.Source=="continue"?[!0,et()]:G.Source=="goto"?[!1,qe()]:G.Source=="::"?[!1,Je()]:[!1,ve(c,I)]}return n=function(c,I){let G=[],E=[],z={},J={};if(I!=null)for(let[me,pe]of Object.entries(I))J[me]=pe;if(c!=null)for(let[me,pe]of Object.entries(c))J[me]=pe;let D,O=0;for(;!V();){D&&D==_()&&ge(`INFINITE LOOP POSSIBLE ON STATEMENT ${D.Source} :`,D),D=_();let[me,pe]=e(z,J);if(pe)switch(G.push(pe),pe.Type){case"LocalVarStat":pe.VarList.forEach(ce=>{ce.UseCount=0,ce.Number=O++,z[ce.Source]=ce;let Ue=[];function rt(){ce.UseCount++,Ue.forEach(Ce=>{Ce.UseCount=ce.UseCount})}ce.Tokens={},ce.Tokens.push=Ce=>{Ce.UseCountIncrease=rt,Ce.UseCount=ce.UseCount,Ce.Tokens=ce.Tokens,Ue.push(Ce)},ce.Tokens.get=()=>Ue,ce.UseCountIncrease=rt});break;case"LocalFunctionStat":let Ie=pe.FunctionStat.NameChain;if(Ie.length===1){let rt=function(){ce.UseCount++,Ue.forEach(Ce=>{Ce.UseCount=ce.UseCount})},ce=Ie[0];ce.UseCount=0,ce.Number=O++,z[ce.Source]=ce;let Ue=[];ce.Tokens={},ce.Tokens.push=Ce=>{Ce.UseCountIncrease=rt,Ce.UseCount=ce.UseCount,Ce.Tokens=ce.Tokens,Ue.push(Ce)},ce.Tokens.get=()=>Ue,ce.UseCountIncrease=rt}break}let he=_();he.Type=="Symbol"&&he.Source==";"&&(E[G.length-1]=h())}let Z;return Z={Type:"StatList",StatementList:G,SemicolonList:E,GetFirstToken:function(){var me;if(Z.StatementList.length!=0)return(me=Z.StatementList[0])==null?void 0:me.GetFirstToken()},GetLastToken:function(){if(Z.StatementList.length!=0)return Z.SemicolonList[Z.StatementList.length-1]?Z.SemicolonList[Z.StatementList.length-1]:Z.StatementList[Z.StatementList.length-1].GetLastToken()}},Z},n([],[])}function He(x,C){let p={BinopExpr:!0,UnopExpr:!0,NumberLiteral:!0,StringLiteral:!0,NilLiteral:!0,BooleanLiteral:!0,VargLiteral:!0,HashLiteral:!0,FieldExpr:!0,IndexExpr:!0,MethodExpr:!0,CallExpr:!0,FunctionLiteral:!0,VariableExpr:!0,ParenExpr:!0,TableLiteral:!0},h={StatList:!0,BreakStat:!0,ContinueStat:!0,LabelStat:!0,GotoStat:!0,ReturnStat:!0,LocalVarStat:!0,LocalFunctionStat:!0,FunctionStat:!0,RepeatStat:!0,GenericForStat:!0,NumericForStat:!0,WhileStat:!0,DoStat:!0,IfStat:!0,CallExprStat:!0,AssignmentStat:!0,CompoundStat:!0};for(var[_,L]of Object.entries(C))if(!h[_]&&!p[_])throw`Invalid visitor target: \`${_}\``;function l(g){if(g!=null){let w=C[g.Type];if(typeof w=="function")return w(g);if(w&&w.Pre)return w.Pre(g)}}function V(g){let w=C[g.Type];if(w&&typeof w=="object"&&w.Post)return w.Post(g)}let r,o;r=function(g){if(!l(g)){if(g.Type=="BinopExpr")r(g.Lhs),r(g.Rhs);else if(g.Type=="UnopExpr")r(g.Rhs);else if(!(g.Type=="NumberLiteral"||g.Type=="StringLiteral"||g.Type=="NilLiteral"||g.Type=="BooleanLiteral"||g.Type=="VargLiteral"||g.Type=="HashLiteral")){if(g.Type=="FieldExpr")r(g.Base);else if(g.Type=="IndexExpr")r(g.Base),r(g.Index);else if(g.Type=="MethodExpr"||g.Type=="CallExpr")r(g.Base),g.FunctionArguments.CallType=="ArgCall"?g.FunctionArguments.ArgList.forEach((w,n)=>{r(w)}):g.FunctionArguments.CallType=="TableCall"&&r(g.FunctionArguments.TableExpr);else if(g.Type=="FunctionLiteral")o(g.Body);else if(g.Type!="VariableExpr")if(g.Type=="ParenExpr")r(g.Expression);else if(g.Type=="TableLiteral")g.EntryList.forEach((w,n)=>{if(w.EntryType=="Field")r(w.Value);else if(w.EntryType=="Index")r(w.Index),r(w.Value);else if(w.EntryType=="Value")r(w.Value);else throw"unreachable"});else if(g.Type=="CompoundStat")r(g.Lhs),r(g.Rhs);else throw`unreachable, type: ${g.Type}: ${g}`}V(g)}},o=function(g){if(!l(g)){if(g.Type=="StatList")g.StatementList.forEach((w,n)=>{if(w!=null){if(w===null||w.Type===null)return;w.Remove=()=>{g.StatementList[n]=null},o(w)}});else if(g.Type!="BreakStat"){if(g.Type!="ContinueStat"){if(g.Type!="GotoStat"){if(g.Type!="LabelStat")if(g.Type=="ReturnStat")g.ExprList.forEach((w,n)=>{r(w)});else if(g.Type=="LocalVarStat")g.Token_Equals&&g.ExprList.forEach((w,n)=>{r(w)});else if(g.Type=="LocalFunctionStat")o(g.FunctionStat.Body);else if(g.Type=="FunctionStat")o(g.Body);else if(g.Type=="RepeatStat")o(g.Body),r(g.Condition);else if(g.Type=="GenericForStat")g.GeneratorList.forEach((w,n)=>{r(w)}),o(g.Body);else if(g.Type=="NumericForStat")g.RangeList.forEach((w,n)=>{r(w)}),o(g.Body);else if(g.Type=="WhileStat")r(g.Condition),o(g.Body);else if(g.Type=="DoStat")o(g.Body);else if(g.Type=="IfStat")r(g.Condition),o(g.Body),g.ElseClauseList.forEach(w=>{w.Condition!=null&&r(w.Condition),o(w.Body)});else if(g.Type=="CallExprStat")r(g.Expression);else if(g.Type=="CompoundStat")r(g.Lhs),r(g.Rhs);else if(g.Type=="AssignmentStat")g.Lhs.forEach(w=>{r(w)}),g.Rhs.forEach(w=>{r(w)});else throw"unreachable"}}}V(g)}},h[x.Type]?o(x):r(x)}function at(x){let C=[],p,h=0;function _(){return h++,h}function L(){p={ParentScope:p,ChildScopeList:[],VariableList:[],BeginLocation:_(),Depth:null,GetVar:null},p.ParentScope?(p.Depth=p.ParentScope.Depth+1,p.ParentScope.ChildScopeList.push(p)):p.Depth=1;let i=p;p.GetVar=function(s){for(const d of i.VariableList)if(d.Name==s)return d;if(i.ParentScope)return i.ParentScope.GetVar(s);for(const d of C)if(d.Name==s)return d}}function l(){let i=p;return i.EndLocation=_(),i.VariableList.forEach(s=>{s.ScopeEndLocation=i.EndLocation}),p=i.ParentScope,i}L();function V(i,s,d){k(d,"MIssing localInfo"),k(i,"Missing local var name");let F={Type:"Local",Name:i,RenameList:[s],AssignedTo:!1,Info:d,Scope:p,BeginLocation:_(),EndLocation:_(),ReferenceLocationList:[_()]};return F.Rename=function($){F.Name=$,F.RenameList.forEach(te=>{te($)})},p.VariableList.push(F),F}function r(i){for(const d of C)if(d.Name==i)return d;let s={Type:"Global",Name:i,RenameList:[],AssignedTo:!1,Scope:null,BeginLocation:_(),EndLocation:_(),ReferenceLocationList:[]};return s.Rename=function(d){s.Name=d,s.RenameList.forEach(F=>{F(d)})},C.push(s),s}function o(i,s){k(i,"Missing var name");let d=r(i);return d.RenameList.push(s),d}function g(i,s){let d;for(d=i.VariableList.length-1;d>=0;d--)if(i.VariableList[d].Name==s)return i.VariableList[d];if(i.ParentScope){let F=g(i.ParentScope,s);if(F)return F}}function w(i,s){k(i,"Missing var name");let d=g(p,i);d?d.RenameList.push(s):d=o(i,s);let F=_();return d.EndLocation=F,d.ReferenceLocationList.push(d.EndLocation),d}let n={};return n.FunctionLiteral={Pre:function(i){L(),i.ArgList.forEach((s,d)=>{let F=V(s.Source,function($,te){te||(s.Source=$)},{Type:"Argument",Index:d});s.var=F})},Post:function(i){l()}},n.VariableExpr=function(i){i.Variable=w(i.Token.Source,function(s){i.Token.Source=s})},n.StatList={Pre:function(i){L()},Post:function(i){i.SkipPop||l()}},n.LocalVarStat={Post:function(i){i.VarList.forEach((s,d)=>{V(s.Source,function(F){i.VarList[d].Source=F},{Type:"Local"})})}},n.LocalFunctionStat={Pre:function(i){V(i.FunctionStat.NameChain[0].Source,function(s){i.FunctionStat.NameChain[0].Source=s},{Type:"LocalFunction"}),L(),i.FunctionStat.ArgList.forEach((s,d)=>{V(s.Source,function(F){s.Source=F},{Type:"Argument",Index:d})})},Post:function(){l()}},n.FunctionStat={Pre:function(i){let s=i.NameChain,d;s.length==1?g(p,s[0].Source)?d=w(s[0].Source,function(F){s[0].Source=F}):d=o(s[0].Source,function(F){s[0].Source=F}):d=w(s[0].Source,function(F){s[0].Source=F}),d.AssignedTo=!0,L(),i.ArgList.forEach((F,$)=>{V(F.Source,function(te){F.Source=te},{Type:"Argument",Index:$})})},Post:function(){l()}},n.GenericForStat={Pre:function(i){return i.GeneratorList.forEach(s=>{He(s,n)}),L(),i.VarList.forEach((s,d)=>{V(s.Source,function(F){s.Source=F},{Type:"ForRange",Index:d})}),He(i.Body,n),l(),!0}},n.NumericForStat={Pre:function(i){return i.RangeList.forEach(s=>{He(s,n)}),L(),i.VarList.forEach((s,d)=>{V(s.Source,function(F){s.Source=F},{Type:"ForRange",Index:d})}),He(i.Body,n),l(),!0}},n.RepeatStat={Pre:function(i){i.Body.SkipPop=!0},Post:function(i){l()}},n.AssignmentStat={Post:function(i){i.Lhs.forEach(s=>{s.Variable!=null&&(s.Variable.AssignedTo=!0)})}},He(x,n),[C,l()]}function mt(x){let C,p,h="",_=l=>typeof(l==null?void 0:l.LeadingWhite)!="string"?" ":l.LeadingWhite;function L(l){if(l.LeadingWhite==null||l.Source==null)throw`Bad token: tk=${l} | lwhite=${l.LeadingWhite} | source=${l.Source}`;h=`${h}${l.LeadingWhite}${l.Source}`}return p=function(l){if(l.Type=="BinopExpr")p(l.Lhs),L(l.Token_Op),p(l.Rhs);else if(l.Type=="UnopExpr")L(l.Token_Op),p(l.Rhs);else if(l.Type=="NumberLiteral"||l.Type=="StringLiteral"||l.Type=="NilLiteral"||l.Type=="BooleanLiteral"||l.Type=="VargLiteral"||l.Type=="HashLiteral")L(l.Token);else if(l.Type=="FieldExpr")p(l.Base),L(l.Token_Dot),L(l.Field);else if(l.Type=="IndexExpr")p(l.Base),L(l.Token_OpenBracket),p(l.Index),L(l.Token_CloseBracket);else if(l.Type=="MethodExpr"||l.Type=="CallExpr")p(l.Base),l.Type=="MethodExpr"&&(L(l.Token_Colon),L(l.Method)),l.FunctionArguments.CallType=="StringCall"?L(l.FunctionArguments.Token):l.FunctionArguments.CallType=="ArgCall"?(L(l.FunctionArguments.Token_OpenParen),l.FunctionArguments.ArgList.forEach((V,r)=>{p(V);let o=l.FunctionArguments.Token_CommaList[r];o!=null&&L(o)}),L(l.FunctionArguments.Token_CloseParen)):l.FunctionArguments.CallType=="TableCall"&&p(l.FunctionArguments.TableExpr);else if(l.Type=="FunctionLiteral")L(l.Token_Function),L(l.Token_OpenParen),l.ArgList.forEach((V,r)=>{L(V);let o=l.Token_ArgCommaList[r];o!=null&&L(o)}),l.Token_Varg!=null&&L(l.Token_Varg),L(l.Token_CloseParen),C(l.Body),L(l.Token_End);else if(l.Type=="VariableExpr")L(l.Token);else if(l.Type=="ParenExpr")L(l.Token_OpenParen),p(l.Expression),L(l.Token_CloseParen);else if(l.Type=="TableLiteral")L(l.Token_OpenBrace),l.EntryList.forEach((V,r)=>{if(V.EntryType=="Field")L(V.Field),L(V.Token_Equals),p(V.Value);else if(V.EntryType=="Index")L(V.Token_OpenBracket),p(V.Index),L(V.Token_CloseBracket),L(V.Token_Equals),p(V.Value);else if(V.EntryType=="Value")p(V.Value);else throw"unreachable";let o=l.Token_SeperatorList[r];o!=null&&L(o)}),L(l.Token_CloseBrace);else if(l.Type=="CompoundStat")C(l);else throw`unreachable, type: ${l.Type}: ${l}`},C=function(l){if(l==null)throw`STAT IS NIL! ${l}`;if(!(l.Type==="StatList"&&l.StatementList.length===0)){if(l.WrapInDo){let V=_(l.GetFirstToken());l.GetFirstToken().LeadingWhite="",h+=`${V}do `}l.Type=="StatList"?l.StatementList.forEach((V,r)=>{V===null||V.Type===null||(V.Remove=()=>{l.StatementList[r]=null},C(V),l.SemicolonList[r]&&L(l.SemicolonList[r]))}):l.Type=="BreakStat"?L(l.Token_Break):l.Type=="ContinueStat"?L(l.Token_Continue):l.Type=="GotoStat"?(L(l.Token_Goto),L(l.Token_Label)):l.Type=="LabelStat"?(L(l.Token_ColonsLeft),L(l.Token_Label),L(l.Token_ColonsRight)):l.Type=="ReturnStat"?(L(l.Token_Return),l.ExprList.forEach((V,r)=>{p(V),l.Token_CommaList[r]&&L(l.Token_CommaList[r])})):l.Type=="LocalVarStat"?(L(l.Token_Local),l.VarList.forEach((V,r)=>{L(V),V.Attribute!=null&&L(V.Attribute);let o=l.Token_VarCommaList[r];o!=null&&L(o)}),l.Token_Equals!=null&&(L(l.Token_Equals),l.ExprList.forEach((V,r)=>{p(V);let o=l.Token_ExprCommaList[r];o!=null&&L(o)}))):l.Type=="LocalFunctionStat"?(L(l.Token_Local),L(l.FunctionStat.Token_Function),L(l.FunctionStat.NameChain[0]),L(l.FunctionStat.Token_OpenParen),l.FunctionStat.ArgList.forEach((V,r)=>{L(V);let o=l.FunctionStat.Token_ArgCommaList[r];o!=null&&L(o)}),l.FunctionStat.Token_Varg&&L(l.FunctionStat.Token_Varg),L(l.FunctionStat.Token_CloseParen),C(l.FunctionStat.Body),L(l.FunctionStat.Token_End)):l.Type=="FunctionStat"?(L(l.Token_Function),l.NameChain.forEach((V,r)=>{L(V);let o=l.Token_NameChainSeperator[r];o!=null&&L(o)}),L(l.Token_OpenParen),l.ArgList.forEach((V,r)=>{L(V);let o=l.Token_ArgCommaList[r];o!=null&&L(o)}),l.Token_Varg&&L(l.Token_Varg),L(l.Token_CloseParen),C(l.Body),L(l.Token_End)):l.Type=="RepeatStat"?(L(l.Token_Repeat),C(l.Body),L(l.Token_Until),p(l.Condition)):l.Type=="GenericForStat"?(L(l.Token_For),l.VarList.forEach((V,r)=>{L(V);let o=l.Token_VarCommaList[r];o!=null&&L(o)}),L(l.Token_In),l.GeneratorList.forEach((V,r)=>{p(V);let o=l.Token_GeneratorCommaList[r];o!=null&&L(o)}),L(l.Token_Do),C(l.Body),L(l.Token_End)):l.Type=="NumericForStat"?(L(l.Token_For),l.VarList.forEach((V,r)=>{L(V);let o=l.Token_VarCommaList[r];o!=null&&L(o)}),L(l.Token_Equals),l.RangeList.forEach((V,r)=>{p(V);let o=l.Token_RangeCommaList[r];o!=null&&L(o)}),L(l.Token_Do),C(l.Body),L(l.Token_End)):l.Type=="WhileStat"?(L(l.Token_While),p(l.Condition),L(l.Token_Do),C(l.Body),L(l.Token_End)):l.Type=="DoStat"?(L(l.Token_Do),C(l.Body),L(l.Token_End)):l.Type=="IfStat"?(L(l.Token_If),p(l.Condition),L(l.Token_Then),C(l.Body),l.ElseClauseList.forEach(V=>{L(V.Token),V.Condition!=null&&(p(V.Condition),L(V.Token_Then)),C(V.Body)}),L(l.Token_End)):l.Type=="CallExprStat"?p(l.Expression):l.Type=="CompoundStat"?(p(l.Lhs),L(l.Token_Compound),p(l.Rhs),l.Type="CompoundStat"):l.Type=="AssignmentStat"?(l.Lhs.forEach((V,r)=>{p(V);let o=l.Token_LhsSeperatorList[r];o!=null&&L(o)}),L(l.Token_Equals),l.Rhs.forEach((V,r)=>{p(V);let o=l.Token_RhsSeperatorList[r];o!=null&&L(o)})):k(!1,"unreachable"),l.WrapInDo&&(h+=" end ")}},C(x),h}function ot(x){let C,p,h=0;function _(n){if(n===void 0)return;let i=`
${"	".repeat(h)}`;if(n.LeadingWhite==""||n.LeadingWhite.substr(-i.length,i.length)!=i){let s="",d;for(d=n.LeadingWhite.length;d>=0;d--){let F=n.LeadingWhite.substr(d,1);if(!(F==""||F.match(/\s/g))){s=n.LeadingWhite.substr(0,d+1);break}}n.LeadingWhite=`${s}${i}`}}function L(){h++}function l(){h--,k(h>=0,"Undented too far")}function V(n){return n.LeadingWhite.length>0?n.LeadingWhite.substr(0,1):n.Source.toString().substr(0,1)}function r(n){n.LeadingWhite=n.LeadingWhite.trim()}function o(n){r(n),Se.includes(V(n))||(n.LeadingWhite=" "+n.LeadingWhite)}function g(n){o(n.GetFirstToken())}function w(n,i,s){L(),C(i),l(),_(s)}p=function(n){if(n.Type=="BinopExpr")p(n.Lhs),p(n.Rhs),g(n.Rhs),o(n.Token_Op);else if(n.Type=="UnopExpr")r(n.Token_Op),p(n.Rhs),n.Token_Op.Source[0]&&o(n.Rhs.GetFirstToken());else if(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral")r(n.Token),n.Type=="HashLiteral"&&(n.Token.Source='"'+T(`${n.Token.Source.substring(1,n.Token.Source.length-1)}`)+'"',n.Type="StringLiteral",n.Token.Type="String");else if(n.Type=="FieldExpr")p(n.Base);else if(n.Type=="IndexExpr")p(n.Base),p(n.Index);else if(n.Type=="MethodExpr"||n.Type=="CallExpr")p(n.Base),r(n.FunctionArguments.GetFirstToken()),r(n.FunctionArguments.GetLastToken()),n.Type=="MethodExpr",n.FunctionArguments.CallType=="StringCall"||(n.FunctionArguments.CallType=="ArgCall"?n.FunctionArguments.ArgList.forEach((i,s)=>{p(i),s>0&&g(i);let d=n.FunctionArguments.Token_CommaList[s];d!=null&&r(d)}):n.FunctionArguments.CallType=="TableCall"&&p(n.FunctionArguments.TableExpr));else if(n.Type=="FunctionLiteral")n.ArgList.forEach((i,s)=>{s>0&&o(i),n.Token_ArgCommaList[s]}),n.ArgList.length>0&&n.Token_Varg!=null&&o(n.Token_Varg),w(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type!="VariableExpr")if(n.Type=="ParenExpr")r(n.Token_OpenParen),r(n.Token_CloseParen),p(n.Expression);else if(n.Type=="TableLiteral"){if(n.EntryList.length!=0){L();let i=100;n.EntryList.forEach((s,d)=>{s.EntryType=="Field"?(n.EntryList.length>i?it(s.Value):_(s.Field),o(s.Token_Equals),p(s.Value),g(s.Value)):s.EntryType=="Index"?(n.EntryList.length>i?r(s.Token_OpenBracket):_(s.Token_OpenBracket),p(s.Index),o(s.Token_Equals),p(s.Value),g(s.Value)):s.EntryType=="Value"?(p(s.Value),n.EntryList.length>i?it(s.Value):_(s.Value.GetFirstToken())):k(!1,"unreachable");let F=n.Token_SeperatorList[d];F!=null&&(n.EntryList.length>i?F.LeadingWhite="":r(F))}),l(),n.EntryList.length>i?n.Token_CloseBrace.LeadingWhite="":_(n.Token_CloseBrace)}}else if(n.Type=="CompoundStat")C(n);else throw ge(n),`unreachable, type: ${n.Type}:`+n},C=function(n){if(n.Type=="StatList")n.StatementList.forEach((i,s)=>{i===null||i.Type===null||i.Type==="StatList"&&i.StatementList.length===0||(i.Remove=()=>{i.StatementList[s]=null},C(i),_(i.GetFirstToken()))});else if(n.Type!="BreakStat"){if(n.Type!="ContinueStat"){if(n.Type!="GotoStat"){if(n.Type!="LabelStat")if(n.Type=="ReturnStat")n.ExprList.forEach((i,s)=>{p(i),g(i),n.Token_CommaList[s]});else if(n.Type=="LocalVarStat"){if(n.VarList.forEach((i,s)=>{o(i),i.Attribute&&(i.Attribute.LeadingWhite=" "),n.Token_VarCommaList[s]}),n.Token_Equals){r(n.Token_Equals),o(n.Token_Equals);let i=[],s=[];n.ExprList.forEach((d,F)=>{d!=null&&(F<n.VarList.length||d.Type=="CallExpr"||d.Type=="ParenExpr"||d.Type=="VargLiteral"||d.Type=="BinopExpr"||d.Type=="UnopExpr")&&(i.push(d),s.push(n.Token_ExprCommaList[F]))}),n.ExprList=i,n.CommaList=s,n.ExprList.forEach((d,F)=>{d!=null&&(p(d),g(d),n.Token_ExprCommaList[F]!=null&&n.ExprList.length-1==F&&(n.Token_ExprCommaList[F]=null))})}}else if(n.Type=="LocalFunctionStat")o(n.FunctionStat.Token_Function),o(n.FunctionStat.NameChain[0]),n.FunctionStat.ArgList.forEach((i,s)=>{s>0?o(i):r(i);let d=n.FunctionStat.Token_ArgCommaList[s];d&&r(d)}),n.FunctionStat.ArgList.length>0&&n.FunctionStat.Token_Varg?(r(n.FunctionStat.Token_Varg),o(n.FunctionStat.Token_Varg)):n.FunctionStat.Token_Varg&&r(n.FunctionStat.Token_Varg),r(n.FunctionStat.Token_OpenParen),r(n.FunctionStat.Token_CloseParen),w(n.FunctionStat.Token_CloseParen,n.FunctionStat.Body,n.FunctionStat.Token_End);else if(n.Type=="FunctionStat")n.NameChain.forEach((i,s)=>{s==0&&o(i),n.Token_NameChainSeperator[s]}),n.ArgList.forEach((i,s)=>{s>0&&o(i),n.Token_ArgCommaList[s]}),n.ArgList.length>0&&n.Token_Varg&&o(n.Token_Varg),w(n.Token_CloseParen,n.Body,n.Token_End);else if(n.Type=="RepeatStat")w(n.Token_Repeat,n.Body,n.Token_Until),p(n.Condition),g(n.Condition);else if(n.Type=="GenericForStat")n.VarList.forEach((i,s)=>{o(i),n.Token_VarCommaList[s]}),o(n.Token_In),n.GeneratorList.forEach((i,s)=>{p(i),g(i),n.Token_GeneratorCommaList[s]}),o(n.Token_Do),w(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="NumericForStat")n.VarList.forEach((i,s)=>{o(i),n.Token_VarCommaList[s]}),o(n.Token_Equals),n.RangeList.forEach((i,s)=>{p(i),g(i),n.Token_RangeCommaList[s]}),o(n.Token_Do),w(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="WhileStat")p(n.Condition),g(n.Condition),o(n.Token_Do),w(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="DoStat")w(n.Token_Do,n.Body,n.Token_End);else if(n.Type=="IfStat"){p(n.Condition),g(n.Condition),o(n.Token_Then);let i=n.Token_Then,s=n.Body;n.ElseClauseList.forEach(d=>{w(i,s,d.Token),i=d.Token,d.Condition!=null&&(p(d.Condition),g(d.Condition),o(d.Token_Then),i=d.Token_Then),s=d.Body}),w(i,s,n.Token_End)}else n.Type=="CallExprStat"?p(n.Expression):n.Type=="CompoundStat"?(p(n.Lhs),p(n.Rhs),g(n.Lhs),g(n.Rhs),o(n.Token_Compound)):n.Type=="AssignmentStat"?(n.Lhs.forEach((i,s)=>{p(i),s>0&&g(i),n.Token_LhsSeperatorList[s]}),o(n.Token_Equals),n.Rhs.forEach((i,s)=>{p(i),g(i),n.Token_RhsSeperatorList[s]})):k(!1,"Unreachable")}}}},C(x)}function it(x){let C,p;function h(l){l&&(l.LeadingWhite="")}function _(l,V,r=!1){h(V);let o=(typeof l.Source=="string"?l.Source:l.Source.toString()).substr(l.Source.length-1,1),g=(typeof V.Source=="string"?V.Source:V.Source.toString()).substr(0,1);o=="-"&&g=="-"||Be.includes(o)&&Be.includes(g)||r&&o==")"&&g=="("?V.LeadingWhite=r?";":" ":V.LeadingWhite=""}function L(l,V,r){C(V),h(r);let o=V.GetFirstToken(),g=V.GetLastToken();o!=null?(_(l,o),_(g,r)):_(l,r)}p=function(l){if(l.Type==="BinopExpr")p(l.Lhs),p(l.Rhs),l.Lhs.Type=="NumberLiteral"&&l.Token_Op.Source==".."?l.Token_Op.LeadingWhite=" ":(h(l.Token_Op),_(l.Lhs.GetLastToken(),l.Token_Op)),_(l.Token_Op,l.Rhs.GetFirstToken());else if(l.Type==="UnopExpr")h(l.Token_Op),p(l.Rhs),_(l.Token_Op,l.Rhs.GetFirstToken());else if(l.Type==="NumberLiteral"||l.Type==="StringLiteral"||l.Type==="NilLiteral"||l.Type==="BooleanLiteral"||l.Type==="VargLiteral"||l.Type==="HashLiteral")h(l.Token);else if(l.Type=="FieldExpr")p(l.Base),h(l.Token_Dot),h(l.Field);else if(l.Type=="IndexExpr")p(l.Base),h(l.Token_OpenBracket),p(l.Index),h(l.Token_CloseBracket);else if(l.Type=="MethodExpr"||l.Type=="CallExpr")p(l.Base),l.Type=="MethodExpr"&&(h(l.Token_Colon),h(l.Method)),l.FunctionArguments.CallType=="StringCall"?h(l.FunctionArguments.Token):l.FunctionArguments.CallType=="ArgCall"?(h(l.FunctionArguments.Token_OpenParen),l.FunctionArguments.ArgList.forEach((V,r)=>{p(V);let o=l.FunctionArguments.Token_CommaList[r];o!=null&&h(o)}),h(l.FunctionArguments.Token_CloseParen)):l.FunctionArguments.CallType=="TableCall"&&p(l.FunctionArguments.TableExpr);else if(l.Type=="FunctionLiteral")h(l.Token_Function),h(l.Token_OpenParen),l.ArgList.forEach((V,r)=>{h(V);let o=l.Token_ArgCommaList[r];o!=null&&h(o)}),l.Token_Varg!=null&&h(l.Token_Varg),h(l.Token_CloseParen),L(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type=="VariableExpr")h(l.Token);else if(l.Type=="ParenExpr")h(l.Token_OpenParen),p(l.Expression),h(l.Token_CloseParen);else if(l.Type=="TableLiteral")h(l.Token_OpenBrace),l.EntryList.forEach((V,r)=>{V.EntryType=="Field"?(h(V.Field),h(V.Token_Equals),p(V.Value)):V.EntryType=="Index"?(h(V.Token_OpenBracket),p(V.Index),h(V.Token_CloseBracket),h(V.Token_Equals),p(V.Value)):V.EntryType=="Value"?p(V.Value):k(!1,"unreachable");let o=l.Token_SeperatorList[r];o!=null&&h(o)}),l.Token_SeperatorList[l.EntryList.length-1]=null,h(l.Token_CloseBrace);else throw`unreachable, type: ${l.Type}:${l}  undefined`},C=function(l){if(l.Type=="StatList"){let V;for(V=0;V<=l.StatementList.length;V++){let r=l.StatementList[V];if(r==null)continue;C(r),h(r.GetFirstToken());let o=l.StatementList[V-1];if(o!=null){let g={")":["(","["],"]":["(","["]};if(l.SemicolonList[V-1]){let w=o.GetLastToken().Source,n=r.GetFirstToken().Source;(g[w]===null||g[w]===void 0||!g[w].includes(n))&&(l.SemicolonList[V-1]=null)}l.SemicolonList[V-1]||_(o.GetLastToken(),r.GetFirstToken(),!0)}}l.SemicolonList[l.StatementList.length-1]=null,l.StatementList.length>0&&h(l.StatementList[0].GetFirstToken())}else if(l.Type=="BreakStat")h(l.Token_Break);else if(l.Type=="ContinueStat")h(l.Token_Continue);else if(l.Type=="GotoStat")h(l.Token_Goto),_(l.Token_Goto,l.Token_Label);else if(l.Type=="LabelStat")h(l.Token_ColonsLeft),h(l.Token_Label),h(l.Token_ColonsRight);else if(l.Type=="ReturnStat")h(l.Token_Return),l.ExprList.forEach((V,r)=>{p(V),l.Token_CommaList[r]!=null&&h(l.Token_CommaList[r])}),l.ExprList.length>0&&_(l.Token_Return,l.ExprList[0].GetFirstToken());else if(l.Type=="LocalVarStat"){h(l.Token_Local);let V=!1;l.VarList.forEach((r,o)=>{o==0?_(l.Token_Local,r):h(r),r.Attribute&&(h(r.Attribute),o+1==l.VarList.length&&(V=!0));let g=l.Token_VarCommaList[o];g!=null&&h(g)}),l.Token_Equals!=null&&(V||h(l.Token_Equals),l.ExprList.forEach((r,o)=>{p(r);let g=l.Token_ExprCommaList[o];g!=null&&h(g)}))}else if(l.Type=="LocalFunctionStat")h(l.Token_Local),_(l.Token_Local,l.FunctionStat.Token_Function),_(l.FunctionStat.Token_Function,l.FunctionStat.NameChain[0]),_(l.FunctionStat.NameChain[0],l.FunctionStat.Token_OpenParen),l.FunctionStat.ArgList.forEach((V,r)=>{h(V);let o=l.FunctionStat.Token_ArgCommaList[r];o!=null&&h(o)}),l.FunctionStat.Token_Varg&&h(l.FunctionStat.Token_Varg),h(l.FunctionStat.Token_CloseParen),L(l.FunctionStat.Token_CloseParen,l.FunctionStat.Body,l.FunctionStat.Token_End);else if(l.Type=="FunctionStat")h(l.Token_Function),l.NameChain.forEach((V,r)=>{r==0?_(l.Token_Function,V):h(V);let o=l.Token_NameChainSeperator[r];o!=null&&h(o)}),h(l.Token_OpenParen),l.ArgList.forEach((V,r)=>{h(V);let o=l.Token_ArgCommaList[r];o!=null&&h(o)}),l.Token_Varg&&h(l.Token_Varg),h(l.Token_CloseParen),L(l.Token_CloseParen,l.Body,l.Token_End);else if(l.Type=="RepeatStat")h(l.Token_Repeat),L(l.Token_Repeat,l.Body,l.Token_Until),p(l.Condition),_(l.Token_Until,l.Condition.GetFirstToken());else if(l.Type=="GenericForStat")h(l.Token_For),l.VarList.forEach((V,r)=>{r==0?_(l.Token_For,V):h(V);let o=l.Token_VarCommaList[r];o!=null&&h(o)}),_(l.VarList[l.VarList.length-1],l.Token_In),l.GeneratorList.forEach((V,r)=>{p(V),r==0&&_(l.Token_In,V.GetFirstToken());let o=l.Token_GeneratorCommaList[r];o!=null&&h(o)}),_(l.GeneratorList[l.GeneratorList.length-1].GetLastToken(),l.Token_Do),L(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="NumericForStat")h(l.Token_For),l.VarList.forEach((V,r)=>{r==0?_(l.Token_For,V):h(V);let o=l.Token_VarCommaList[r];o!=null&&h(o)}),_(l.VarList[l.VarList.length-1],l.Token_Equals),l.RangeList.forEach((V,r)=>{p(V),r==0&&_(l.Token_Equals,V.GetFirstToken());let o=l.Token_RangeCommaList[r];o!=null&&h(o)}),_(l.RangeList[l.RangeList.length-1].GetLastToken(),l.Token_Do),L(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="WhileStat")h(l.Token_While),p(l.Condition),h(l.Token_Do),_(l.Token_While,l.Condition.GetFirstToken()),_(l.Condition.GetLastToken(),l.Token_Do),L(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="DoStat")h(l.Token_Do),h(l.Token_End),L(l.Token_Do,l.Body,l.Token_End);else if(l.Type=="IfStat"){h(l.Token_If),p(l.Condition),_(l.Token_If,l.Condition.GetFirstToken()),_(l.Condition.GetLastToken(),l.Token_Then);let V=l.Token_Then,r=l.Body;l.ElseClauseList.forEach((o,g)=>{L(V,r,o.Token),V=o.Token,o.Condition!=null&&(p(o.Condition),_(o.Token,o.Condition.GetFirstToken()),_(o.Condition.GetLastToken(),o.Token_Then),V=o.Token_Then),C(o.Body),r=o.Body}),L(V,r,l.Token_End)}else if(l.Type=="CallExprStat")p(l.Expression);else if(l.Type=="CompoundStat")p(l.Lhs),h(l.Token_Compound),p(l.Rhs),_(l.Lhs.GetLastToken(),l.Token_Compound),_(l.Token_Compound,l.Rhs.GetFirstToken());else if(l.Type=="AssignmentStat")l.Lhs.forEach((V,r)=>{p(V);let o=l.Token_LhsSeperatorList[r];o!=null&&h(o)}),h(l.Token_Equals),l.Rhs.forEach((V,r)=>{p(V);let o=l.Token_RhsSeperatorList[r];o!=null&&h(o)});else return p(l)},C(x)}function Ye(x){let C,p,h={NumberLiteral:!0,BooleanLiteral:!0,StringLiteral:!0,HashLiteral:!0,NilLiteral:!0,TableLiteral:!0,ParenExpr:!0,BinopExpr:!0};function _(n,i,s=null){let d;return d={Type:n,Token:{Type:s??"Number",LeadingWhite:"",Source:i},GetFirstToken:()=>d.Token,GetLastToken:()=>d.Token},d}function L(n,i,s){let d;return d={Type:"BinopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:n},Lhs:i,Rhs:s,GetFirstToken:()=>d.Lhs.GetFirstToken(),GetLastToken:()=>d.Rhs.GetLastToken()},d}function l(n,i){let s;return s={Type:"UnopExpr",Token_Op:{Type:"Symbol",LeadingWhite:"",Source:n},Rhs:i,GetFirstToken:()=>s.Token_Op,GetLastToken:()=>s.Rhs.GetLastToken()},s}function V(n,i){if(i!=null)for(var[s,d]of Object.entries(i))n[s]=d}function r(n){if(n==null||n.substr==null)return;let i=n.substr(0,1),s;if((i=='"'||i=="'")&&(s=n.substr(1,n.length-2)),i=="["){let $=0,te=1;for(;n.substr(te,1)=="=";)$++,te++;s=n.substr(2+$,n.length-4-$-2)}if(s==null)return"";let d="",F;for(F=0;F<=s.length;F++){let $=s.substr(F,1);$=="'"||$=='"'?d+=`\\${$}`:d+=$}return d}function o(n){if(typeof n=="object"&&n.Type=="ParenExpr")return V(n,n.Expression)}function g(n,i,s){let d=i,F=s;if(i&&i.Type=="ParenExpr"&&(d=i.Expression),s&&s.Type=="ParenExpr"&&(F=s.Expression),d==null||F==null||d.Type==null||F.Type==null||d.Type=="VariableExpr"||d.Type=="CallExpr"||d.Type=="BinopExpr"||F.Type=="CallExpr"||F.Type=="BinopExpr"||F.Type=="VariableExpr")return;let $=d.Token||d.Expression!=null&&d.Expression.Token||null,te=F.Token||F.Expression!=null&&F.Expression.Token||null,Ee=$!=null?$.Source:null,Le=te!=null?te.Source:null,de,q;if(d.Type=="BooleanLiteral"&&(de=Ee=="true"),F.Type=="BooleanLiteral"&&(q=Le=="true"),!(d.Type=="NumberLiteral"&&(de=N(Ee),de==null))&&!(F.Type=="NumberLiteral"&&(q=N(Le),q==null))&&((d.Type=="StringLiteral"||d.Type=="HashLiteral")&&(de=Ee.toString()),(F.Type=="StringLiteral"||F.Type=="HashLiteral")&&(q=Le.toString()),de!=null&&q!=null)){if(n=="==")return de==q;if(n=="~=")return de!=q;if(n=="and")return de&&q;if(n=="or")return de||q;if(n==".."&&d.Type=="StringLiteral"&&F.Type=="StringLiteral")return`"${r(Ee)+r(Le)}"`;if(d.Type=="StringLiteral"&&(de=N(r(de))),F.Type=="StringLiteral"&&(q=N(r(q))),de==null||q==null)return;let Y;if(n=="+"&&(Y=de+q),n=="-"&&(Y=de-q),n=="*"&&(Y=de*q),n=="/"&&(Y=de/q),n=="^"&&(Y=de**q),n=="%"&&(Y=de%q),n==">"&&(Y=de>q),n=="<"&&(Y=de<q),n==">="&&(Y=de>=q),n=="<="&&(Y=de<=q),Y==!1||Y==!0||isFinite(Y)&&Y>-(10**6)&&Y<10**6)return Y}}function w(n,i){let s=i.Token||i.Expression||i.EntryList||i;if(s==null||s.Source==null&&i.Type!="TableLiteral"||i.Type=="VariableExpr"||i.Type=="CallExpr"||i.Type=="BinopExpr")return;let d=s.Source,F;if(i.Type=="TableLiteral"&&s!=null){let $=[],te=0,Ee=!1,Le=!1,de=0;if(s.forEach((q,Y)=>{if(Ee)$.push(q);else if(q.EntryType=="Value"||q.EntryType=="Index")if((q.Index==null||q.Index.Type=="NumberLiteral")&&q.Value){if((q.Index!=null&&q.Index.Token!=null&&q.Index.Token.Source!==null?q.Index.Token.Source:de+1).toString()!==(++de).toString())return Ee=!0,Le=!0,$.push(q);q.Value.Type!="CallExpr"?te++:(Ee=!0,$.push(q))}else $.push(q)}),Le)return;if(n=="#")return i.EntryList=$,i.EntryList.length<=0?_("NumberLiteral",te!==null?te:i.EntryList.length):te<=0?l("#",i):L("+",_("NumberLiteral",te),l("#",i))}if(i.Type=="BooleanLiteral"&&(F=d=="true"),!(i.Type=="NumberLiteral"&&(F=N(d),F===null))){if(i.Type=="StringLiteral"&&(F=d.substr(1,d.length-2)),n=="not"&&i.Type!==null)return i.Type=="NilLiteral"||i.Type=="BooleanLiteral"&&F===!1;if(F!=null){if(n=="#")return F.length;if(n=="-")return-F}}}p=function(n){if(n.Type=="BinopExpr"){if(p(n.Lhs),p(n.Rhs),n.Lhs!=null&&n.Rhs!=null){let i=n.Token_Op;if(i!=null&&i.Source!=null){let s=g(i.Source,n.Lhs,n.Rhs);if(s!=null){if(typeof s=="boolean"){let d=_("BooleanLiteral",s.toString(),"Keyword");V(n,d);return}else if(typeof s=="number"){if(isFinite(s)==!0){let d=_("NumberLiteral",s.toString(),"Number");V(n,d);return}}else if(typeof s=="string"){let d=_("StringLiteral",s,"String");V(n,d);return}else if(typeof s=="object"){V(n,s);return}return}}if(n.Lhs.Type=="ParenExpr"){let d=n.Lhs.Expression;d.Type=="NumberLiteral"||d.Type=="StringLiteral"||d.Type=="NilLiteral"||d.Type=="BooleanLiteral"||d.Type=="HashLiteral"}if(n.Rhs.Type=="ParenExpr"){let d=n.Rhs.Expression;d.Type=="NumberLiteral"||d.Type=="StringLiteral"||d.Type=="NilLiteral"||d.Type=="BooleanLiteral"||d.Type=="HashLiteral"}}}else if(n.Type=="UnopExpr"){if(p(n.Rhs),n.Rhs!=null&&h[n.Rhs.Type]==!0){let i=n.Token_Op;if(i!=null&&i.Source!=null){let s=n.Rhs.Expression!=null?n.Rhs.Expression:n.Rhs,d=w(i.Source,s);if(d!=null){if(typeof d=="boolean"){let F=_("BooleanLiteral",d.toString(),"Keyword");V(n,F);return}else if(typeof d=="number"){if(isFinite(d)==!0){let F=_("NumberLiteral",d,"Number");V(n,F);return}}else if(typeof d=="string"){let F=_("StringLiteral",d,"String");V(n,F);return}else if(typeof d=="object"){V(n,d);return}return}}}}else if(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral"){let i=n.Token;if(i!=null){if(i.Type=="Number"){let s=i.Source.toString().split("e");if(s.length===2){let d=N(s[0]),F=N(s[1]);isFinite(d)&&isFinite(F)&&d**F<999999999&&!i.Source.includes("+")&&i.Source.includes(".")&&!i.Source.includes("-")&&(i.Source=(d**F).toString())}}i.Type=="String"&&(i.Source=i.Source.replace(/\\\d+/gi,s=>{let d=N(s.substr(1,s.length-1));return d&&isFinite(d)&&(d>=97&&d<=122||d>=65&&d<=90||d>=33&&d<=47||d>=58&&d<=64||d>=91&&d<=96||d>=123&&d<=126)&&d!==34&&d!==39&&d!==92?String.fromCharCode(d):s}))}}else if(n.Type=="FieldExpr")p(n.Base);else if(n.Type=="IndexExpr")p(n.Base),p(n.Index);else if(n.Type=="MethodExpr"||n.Type=="CallExpr"){if(p(n.Base),n.FunctionArguments.CallType=="ArgCall"?n.FunctionArguments.ArgList.forEach((i,s)=>{p(i)}):n.FunctionArguments.CallType=="TableCall"&&p(n.FunctionArguments.TableExpr),n.Base.Type==="ParenExpr"&&n.Base.Expression.Type==="FunctionLiteral"&&n.FunctionArguments.CallType==="ArgCall"){let i=n.Base.Expression;n.FunctionArguments.ArgList.forEach((s,d)=>{let F=n.FunctionArguments.ArgList[d];if(F!==void 0&&(F.Type=="NumberLiteral"||F.Type=="StringLiteral"||F.Type=="NilLiteral"||F.Type=="BooleanLiteral"||F.Type=="HashLiteral")){let $=i.ArgList[d];$&&$.var.RenameList.forEach(te=>{te(F.Token.Source,!0)})}})}}else if(n.Type=="FunctionLiteral")C(n.Body);else if(n.Type!="VariableExpr")if(n.Type=="ParenExpr"){let i=n.Expression;i!=null&&i.Type=="ParenExpr"&&(n.Expression=i.Expression),p(n.Expression),(n.Type=="NumberLiteral"||n.Type=="StringLiteral"||n.Type=="NilLiteral"||n.Type=="BooleanLiteral"||n.Type=="VargLiteral"||n.Type=="HashLiteral")&&o(n)}else n.Type=="TableLiteral"&&n.EntryList.forEach((i,s)=>{i.EntryType=="Field"?p(i.Value):i.EntryType=="Index"?(p(i.Index),p(i.Value)):i.EntryType=="Value"?p(i.Value):k(!1,"unreachable")})},C=function(n){if(n.Type=="StatList")n.StatementList.forEach((i,s)=>{i===null||i.Type===null||(i.Remove=()=>{n.StatementList[s]=null},C(i))});else if(n.Type!="BreakStat"){if(n.Type!="ContinueStat")if(n.Type=="ReturnStat")n.ExprList.forEach((i,s)=>{p(i)});else if(n.Type=="LocalVarStat")n.Token_Equals!=null&&n.ExprList.forEach((i,s)=>{p(i)});else if(n.Type=="LocalFunctionStat")C(n.FunctionStat.Body),n.FunctionStat.NameChain.length===1&&n.FunctionStat.NameChain[0].UseCount;else if(n.Type=="FunctionStat")C(n.Body);else if(n.Type=="RepeatStat")C(n.Body),p(n.Condition),n.Body.Type=="StatList"&&n.Body.StatementList.length;else if(n.Type=="GenericForStat")n.GeneratorList.forEach((i,s)=>{p(i)}),C(n.Body);else if(n.Type=="NumericForStat"){n.RangeList.forEach((q,Y)=>{p(q)}),C(n.Body);let i=n.RangeList[0],s=n.RangeList[1],d=n.RangeList[2];if(i==null||s==null)return n.Remove();if(o(i),o(s),o(d),i.Type!="NumberLiteral"||s.Type!="NumberLiteral"||d!=null&&d.Type!="NumberLiteral"||d==null)return;let F=N(i.Token.Source),$=N(s.Token.Source),te=d!=null&&N(d.Token.Source)||1,Ee=te>0&&F<=$||te<0&&F>=$,Le=($-F+te)/te;if(!(Ee&&Le>=0)||n.Body.Type=="StatList"&&n.Body.StatementList.length===0)return n.Remove()}else if(n.Type=="WhileStat"){p(n.Condition),C(n.Body);let i=n.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":n.Remove();break}}else if(n.Type=="DoStat"){if(C(n.Body),n.Body===null||n.Body.Type=="StatList"&&n.Body.StatementList.length===0)return n.Remove();if(n.Body.StatementList.length===1){let i=n.Body.StatementList[0];i.Type!=="ContinueStat"&&i.Type!=="BreakStat"&&i.Type!=="ReturnStat"&&V(n,i)}}else if(n.Type=="IfStat"){p(n.Condition),C(n.Body),n.ElseClauseList.forEach((s,d)=>{s.Condition!=null&&p(s.Condition),C(s.Body)});let i=n.Condition;switch(i.Type){case"ParenExpr":i=i.Expression;case"BooleanLiteral":if(n.ElseClauseList.length>=1||i==null||i.Token==null||i.Token.Source!=="false")break;case"NilLiteral":n.Remove();break}}else n.Type=="CallExprStat"?p(n.Expression):n.Type=="CompoundStat"?(p(n.Lhs),p(n.Rhs)):n.Type=="AssignmentStat"&&(n.Lhs.forEach((i,s)=>{p(i)}),n.Rhs.forEach((i,s)=>{p(i)}))}},C(x)}let re=[],A;for(A=97;A<=122;A++)re.push(String.fromCharCode(A));for(A=65;A<=90;A++)re.push(String.fromCharCode(A));for(A=48;A<=57;A++)re.push(String.fromCharCode(A));re.push("_");let we=[];for(A=97;A<=122;A++)we.push(String.fromCharCode(A));for(A=65;A<=90;A++)we.push(String.fromCharCode(A));function $e(x){let C="",p=x%we.length;for(x=(x-p)/we.length,C=`${C}${we[p]}`;x>0;){let h=x%re.length;x=(x-h)/re.length,C=`${C}${re[h]}`}return C}function b(x,C,p){let h=[];for(var[_,L]of Object.entries(Ke))h[_]=!0;let l=[];x.forEach(w=>{w.AssignedTo&&p?l.push(w):h[w.Name]=!0});function V(w){w.VariableList.forEach(n=>{l.push(n)}),w.ChildScopeList.forEach(n=>{V(n)})}V(C),l.forEach(w=>{w.UsedNameArray=[]}),l.sort((w,n)=>w-n);let r=0,o=[];function g(w){let n=o[w];if(n==null){for(n=$e(r),r++;h[n];)n=$e(r),r++;o[w]=n}return n}l.forEach((w,n)=>{w.Renamed=!0;let i=0;for(;w.UsedNameArray[i];)i++;w.Rename(g(i)),w.Scope?l.forEach(s=>{s.Renamed||(!s.Scope||s.Scope.Depth<w.Scope.Depth?s.ReferenceLocationList.some(d=>d>=w.BeginLocation&&d<=w.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):s.Scope.Depth>w.Scope.Depth?w.ReferenceLocationList.some(d=>d>=s.BeginLocation&&d<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1):w.BeginLocation<s.EndLocation&&w.EndLocation>s.BeginLocation&&(s.UsedNameArray[i]=!0))}):l.forEach(s=>{if(!s.Renamed)if(s.Type=="Global")s.UsedNameArray[i]=!0;else if(s.Type=="Local")w.ReferenceLocationList.some(d=>d>=s.BeginLocation&&d<=s.ScopeEndLocation?(s.UsedNameArray[i]=!0,!0):!1);else throw"Unreachable"})})}function K(x,C,p){let h=[];x.forEach(r=>{(!r.AssignedTo||!p)&&(h[r.Name]=!0)});let _=1,L=1;function l(r,o){r.Name=o,r.RenameList.forEach(g=>{g(o)})}if(p){let r={};x.forEach(o=>{o.AssignedTo&&!o.ChangedName&&(r[o.Name]=r[o.Name]||`G_${L}_`,o.ChangedName=!0,l(o,r[o.Name]),L++)})}function V(r){r.VariableList.forEach(o=>{let g=`L_${_}_`;o.Info.Type=="Argument"?g=`${g}arg${o.Info.Index}`:o.Info.Type=="LocalFunction"?g=`${g}func`:o.Info.Type=="ForRange"&&(g=`${g}forvar${o.Info.Index}`),l(o,g),_++}),r.ChildScopeList.forEach(o=>{V(o)})}V(C)}let ae={};ae.Minify=function(x,C){let p=le(x),[h,_]=at(p);return C.RenameVariables==!0&&b(h,_,C.RenameGlobals),C.SolveMath==!0&&Ye(p),it(p),mt(p)},ae.Beautify=function(x,C){let p=le(x),[h,_]=at(p);return C.RenameVariables&&K(h,_,C.RenameGlobals),C.SolveMath==!0&&Ye(p),ot(p),mt(p)};try{lt!=null&&lt.exports!=null&&(lt.exports.Beautify=ae.Beautify,lt.exports.Minify=ae.Minify)}catch{}})(Mt);var fn=Mt.exports;const Rt=fn;vt.Beautify=Rt.Beautify;vt.Minify=Rt.Minify;vt.Uglify=Rt.Uglify;const Dt={master:`return {
  desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  hideminimap=false,
  id="ENDLESS",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="无尽",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="always",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="always",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="none",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  playstyle="endless",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  settings_id="ENDLESS",
  settings_name="无尽",
  substitutes={  },
  version=4,
  worldgen_desc="永不结束的饥荒沙盒模式。\\
永远可以在绚丽之门复活。",
  worldgen_id="ENDLESS",
  worldgen_name="无尽" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="always",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="none",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="always",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="none",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},Nt={master:`return {
  desc="标准《饥荒》体验。",
  hideminimap=false,
  id="SURVIVAL_TOGETHER",
  location="forest",
  max_playlist_position=999,
  min_playlist_position=0,
  name="生存",
  numrandom_set_pieces=4,
  override_level_string=false,
  overrides={
    alternatehunt="default",
    angrybees="default",
    antliontribute="default",
    autumn="default",
    bananabush_portalrate="default",
    basicresource_regrowth="none",
    bats_setting="default",
    bearger="default",
    beefalo="default",
    beefaloheat="default",
    beequeen="default",
    bees="default",
    bees_setting="default",
    berrybush="default",
    birds="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen_setting="default",
    butterfly="default",
    buzzard="default",
    cactus="default",
    cactus_regrowth="default",
    carrot="default",
    carrots_regrowth="default",
    catcoon="default",
    catcoons="default",
    chess="default",
    cookiecutters="default",
    crabking="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker2="default",
    deciduousmonster="default",
    deciduoustree_regrowth="default",
    deerclops="default",
    dragonfly="default",
    dropeverythingondespawn="default",
    evergreen_regrowth="default",
    extrastartingitems="default",
    eyeofterror="default",
    fishschools="default",
    flint="default",
    flowers="default",
    flowers_regrowth="default",
    frograin="default",
    frogs="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    gnarwail="default",
    goosemoose="default",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    has_ocean=true,
    healthpenalty="always",
    hound_mounds="default",
    houndmound="default",
    hounds="default",
    hunger="default",
    hunt="default",
    junkyard="default",
    keep_disconnected_tiles=true,
    klaus="default",
    krampus="default",
    layout_mode="LinkNodesByKeys",
    lessdamagetaken="none",
    liefs="default",
    lightcrab_portalrate="default",
    lightning="default",
    lightninggoat="default",
    loop="default",
    lunarhail_frequency="default",
    lureplants="default",
    malbatross="default",
    marshbush="default",
    merm="default",
    merms="default",
    meteorshowers="default",
    meteorspawner="default",
    moles="default",
    moles_setting="default",
    monkeytail_portalrate="default",
    moon_berrybush="default",
    moon_bullkelp="default",
    moon_carrot="default",
    moon_fissure="default",
    moon_fruitdragon="default",
    moon_hotspring="default",
    moon_rock="default",
    moon_sapling="default",
    moon_spider="default",
    moon_spiders="default",
    moon_starfish="default",
    moon_tree="default",
    moon_tree_regrowth="default",
    mosquitos="default",
    mushroom="default",
    mutated_hounds="default",
    no_joining_islands=true,
    no_wormholes_to_disconnected_tiles=true,
    ocean_bullkelp="default",
    ocean_otterdens="default",
    ocean_seastack="ocean_default",
    ocean_shoal="default",
    ocean_waterplant="ocean_default",
    ocean_wobsterden="default",
    otters_setting="default",
    palmcone_seed_portalrate="default",
    palmconetree="default",
    palmconetree_regrowth="default",
    penguins="default",
    penguins_moon="default",
    perd="default",
    petrification="default",
    pigs="default",
    pigs_setting="default",
    pirateraids="default",
    ponds="default",
    portal_spawnrate="default",
    portalresurection="none",
    powder_monkey_portalrate="default",
    prefabswaps_start="default",
    rabbits="default",
    rabbits_setting="default",
    reeds="default",
    reeds_regrowth="default",
    regrowth="default",
    resettime="default",
    rifts_enabled="default",
    rifts_frequency="default",
    roads="default",
    rock="default",
    rock_ice="default",
    saltstack_regrowth="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    sharkboi="default",
    sharks="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    spring="default",
    squid="default",
    stageplays="default",
    start_location="default",
    summer="default",
    summerhounds="default",
    tallbirds="default",
    task_set="default",
    temperaturedamage="default",
    tentacles="default",
    terrariumchest="default",
    touchstone="default",
    trees="default",
    tumbleweed="default",
    twiggytrees_regrowth="default",
    walrus="default",
    walrus_setting="default",
    wasps="default",
    weather="default",
    wildfires="default",
    winter="default",
    winterhounds="default",
    winters_feast="default",
    wobsters="default",
    world_size="default",
    wormhole_prefab="wormhole",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  playstyle="survival",
  random_set_pieces={
    "Sculptures_2",
    "Sculptures_3",
    "Sculptures_4",
    "Sculptures_5",
    "Chessy_1",
    "Chessy_2",
    "Chessy_3",
    "Chessy_4",
    "Chessy_5",
    "Chessy_6",
    "Maxwell1",
    "Maxwell2",
    "Maxwell3",
    "Maxwell4",
    "Maxwell6",
    "Maxwell7",
    "Warzone_1",
    "Warzone_2",
    "Warzone_3" 
  },
  required_prefabs={ "multiplayer_portal" },
  required_setpieces={ "Sculptures_1", "Maxwell5" },
  settings_desc="标准《饥荒》体验。",
  settings_id="SURVIVAL_TOGETHER",
  settings_name="生存",
  substitutes={  },
  version=4,
  worldgen_desc="标准《饥荒》体验。",
  worldgen_id="SURVIVAL_TOGETHER",
  worldgen_name="生存" 
}`,caves:`return {
  background_node_range={ 0, 1 },
  desc="探查洞穴…… 一起！",
  hideminimap=false,
  id="DST_CAVE",
  location="cave",
  max_playlist_position=999,
  min_playlist_position=0,
  name="洞穴",
  numrandom_set_pieces=0,
  override_level_string=false,
  overrides={
    acidrain_enabled="always",
    atriumgate="default",
    banana="default",
    basicresource_regrowth="none",
    bats="default",
    bats_setting="default",
    beefaloheat="default",
    berrybush="default",
    boons="default",
    branching="default",
    brightmarecreatures="default",
    bunnymen="default",
    bunnymen_setting="default",
    cave_ponds="default",
    cave_spiders="default",
    cavelight="default",
    chess="default",
    chest_mimics="default",
    crow_carnival="default",
    darkness="default",
    day="default",
    daywalker="default",
    dropeverythingondespawn="default",
    dustmoths="default",
    earthquakes="default",
    extrastartingitems="default",
    fern="default",
    fissure="default",
    flint="default",
    flower_cave="default",
    flower_cave_regrowth="default",
    fruitfly="default",
    ghostenabled="always",
    ghostsanitydrain="always",
    grass="default",
    grassgekkos="default",
    hallowed_nights="default",
    healthpenalty="always",
    hunger="default",
    itemmimics="default",
    krampus="default",
    layout_mode="RestrictNodesByKey",
    lessdamagetaken="none",
    lichen="default",
    liefs="default",
    lightflier_flower_regrowth="default",
    lightfliers="default",
    loop="default",
    marshbush="default",
    merms="default",
    molebats="default",
    moles_setting="default",
    monkey="default",
    monkey_setting="default",
    mushgnome="default",
    mushroom="default",
    mushtree="default",
    mushtree_moon_regrowth="default",
    mushtree_regrowth="default",
    nightmarecreatures="default",
    pigs_setting="default",
    portalresurection="none",
    prefabswaps_start="default",
    reeds="default",
    regrowth="default",
    resettime="default",
    rifts_enabled_cave="default",
    rifts_frequency_cave="default",
    roads="never",
    rock="default",
    rocky="default",
    rocky_setting="default",
    sapling="default",
    season_start="default",
    seasonalstartingitems="default",
    shadowcreatures="default",
    slurper="default",
    slurtles="default",
    slurtles_setting="default",
    snurtles="default",
    spawnmode="fixed",
    spawnprotection="default",
    specialevent="default",
    spider_dropper="default",
    spider_hider="default",
    spider_spitter="default",
    spider_warriors="default",
    spiderqueen="default",
    spiders="default",
    spiders_setting="default",
    start_location="caves",
    task_set="cave_default",
    temperaturedamage="default",
    tentacles="default",
    toadstool="default",
    touchstone="default",
    trees="default",
    weather="default",
    winters_feast="default",
    world_size="default",
    wormattacks="default",
    wormattacks_boss="default",
    wormhole_prefab="tentacle_pillar",
    wormlights="default",
    worms="default",
    year_of_the_beefalo="default",
    year_of_the_bunnyman="default",
    year_of_the_carrat="default",
    year_of_the_catcoon="default",
    year_of_the_dragonfly="default",
    year_of_the_gobbler="default",
    year_of_the_pig="default",
    year_of_the_varg="default" 
  },
  required_prefabs={ "multiplayer_portal" },
  settings_desc="探查洞穴…… 一起！",
  settings_id="DST_CAVE",
  settings_name="洞穴",
  substitutes={  },
  version=4,
  worldgen_desc="探查洞穴…… 一起！",
  worldgen_id="DST_CAVE",
  worldgen_name="洞穴" 
}`},cn={class:"page-div"},mn={class:"card-header"},gn={class:"el-form-item-msg"},pn={style:{"font-weight":"bolder"}},hn={class:"item-container"},Tn={style:{"font-weight":"bolder"}},yn={class:"item-container"},_n={style:{"font-weight":"bolder"}},vn={class:"item-container"},kn={style:{"font-weight":"bolder"}},bn={class:"item-container"},Vn={style:{"font-weight":"bolder"}},Sn={class:"item-container"},Ln={style:{"font-weight":"bolder"}},Cn={class:"item-container"},wn={style:{"font-weight":"bolder"}},En={class:"item-container"},Fn={style:{"font-weight":"bolder"}},Mn={class:"item-container"},Rn={style:{"font-weight":"bolder"}},An={class:"item-container"},Bn={style:{"font-weight":"bolder"}},Gn={class:"item-container"},In={style:{"font-weight":"bolder"}},Un={class:"item-container"},Pn={style:{"font-weight":"bolder"}},zn={class:"item-container"},Dn={style:{"font-weight":"bolder"}},Nn={class:"item-container"},$n={style:{"font-weight":"bolder"}},On={class:"item-container"},xn={style:{"margin-top":"10px"}},Wn={style:{"font-weight":"bolder"}},qn={class:"item-container"},Kn={style:{"font-weight":"bolder"}},jn={class:"item-container"},Hn={style:{"font-weight":"bolder"}},Jn={class:"item-container"},Xn={style:{"font-weight":"bolder"}},Zn={class:"item-container"},Qn={style:{"font-weight":"bolder"}},Yn={class:"item-container"},el={style:{"font-weight":"bolder"}},tl={class:"item-container"},nl={style:{"font-weight":"bolder"}},ll={class:"item-container"},al={style:{"font-weight":"bolder"}},ol={class:"item-container"},il={style:{"font-weight":"bolder"}},rl={class:"item-container"},ul={style:{display:"flex","justify-content":"flex-end"}},sl={class:"card-header"},dl={class:"el-form-item-msg"},fl={class:"card-header"},cl={style:{"font-weight":"bolder"}},ml={class:"item-container"},gl={style:{"font-weight":"bolder"}},pl={class:"item-container"},hl={style:{"font-weight":"bolder"}},Tl={class:"item-container"},yl={style:{"font-weight":"bolder"}},_l={class:"item-container"},vl={style:{"font-weight":"bolder"}},kl={class:"item-container"},bl={style:{"font-weight":"bolder"}},Vl={class:"item-container"},Sl={style:{"font-weight":"bolder"}},Ll={class:"item-container"},Cl={style:{"font-weight":"bolder"}},wl={class:"item-container"},El={style:{"font-weight":"bolder"}},Fl={class:"item-container"},Ml={style:{"font-weight":"bolder"}},Rl={class:"item-container"},Al={style:{"font-weight":"bolder"}},Bl={class:"item-container"},Gl={style:{"font-weight":"bolder"}},Il={class:"item-container"},Ul={style:{"font-weight":"bolder"}},Pl={class:"item-container"},zl={style:{"font-weight":"bolder"}},Dl={class:"item-container"},Nl={style:{"font-weight":"bolder"}},$l={class:"item-container"},Ol={style:{"font-weight":"bolder"}},xl={class:"item-container"},Wl={style:{"font-weight":"bolder"}},ql={class:"item-container"},Kl={style:{"font-weight":"bolder"}},jl={class:"item-container"},Hl={style:{"font-weight":"bolder"}},Jl={class:"item-container"},Xl={style:{"font-weight":"bolder"}},Zl={class:"item-container"},Ql={style:{"font-weight":"bolder"}},Yl={class:"item-container"},ea={style:{"font-weight":"bolder"}},ta={class:"item-container"},na={style:{"font-weight":"bolder"}},la={class:"item-container"},aa={style:{display:"flex","justify-content":"flex-end"}},oa=sn({name:"settingsRoom"}),ia=Object.assign(oa,{setup(lt){const{t:T}=ln();an(async()=>{await h(),await He()});const ge=Ae(!1),{isMobile:k}=on(),N=rn(),Se=un(()=>N.isDark),fe=Ae(),ye=Ae(),ee=Ae(0),Be=r=>{p.value?ee.value>r&&(ee.value=r):ee.value>r&&(r===1&&we(),r===2&&$e(),ee.value=r)},Ze=()=>{p.value||(ee.value===2&&we(),ee.value===3&&$e()),ee.value--},ft=async()=>{if(p.value){if(ee.value===0){if(se.value.groundSetting!==""&&_e.value.caveSetting!==""){await _(!1),ee.value=0,ct("检测到刷新页面，已重置为单节点服务器");return}We.value.validate(r=>{r&&(L.value?(we(),ee.value++):($e(),ee.value++))})}if(ee.value===1&&We.value.validate(r=>{if(r)try{ut.parse(se.value.groundSetting),ee.value++}catch{ct(T("setting.luaError"))}}),ee.value===2&&Q.value)try{ut.parse(Q.value.modSetting),ee.value++}catch{ct(T("setting.luaError"))}}else if(ee.value===0)We.value.validate(r=>{if(r){if(M.value.masterPort===M.value.cavesPort){ct(T("setting.roomBaseFormRules.samePort"));return}we(),ee.value++}});else if(ee.value===1)De.value.validate(r=>{if(r)try{ut.parse(se.value.groundSetting),$e(),ee.value++}catch{ct(T("setting.luaError"))}});else if(ee.value===2)if(_e.value)try{ut.parse(_e.value.caveSetting),ee.value++}catch{ct(T("setting.luaError"))}else ee.value++;else if(ee.value===3)if(Q.value)try{ut.parse(Q.value.modSetting),ee.value++}catch{ct(T("setting.luaError"))}else ee.value++},We=Ae(),M=Ae({name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!0,password:"",token:"",masterPort:0,cavesPort:0,shardMasterPort:void 0,steamMasterPort:void 0,steamAuthenticationPort:void 0,shardMasterIp:void 0,clusterKey:void 0}),ze={name:[{required:!0,message:T("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:T("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:T("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:T("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:T("setting.roomBaseFormRules.token"),trigger:"blur"}]},De=Ae(),se=Ae({groundSetting:""}),Ke={groundSetting:[{required:!0,message:T("setting.roomGroundFormRules.groundSetting"),trigger:"blur"}]},Ne=Ae(),_e=Ae({caveSetting:""}),je={caveSetting:[{required:!0,message:T("setting.roomCaveFormRules.caveSetting"),trigger:"blur"}]},Qe=Ae(),Q=Ae({modSetting:""}),ue={modSetting:[{required:!0,message:T("setting.roomModFormRules.modSetting"),trigger:"blur"}]},le=(r,o)=>{r==="master"&&(o==="endless"&&(se.value.groundSetting=Dt.master),o==="survival"&&(se.value.groundSetting=Nt.master),we(),p.value&&(M.value.masterPort=11e3,M.value.cavesPort=0,M.value.shardMasterPort=10888,M.value.steamMasterPort=27018,M.value.steamAuthenticationPort=8768,M.value.shardMasterIp="127.0.0.1",M.value.clusterKey=void 0)),r==="caves"&&(o==="endless"&&(_e.value.caveSetting=Dt.caves),o==="survival"&&(_e.value.caveSetting=Nt.caves),$e(),p.value&&(M.value.masterPort=0,M.value.cavesPort=11001,M.value.shardMasterPort=10888,M.value.steamMasterPort=27019,M.value.steamAuthenticationPort=8769,M.value.shardMasterIp=void 0,M.value.clusterKey=void 0))},He=()=>{yt.room.get().then(r=>{M.value=r.data.base,se.value.groundSetting=r.data.ground,_e.value.caveSetting=r.data.cave,Q.value.modSetting=r.data.mod,se.value.groundSetting===""?L.value=!1:(_e.value.caveSetting,L.value=!0),M.value.masterPort===0&&(M.value.masterPort=11e3),M.value.cavesPort===0&&(M.value.cavesPort=11001)})},at=r=>{switch(r){case"save":mt();break;case"saveAndRestart":ot();break;case"generateNewWorld":it();break}},mt=()=>{const r={base:M.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.save.post(r).then(o=>{Ft(o.message),ge.value=!1}).finally(()=>{ge.value=!1})},ot=()=>{const r={base:M.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.saveAndRestart.post(r).then(o=>{Ft(o.message),ge.value=!1}).finally(()=>{ge.value=!1})},it=()=>{const r={base:M.value,ground:se.value.groundSetting,cave:_e.value.caveSetting,mod:Q.value.modSetting};ge.value=!0,yt.saveAndGenerate.post(r).then(o=>{ge.value=!1,Ft(o.message)}).finally(()=>{ge.value=!1})},Ye=Ae("Code"),re=Ae("Code"),A=Ae({}),we=()=>{if(se.value.groundSetting==="")return;const r=ut.parse(se.value.groundSetting),o=b(r);A.value=K(o)},$e=()=>{if(_e.value.caveSetting==="")return;const r=ut.parse(_e.value.caveSetting),o=b(r);A.value=K(o)};function b(r){const g=r.body[0].arguments[0];for(const w of g.fields)if(w.key.type==="Identifier"&&w.key.name==="overrides")return w.value;return null}function K(r){const o={};for(const g of r.fields){const w=g.key.name;o[w]=g.value.raw.replace(/"/g,"")}return o}const ae=r=>{const o=r.name,g=r.value,w=ut.parse(se.value.groundSetting),n=b(w);for(let s of n.fields)s.key.name===o&&(s.value.raw=`"${g}"`);const i=C(w);se.value.groundSetting=vt.Beautify(i,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),fe.value&&fe.value.refresh()},x=r=>{const o=r.name,g=r.value,w=ut.parse(_e.value.caveSetting),n=b(w);for(let s of n.fields)s.key.name===o&&(s.value.raw=`"${g}"`);const i=C(w);_e.value.caveSetting=vt.Beautify(i,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),ye.value&&ye.value.refresh()},C=(r,o=0)=>{const g="    ".repeat(o);switch(r.type){case"Chunk":return r.body.map(w=>C(w,o)).join(`
`);case"LocalStatement":return`${g}local ${r.variables.map(C).join(", ")} = ${r.init.map(C).join(", ")}`;case"FunctionDeclaration":return`${g}function ${C(r.identifier)}(${r.parameters.map(C).join(", ")}) 
${C(r.body,o+1)}
${g}end`;case"ReturnStatement":return`${g}return ${r.arguments.map(C).join(", ")}`;case"BinaryExpression":return`${C(r.left)} ${r.operator} ${C(r.right)}`;case"CallStatement":return`${g}${C(r.expression)}`;case"Identifier":return r.name;case"StringLiteral":return`${r.raw}`;case"NumericLiteral":return r.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${g}{ ${r.fields.map(w=>C(w,o+1)).join(`,
`+g)} }`;case"Field":return r.key?`${C(r.key)} = ${C(r.value)}`:C(r.value);case"AssignmentStatement":return`${g}${r.variables.map(C).join(", ")} = ${r.init.map(C).join(", ")}`;case"CallExpression":return`${C(r.base)}(${r.arguments.map(C).join(", ")})`;case"TableKeyString":return`${C(r.key)} = ${C(r.value)}`;case"BooleanLiteral":return r.raw;case"TableValue":return C(r.value);default:throw new Error(`Unsupported node type: ${r.type}`)}},p=Ae(!1),h=async()=>{await yt.multihost.get().then(r=>{p.value=r.data})},_=r=>{yt.multihost.post({multiHost:!p.value}).then(o=>{p.value=!p.value,r&&l()})},L=Ae(!0),l=()=>{se.value.groundSetting="",_e.value.caveSetting="",M.value.masterPort=void 0,M.value.cavesPort=void 0,M.value.shardMasterPort=void 0,M.value.steamMasterPort=void 0,M.value.steamAuthenticationPort=void 0,L.value?M.value.shardMasterIp="127.0.0.1":M.value.shardMasterIp=void 0,M.value.clusterKey=void 0},V={masterPort:[{required:!0,message:T("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:T("setting.roomWorldFormRules.cavesPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:T("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:T("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:T("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:T("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:T("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]};return(r,o)=>{const g=Ve("el-step"),w=Ve("el-steps"),n=Ve("el-card"),i=Ve("el-col"),s=Ve("el-row"),d=Ve("el-button"),F=Ve("el-input"),$=Ve("el-form-item"),te=Ve("el-tooltip"),Ee=Ve("el-input-number"),Le=Ve("el-radio"),de=Ve("el-radio-group"),q=Ve("el-switch"),Y=Ve("el-slider"),ve=Ve("el-link"),Oe=Ve("el-form"),Ge=Ve("el-tab-pane"),X=Ve("el-divider"),xe=Ve("el-tabs"),_t=Ve("el-alert"),gt=Ve("el-result"),pt=Ve("arrow-down"),ht=Ve("el-icon"),et=Ve("el-dropdown-item"),qe=Ve("el-dropdown-menu"),Je=Ve("el-dropdown");return v(),P("div",cn,[p.value?be("",!0):(v(),P(ne,{key:0},[m(s,{gutter:10},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:y(()=>[m(n,{shadow:"never"},{default:y(()=>[m(w,{active:ee.value,"align-center":"","finish-status":"success"},{default:y(()=>[m(g,{title:t(k)?r.$t("setting.roomSettingMobile"):r.$t("setting.roomSetting"),onClick:o[0]||(o[0]=e=>Be(0))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.groundSettingMobile"):r.$t("setting.groundSetting"),onClick:o[1]||(o[1]=e=>Be(1))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.caveSettingMobile"):r.$t("setting.caveSetting"),onClick:o[2]||(o[2]=e=>Be(2))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.modSettingMobile"):r.$t("setting.modSetting"),onClick:o[3]||(o[3]=e=>Be(3))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.finishSettingMobile"):r.$t("setting.finishSetting"),onClick:o[4]||(o[4]=e=>Be(4))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),m(s,{gutter:10,style:{"margin-top":"5px"}},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[ee.value===0?(v(),j(n,{key:0,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[U("div",mn,[U("span",null,R(t(T)("setting.roomSetting")),1),U("div",null,[m(d,{link:"",type:"primary",onClick:o[5]||(o[5]=e=>_(!0))},{default:y(()=>[H(R(t(T)("setting.baseForm.changeMultiHostMode")),1)]),_:1})])])]),default:y(()=>[m(Oe,{ref_key:"roomBaseFormRef",ref:We,"label-position":t(k)?"top":"left","label-width":t(k)?"70":"auto",model:M.value,rules:ze,size:t(k)?"small":"large"},{default:y(()=>[m($,{label:t(T)("setting.baseForm.room"),prop:"name"},{default:y(()=>[m(F,{modelValue:M.value.name,"onUpdate:modelValue":o[6]||(o[6]=e=>M.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.description"),prop:"description"},{default:y(()=>[m(F,{modelValue:M.value.description,"onUpdate:modelValue":o[7]||(o[7]=e=>M.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{prop:"masterPort"},{label:y(()=>[m(te,{content:t(T)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:y(()=>[H(R(t(T)("setting.baseForm.masterPort")),1)]),_:1},8,["content"])]),default:y(()=>[m(Ee,{modelValue:M.value.masterPort,"onUpdate:modelValue":o[8]||(o[8]=e=>M.value.masterPort=e),max:65535,min:1,size:t(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),m($,{prop:"cavesPort"},{label:y(()=>[m(te,{content:t(T)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:y(()=>[H(R(t(T)("setting.baseForm.cavesPort")),1)]),_:1},8,["content"])]),default:y(()=>[m(Ee,{modelValue:M.value.cavesPort,"onUpdate:modelValue":o[9]||(o[9]=e=>M.value.cavesPort=e),max:65535,min:1,size:t(k)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),m($,{label:t(T)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:y(()=>[m(de,{modelValue:M.value.gameMode,"onUpdate:modelValue":o[10]||(o[10]=e=>M.value.gameMode=e)},{default:y(()=>[m(Le,{label:r.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.pvp"),prop:"pvp"},{default:y(()=>[m(q,{modelValue:M.value.pvp,"onUpdate:modelValue":o[11]||(o[11]=e=>M.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.playerNum"),prop:"playerNum"},{default:y(()=>[m(Y,{modelValue:M.value.playerNum,"onUpdate:modelValue":o[12]||(o[12]=e=>M.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.backDays"),prop:"backDays"},{default:y(()=>[m(Y,{modelValue:M.value.backDays,"onUpdate:modelValue":o[13]||(o[13]=e=>M.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.vote"),prop:"vote"},{default:y(()=>[m(q,{modelValue:M.value.vote,"onUpdate:modelValue":o[14]||(o[14]=e=>M.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.password")},{default:y(()=>[m(F,{modelValue:M.value.password,"onUpdate:modelValue":o[15]||(o[15]=e=>M.value.password=e),"show-password":"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.token"),prop:"token"},{default:y(()=>[m(F,{modelValue:M.value.token,"onUpdate:modelValue":o[16]||(o[16]=e=>M.value.token=e),"show-password":""},null,8,["modelValue"]),U("div",gn,[m(ve,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:y(()=>[H(R(t(T)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===1?(v(),j(n,{key:1,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[m(xe,{modelValue:Ye.value,"onUpdate:modelValue":o[20]||(o[20]=e=>Ye.value=e)},{default:y(()=>[m(Ge,{label:t(T)("setting.tabCode"),name:"Code"},{default:y(()=>[M.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:o[17]||(o[17]=e=>le("master","endless"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),M.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:o[18]||(o[18]=e=>le("master","survival"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0),m(Oe,{ref_key:"roomGroundFormRef",ref:De,"label-width":t(k)?"70":"100",model:se.value,rules:Ke,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m($,{"label-position":"top",prop:"groundSetting"},{default:y(()=>[m(Tt,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:se.value.groundSetting,"onUpdate:modelValue":o[19]||(o[19]=e=>se.value.groundSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&se.value.groundSetting!==""?(v(),j(Ge,{key:0,label:t(T)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[m(X,{"content-position":"center"},{default:y(()=>[U("span",pn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),U("div",hn,[(v(!0),P(ne,null,oe(t(Re).global,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Tn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),U("div",yn,[(v(!0),P(ne,null,oe(t(Re).events,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",_n,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),U("div",vn,[(v(!0),P(ne,null,oe(t(Re).survivors,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",kn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),U("div",bn,[(v(!0),P(ne,null,oe(t(Re).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Vn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",Sn,[(v(!0),P(ne,null,oe(t(Re).resourceRegrowth,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Ln,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),U("div",Cn,[(v(!0),P(ne,null,oe(t(Re).unnaturalPortalResource,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",wn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),U("div",En,[(v(!0),P(ne,null,oe(t(Re).creatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Fn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",Mn,[(v(!0),P(ne,null,oe(t(Re).hostileCreatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Rn,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),U("div",An,[(v(!0),P(ne,null,oe(t(Re).giants,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Bn,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),U("div",Gn,[(v(!0),P(ne,null,oe(t(tt).global,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",In,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),U("div",Un,[(v(!0),P(ne,null,oe(t(tt).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Pn,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),U("div",zn,[(v(!0),P(ne,null,oe(t(tt).resources,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Dn,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",Nn,[(v(!0),P(ne,null,oe(t(tt).creaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",$n,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",On,[(v(!0),P(ne,null,oe(t(tt).hostileCreaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):be("",!0),ee.value===2?(v(),j(n,{key:2,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[m(xe,{modelValue:re.value,"onUpdate:modelValue":o[24]||(o[24]=e=>re.value=e)},{default:y(()=>[m(Ge,{label:t(T)("setting.tabCode"),name:"Code"},{default:y(()=>[m(_t,{closable:!1,effect:Se.value?"light":"dark",type:"success"},{default:y(()=>[H(R(t(T)("setting.cavesTip")),1)]),_:1},8,["effect"]),U("div",xn,[M.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:o[21]||(o[21]=e=>le("caves","endless"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),M.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:o[22]||(o[22]=e=>le("caves","survival"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0)]),m(Oe,{ref_key:"roomCaveFormRef",ref:Ne,"label-width":t(k)?"70":"100",model:_e.value,rules:je,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m($,{"label-position":"top",prop:"caveSetting"},{default:y(()=>[m(Tt,{ref_key:"editorCavesSettingRef",ref:ye,modelValue:_e.value.caveSetting,"onUpdate:modelValue":o[23]||(o[23]=e=>_e.value.caveSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&_e.value.caveSetting!==""?(v(),j(Ge,{key:0,label:t(T)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[m(X,{"content-position":"center"},{default:y(()=>[U("span",Wn,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),U("div",qn,[(v(!0),P(ne,null,oe(t(nt).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Kn,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",jn,[(v(!0),P(ne,null,oe(t(nt).resourceRegrowth,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Hn,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),U("div",Jn,[(v(!0),P(ne,null,oe(t(nt).creatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Xn,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",Zn,[(v(!0),P(ne,null,oe(t(nt).hostileCreatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Qn,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),U("div",Yn,[(v(!0),P(ne,null,oe(t(nt).giants,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",el,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),U("div",tl,[(v(!0),P(ne,null,oe(t(st).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(dt)[e].configs,customConfigsValue:t(dt)[e].customConfigsValue,i18n:t(dt)[e].i18n,image:t(dt)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",nl,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),U("div",ll,[(v(!0),P(ne,null,oe(t(st).resources,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",al,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",ol,[(v(!0),P(ne,null,oe(t(st).creaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",il,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",rl,[(v(!0),P(ne,null,oe(t(st).hostileCreaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):be("",!0),ee.value===3?(v(),j(n,{key:3,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[m(Oe,{ref_key:"roomModFormRef",ref:Qe,"label-width":t(k)?"70":"100",model:Q.value,rules:ue,size:t(k)?"small":"large"},{default:y(()=>[m($,{"label-position":"top",prop:"modSetting"},{default:y(()=>[m(Tt,{ref:"editor",modelValue:Q.value.modSetting,"onUpdate:modelValue":o[25]||(o[25]=e=>Q.value.modSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===4?(v(),j(n,{key:4,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[U("div",{style:Xe(t(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[m(gt,{"sub-title":r.$t("setting.finish.description"),title:r.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):be("",!0)]),_:1})]),_:1}),m(s,{gutter:10},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[m(n,{shadow:"never"},{default:y(()=>[U("div",ul,[ee.value>0?(v(),j(d,{key:0,onClick:Ze},{default:y(()=>[H(R(t(T)("setting.button.prev")),1)]),_:1})):be("",!0),ee.value<4?(v(),j(d,{key:1,type:"primary",onClick:ft},{default:y(()=>[H(R(t(T)("setting.button.next")),1)]),_:1})):be("",!0),ee.value===4?(v(),j(Je,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:at},{dropdown:y(()=>[m(qe,null,{default:y(()=>[m(et,{command:"save"},{default:y(()=>[H(R(t(T)("setting.button.save")),1)]),_:1}),m(et,{command:"saveAndRestart"},{default:y(()=>[H(R(t(T)("setting.button.saveAndRestart")),1)]),_:1}),m(et,{command:"generateNewWorld"},{default:y(()=>[H(R(t(T)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:y(()=>[m(d,{loading:ge.value,type:"warning"},{default:y(()=>[H(R(t(T)("setting.button.actions"))+" ",1),m(ht,{class:"el-icon--right"},{default:y(()=>[m(pt)]),_:1})]),_:1},8,["loading"])]),_:1})):be("",!0)])]),_:1})]),_:1})]),_:1})],64)),p.value?(v(),P(ne,{key:1},[m(s,{gutter:10},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:y(()=>[m(n,{shadow:"never"},{default:y(()=>[m(w,{active:ee.value,"align-center":"","finish-status":"success"},{default:y(()=>[m(g,{title:t(k)?r.$t("setting.roomSettingMobile"):r.$t("setting.roomSetting"),onClick:o[26]||(o[26]=e=>Be(0))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.worldSettingMobile"):r.$t("setting.worldSetting"),onClick:o[27]||(o[27]=e=>Be(1))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.modSettingMobile"):r.$t("setting.modSetting"),onClick:o[28]||(o[28]=e=>Be(3))},null,8,["title"]),m(g,{title:t(k)?r.$t("setting.finishSettingMobile"):r.$t("setting.finishSetting"),onClick:o[29]||(o[29]=e=>Be(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),m(s,{gutter:10,style:{"margin-top":"5px"}},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[ee.value===0?(v(),j(n,{key:0,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[U("div",sl,[U("span",null,R(t(T)("setting.roomSetting")),1),U("div",null,[m(d,{link:"",type:"primary",onClick:o[30]||(o[30]=e=>_(!1))},{default:y(()=>[H(R(t(T)("setting.baseForm.changeSingleHostMode")),1)]),_:1})])])]),default:y(()=>[m(Oe,{ref_key:"roomBaseFormRef",ref:We,"label-position":t(k)?"top":"left","label-width":t(k)?"70":"auto",model:M.value,rules:ze,size:t(k)?"small":"large"},{default:y(()=>[m($,{label:t(T)("setting.baseForm.room"),prop:"name"},{default:y(()=>[m(F,{modelValue:M.value.name,"onUpdate:modelValue":o[31]||(o[31]=e=>M.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.description"),prop:"description"},{default:y(()=>[m(F,{modelValue:M.value.description,"onUpdate:modelValue":o[32]||(o[32]=e=>M.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:y(()=>[m(de,{modelValue:M.value.gameMode,"onUpdate:modelValue":o[33]||(o[33]=e=>M.value.gameMode=e)},{default:y(()=>[m(Le,{label:r.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),m(Le,{label:r.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.pvp"),prop:"pvp"},{default:y(()=>[m(q,{modelValue:M.value.pvp,"onUpdate:modelValue":o[34]||(o[34]=e=>M.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.playerNum"),prop:"playerNum"},{default:y(()=>[m(Y,{modelValue:M.value.playerNum,"onUpdate:modelValue":o[35]||(o[35]=e=>M.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.backDays"),prop:"backDays"},{default:y(()=>[m(Y,{modelValue:M.value.backDays,"onUpdate:modelValue":o[36]||(o[36]=e=>M.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.vote"),prop:"vote"},{default:y(()=>[m(q,{modelValue:M.value.vote,"onUpdate:modelValue":o[37]||(o[37]=e=>M.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.password")},{default:y(()=>[m(F,{modelValue:M.value.password,"onUpdate:modelValue":o[38]||(o[38]=e=>M.value.password=e),"show-password":"",autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["label"]),m($,{label:t(T)("setting.baseForm.token"),prop:"token"},{default:y(()=>[m(F,{modelValue:M.value.token,"onUpdate:modelValue":o[39]||(o[39]=e=>M.value.token=e),"show-password":""},null,8,["modelValue"]),U("div",dl,[m(ve,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:y(()=>[H(R(t(T)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===1?(v(),j(n,{key:1,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:y(()=>[U("div",fl,[U("div",null,[m(de,{modelValue:L.value,"onUpdate:modelValue":o[40]||(o[40]=e=>L.value=e),onChange:l},{default:y(()=>[m(Le,{value:!0,size:"small"},{default:y(()=>[H(R(t(T)("setting.groundSettingMobile")),1)]),_:1}),m(Le,{value:!1,size:"small"},{default:y(()=>[H(R(t(T)("setting.caveSettingMobile")),1)]),_:1})]),_:1},8,["modelValue"])])])]),default:y(()=>[L.value?(v(),j(xe,{key:0,modelValue:Ye.value,"onUpdate:modelValue":o[50]||(o[50]=e=>Ye.value=e)},{default:y(()=>[m(Ge,{label:t(T)("setting.tabCode"),name:"Code"},{default:y(()=>[M.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:o[41]||(o[41]=e=>le("master","endless"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),M.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:o[42]||(o[42]=e=>le("master","survival"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0),m(Oe,{ref_key:"roomBaseFormRef",ref:We,model:M.value,inline:"","label-width":t(k)?"70":"100","label-position":"top",rules:V,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m(te,{effect:"light","show-after":500,content:"server.ini - [NETWORK] - server_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.masterPort"),prop:"masterPort"},{default:y(()=>[m(F,{modelValue:M.value.masterPort,"onUpdate:modelValue":o[43]||(o[43]=e=>M.value.masterPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort"},{default:y(()=>[m(F,{modelValue:M.value.shardMasterPort,"onUpdate:modelValue":o[44]||(o[44]=e=>M.value.shardMasterPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - server_master_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort"},{default:y(()=>[m(F,{modelValue:M.value.steamMasterPort,"onUpdate:modelValue":o[45]||(o[45]=e=>M.value.steamMasterPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - authentication_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort"},{default:y(()=>[m(F,{modelValue:M.value.steamAuthenticationPort,"onUpdate:modelValue":o[46]||(o[46]=e=>M.value.steamAuthenticationPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_ip",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:"Master IP",prop:"shardMasterIp"},{default:y(()=>[m(F,{modelValue:M.value.shardMasterIp,"onUpdate:modelValue":o[47]||(o[47]=e=>M.value.shardMasterIp=e),disabled:"",size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - cluster_key",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.clusterKey"),prop:"clusterKey"},{default:y(()=>[m(F,{modelValue:M.value.clusterKey,"onUpdate:modelValue":o[48]||(o[48]=e=>M.value.clusterKey=e),type:"password","show-password":"",autocomplete:"new-password",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","label-width","size"]),m(Oe,{ref_key:"roomGroundFormRef",ref:De,"label-width":t(k)?"70":"100",model:se.value,rules:Ke,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.groundSetting"),prop:"groundSetting"},{default:y(()=>[m(Tt,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:se.value.groundSetting,"onUpdate:modelValue":o[49]||(o[49]=e=>se.value.groundSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&se.value.groundSetting!==""?(v(),j(Ge,{key:0,label:t(T)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[m(X,{"content-position":"center"},{default:y(()=>[U("span",cl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),U("div",ml,[(v(!0),P(ne,null,oe(t(Re).global,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",gl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),U("div",pl,[(v(!0),P(ne,null,oe(t(Re).events,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",hl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),U("div",Tl,[(v(!0),P(ne,null,oe(t(Re).survivors,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",yl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),U("div",_l,[(v(!0),P(ne,null,oe(t(Re).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",vl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",kl,[(v(!0),P(ne,null,oe(t(Re).resourceRegrowth,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",bl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),U("div",Vl,[(v(!0),P(ne,null,oe(t(Re).unnaturalPortalResource,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Sl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),U("div",Ll,[(v(!0),P(ne,null,oe(t(Re).creatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Cl,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",wl,[(v(!0),P(ne,null,oe(t(Re).hostileCreatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",El,R(t(T)("setting.groundVisualizationRule")),1),H(" - "+R(t(T)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),U("div",Fl,[(v(!0),P(ne,null,oe(t(Re).giants,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Ml,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),U("div",Rl,[(v(!0),P(ne,null,oe(t(tt).global,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Al,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),U("div",Bl,[(v(!0),P(ne,null,oe(t(tt).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Gl,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),U("div",Il,[(v(!0),P(ne,null,oe(t(tt).resources,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Ul,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",Pl,[(v(!0),P(ne,null,oe(t(tt).creaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",zl,R(t(T)("setting.groundVisualizationGeneration")),1),H(" - "+R(t(T)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",Dl,[(v(!0),P(ne,null,oe(t(tt).hostileCreaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:ae},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"])):(v(),j(xe,{key:1,modelValue:re.value,"onUpdate:modelValue":o[60]||(o[60]=e=>re.value=e)},{default:y(()=>[m(Ge,{label:t(T)("setting.tabCode"),name:"Code"},{default:y(()=>[U("div",null,[M.value.gameMode==="endless"?(v(),j(d,{key:0,type:"primary",onClick:o[51]||(o[51]=e=>le("caves","endless"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.endless")),1)]),_:1})):be("",!0),M.value.gameMode==="survival"?(v(),j(d,{key:1,type:"primary",onClick:o[52]||(o[52]=e=>le("caves","survival"))},{default:y(()=>[H(R(t(T)("setting.luaImportButton.survival")),1)]),_:1})):be("",!0)]),m(Oe,{ref_key:"roomBaseFormRef",ref:We,model:M.value,inline:"","label-width":t(k)?"70":"100","label-position":"top",rules:V,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m(te,{effect:"light","show-after":500,content:"server.ini - [NETWORK] - server_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.cavesPort"),prop:"cavesPort"},{default:y(()=>[m(F,{modelValue:M.value.cavesPort,"onUpdate:modelValue":o[53]||(o[53]=e=>M.value.cavesPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.shardMasterPort"),prop:"shardMasterPort"},{default:y(()=>[m(F,{modelValue:M.value.shardMasterPort,"onUpdate:modelValue":o[54]||(o[54]=e=>M.value.shardMasterPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - server_master_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.steamMasterPort"),prop:"steamMasterPort"},{default:y(()=>[m(F,{modelValue:M.value.steamMasterPort,"onUpdate:modelValue":o[55]||(o[55]=e=>M.value.steamMasterPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"server.ini - [STEAM] - authentication_port",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.steamAuthenticationPort"),prop:"steamAuthenticationPort"},{default:y(()=>[m(F,{modelValue:M.value.steamAuthenticationPort,"onUpdate:modelValue":o[56]||(o[56]=e=>M.value.steamAuthenticationPort=e),type:"number",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - master_ip",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:"Master IP",prop:"shardMasterIp"},{default:y(()=>[m(F,{modelValue:M.value.shardMasterIp,"onUpdate:modelValue":o[57]||(o[57]=e=>M.value.shardMasterIp=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),m(te,{effect:"light","show-after":500,content:"cluster.ini - [SHARD] - cluster_key",placement:"top"},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.clusterKey"),prop:"clusterKey"},{default:y(()=>[m(F,{modelValue:M.value.clusterKey,"onUpdate:modelValue":o[58]||(o[58]=e=>M.value.clusterKey=e),type:"password","show-password":"",autocomplete:"new-password",size:"default"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","label-width","size"]),m(Oe,{ref_key:"roomCaveFormRef",ref:Ne,"label-width":t(k)?"70":"100",model:_e.value,rules:je,size:t(k)?"small":"large",style:{"margin-top":"10px"}},{default:y(()=>[m($,{"label-position":"top",label:t(T)("setting.roomWorldForm.caveSetting"),prop:"caveSetting"},{default:y(()=>[m(Tt,{ref_key:"editorCavesSettingRef",ref:ye,modelValue:_e.value.caveSetting,"onUpdate:modelValue":o[59]||(o[59]=e=>_e.value.caveSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(M.value.gameMode==="endless"||M.value.gameMode==="survival")&&_e.value.caveSetting!==""?(v(),j(Ge,{key:0,label:t(T)("setting.tabVisualization"),name:"Visualization"},{default:y(()=>[m(X,{"content-position":"center"},{default:y(()=>[U("span",Nl,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),U("div",$l,[(v(!0),P(ne,null,oe(t(nt).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Ol,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),U("div",xl,[(v(!0),P(ne,null,oe(t(nt).resourceRegrowth,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Wl,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),U("div",ql,[(v(!0),P(ne,null,oe(t(nt).creatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Kl,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),U("div",jl,[(v(!0),P(ne,null,oe(t(nt).hostileCreatures,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Hl,R(t(T)("setting.cavesVisualizationRule")),1),H(" - "+R(t(T)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),U("div",Jl,[(v(!0),P(ne,null,oe(t(nt).giants,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Xl,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),U("div",Zl,[(v(!0),P(ne,null,oe(t(st).world,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(dt)[e].configs,customConfigsValue:t(dt)[e].customConfigsValue,i18n:t(dt)[e].i18n,image:t(dt)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",Ql,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),U("div",Yl,[(v(!0),P(ne,null,oe(t(st).resources,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",ea,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),U("div",ta,[(v(!0),P(ne,null,oe(t(st).creaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))]),m(X,{"content-position":"center"},{default:y(()=>[U("span",na,R(t(T)("setting.cavesVisualizationGeneration")),1),H(" - "+R(t(T)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),U("div",la,[(v(!0),P(ne,null,oe(t(st).hostileCreaturesAndSpawners,e=>(v(),P("div",null,[(v(),j(ie,{modelValue:A.value[e],"onUpdate:modelValue":c=>A.value[e]=c,configs:t(f)[e].configs,customConfigsValue:t(f)[e].customConfigsValue,i18n:t(f)[e].i18n,image:t(f)[e].image,name:e,defaultModelValue:t(f)[e].modelValue,key:new Date().getTime(),onChangeModelValue:x},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","i18n","image","name","defaultModelValue"]))]))),256))])]),_:1},8,["label"])):be("",!0)]),_:1},8,["modelValue"]))]),_:1},8,["style"])):be("",!0),ee.value===2?(v(),j(n,{key:2,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[m(Oe,{ref_key:"roomModFormRef",ref:Qe,"label-width":t(k)?"70":"100",model:Q.value,rules:ue,size:t(k)?"small":"large"},{default:y(()=>[m($,{"label-position":"top",prop:"modSetting"},{default:y(()=>[m(Tt,{ref:"editor",modelValue:Q.value.modSetting,"onUpdate:modelValue":o[61]||(o[61]=e=>Q.value.modSetting=e),height:t(k)?320:500,theme:Se.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):be("",!0),ee.value===3?(v(),j(n,{key:3,style:Xe(t(k)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:y(()=>[U("div",{style:Xe(t(k)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[m(gt,{"sub-title":r.$t("setting.finish.description"),title:r.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):be("",!0)]),_:1})]),_:1}),m(s,{gutter:10},{default:y(()=>[m(i,{lg:24,md:24,sm:24,span:24,xs:24},{default:y(()=>[m(n,{shadow:"never"},{default:y(()=>[U("div",aa,[ee.value>0?(v(),j(d,{key:0,onClick:Ze},{default:y(()=>[H(R(t(T)("setting.button.prev")),1)]),_:1})):be("",!0),ee.value<3?(v(),j(d,{key:1,type:"primary",onClick:ft},{default:y(()=>[H(R(t(T)("setting.button.next")),1)]),_:1})):be("",!0),ee.value===3?(v(),j(Je,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:at},{dropdown:y(()=>[m(qe,null,{default:y(()=>[m(et,{command:"save"},{default:y(()=>[H(R(t(T)("setting.button.save")),1)]),_:1}),m(et,{command:"saveAndRestart"},{default:y(()=>[H(R(t(T)("setting.button.saveAndRestart")),1)]),_:1}),m(et,{command:"generateNewWorld"},{default:y(()=>[H(R(t(T)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:y(()=>[m(d,{loading:ge.value,type:"warning"},{default:y(()=>[H(R(t(T)("setting.button.actions"))+" ",1),m(ht,{class:"el-icon--right"},{default:y(()=>[m(pt)]),_:1})]),_:1},8,["loading"])]),_:1})):be("",!0)])]),_:1})]),_:1})]),_:1})],64)):be("",!0)])}}}),fa=nn(ia,[["__scopeId","data-v-25340156"]]);export{fa as default};
