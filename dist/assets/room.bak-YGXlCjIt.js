import{_ as il,u as dl,o as rl,r as W,a as ml,g as gl,c as Ze,D as fl,G as cl,b as vl,H as Vl,a8 as de,w as pl,I as ue,J as U,e as s,f as g,F as _,j as a,k as o,i as l,m as V,x as E,l as m,t as i,p,q as z,v as y,a0 as hl,C as L,A as ke}from"./index-C-KsYsfv.js";import{s as re}from"./index-B42rjdS-.js";import{l as J,e as Ne,s as el,a as ll}from"./leveldataoverride-Jq7mjNil.js";import{g as G,_ as C,o as t,a as Q,c as X,b as te,d as ae}from"./levelDataSetting-BAetVC9z.js";const _l={class:"page-div"},bl={class:"card-header"},yl={class:"el-form-item-msg"},Cl={style:{"font-weight":"bolder"}},Ml={class:"item-container"},wl={style:{"font-weight":"bolder"}},kl={class:"item-container"},zl={style:{"font-weight":"bolder"}},Sl={class:"item-container"},Rl={style:{"font-weight":"bolder"}},Ul={class:"item-container"},Fl={style:{"font-weight":"bolder"}},Pl={class:"item-container"},$l={style:{"font-weight":"bolder"}},Il={class:"item-container"},Al={style:{"font-weight":"bolder"}},Gl={class:"item-container"},xl={style:{"font-weight":"bolder"}},Wl={class:"item-container"},Tl={style:{"font-weight":"bolder"}},Bl={class:"item-container"},ql={style:{"font-weight":"bolder"}},Dl={class:"item-container"},Kl={style:{"font-weight":"bolder"}},jl={class:"item-container"},El={style:{"font-weight":"bolder"}},Hl={class:"item-container"},Ol={style:{"font-weight":"bolder"}},Ll={class:"item-container"},Jl={style:{"font-weight":"bolder"}},Ql={class:"item-container"},Xl={style:{"margin-top":"10px"}},Yl={style:{"font-weight":"bolder"}},Zl={class:"item-container"},Nl={style:{"font-weight":"bolder"}},et={class:"item-container"},lt={style:{"font-weight":"bolder"}},tt={class:"item-container"},at={style:{"font-weight":"bolder"}},ot={class:"item-container"},nt={style:{"font-weight":"bolder"}},ut={class:"item-container"},st={style:{"font-weight":"bolder"}},it={class:"item-container"},dt={style:{"font-weight":"bolder"}},rt={class:"item-container"},mt={style:{"font-weight":"bolder"}},gt={class:"item-container"},ft={style:{"font-weight":"bolder"}},ct={class:"item-container"},vt={style:{display:"flex","justify-content":"flex-end"}},Vt={class:"card-header"},pt={class:"el-form-item-msg"},ht={class:"card-header"},_t={style:{"font-weight":"bolder"}},bt={class:"item-container"},yt={style:{"font-weight":"bolder"}},Ct={class:"item-container"},Mt={style:{"font-weight":"bolder"}},wt={class:"item-container"},kt={style:{"font-weight":"bolder"}},zt={class:"item-container"},St={style:{"font-weight":"bolder"}},Rt={class:"item-container"},Ut={style:{"font-weight":"bolder"}},Ft={class:"item-container"},Pt={style:{"font-weight":"bolder"}},$t={class:"item-container"},It={style:{"font-weight":"bolder"}},At={class:"item-container"},Gt={style:{"font-weight":"bolder"}},xt={class:"item-container"},Wt={style:{"font-weight":"bolder"}},Tt={class:"item-container"},Bt={style:{"font-weight":"bolder"}},qt={class:"item-container"},Dt={style:{"font-weight":"bolder"}},Kt={class:"item-container"},jt={style:{"font-weight":"bolder"}},Et={class:"item-container"},Ht={style:{"font-weight":"bolder"}},Ot={class:"item-container"},Lt={style:{"font-weight":"bolder"}},Jt={class:"item-container"},Qt={style:{"font-weight":"bolder"}},Xt={class:"item-container"},Yt={style:{"font-weight":"bolder"}},Zt={class:"item-container"},Nt={style:{"font-weight":"bolder"}},ea={class:"item-container"},la={style:{"font-weight":"bolder"}},ta={class:"item-container"},aa={style:{"font-weight":"bolder"}},oa={class:"item-container"},na={style:{"font-weight":"bolder"}},ua={class:"item-container"},sa={style:{"font-weight":"bolder"}},ia={class:"item-container"},da={style:{"font-weight":"bolder"}},ra={class:"item-container"},ma={style:{display:"flex","justify-content":"flex-end"}},ga=hl({name:"settingsRoom"}),fa=Object.assign(ga,{setup(ca){const{t:n}=dl();rl(async()=>{await ul(),await tl()});const D=W(!1),{isMobile:h}=ml(),ye=gl(),oe=Ze(()=>ye.isDark),ze=Ze(()=>ye.language),me=fl();cl();const Se=vl(),Re=Vl("refresh"),ge=()=>{setTimeout(()=>{me.meta.isKeepAlive&&Se.removeKeepAliveName(me.name),Re(!1),ue(()=>{me.meta.isKeepAlive&&Se.addKeepAliveName(me.name),Re(!0)})},0)},fe=W(),se=W(),M=W(0),Y=d=>{K.value?M.value>d&&(M.value=d):M.value>d&&(d===1&&Be(),d===2&&qe(),M.value=d)},Ue=()=>{K.value||(M.value,M.value),M.value--},Fe=async()=>{if(K.value){if(M.value===0){if(F.value.groundSetting!==""&&R.value.caveSetting!==""){await Me(!1),M.value=0,L("检测到刷新页面，已重置为单节点服务器");return}ne.value.validate(d=>{d&&(Z.value,M.value++)})}if(M.value===1&&ne.value.validate(d=>{d&&(Z.value?ce.value.validate(u=>{if(u)try{J.parse(F.value.groundSetting),M.value++}catch{L(n("setting.luaError"))}}):Ce.value.validate(u=>{if(u)try{J.parse(R.value.caveSetting),M.value++}catch{L(n("setting.luaError"))}}))}),M.value===2&&B.value)try{J.parse(B.value.modSetting),M.value++}catch{L(n("setting.luaError"))}}else if(M.value===0)ne.value.validate(d=>{if(d){if(r.value.masterPort===r.value.cavesPort){L(n("setting.roomBaseFormRules.samePort"));return}M.value++}});else if(M.value===1)ce.value.validate(d=>{if(d)try{J.parse(F.value.groundSetting),M.value++}catch{L(n("setting.luaError"))}});else if(M.value===2)if(R.value)try{J.parse(R.value.caveSetting),M.value++}catch{L(n("setting.luaError"))}else M.value++;else if(M.value===3)if(B.value)try{J.parse(B.value.modSetting),M.value++}catch{L(n("setting.luaError"))}else M.value++},ne=W(),r=W({name:"",description:"",gameMode:"",pvp:!1,playerNum:6,backDays:10,vote:!0,password:"",token:"",masterPort:0,cavesPort:0,shardMasterPort:void 0,steamMasterPort:void 0,steamAuthenticationPort:void 0,shardMasterIp:void 0,clusterKey:void 0}),Pe={name:[{required:!0,message:n("setting.roomBaseFormRules.name"),trigger:"blur"}],masterPort:[{required:!0,message:n("setting.roomBaseFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:n("setting.roomBaseFormRules.cavesPort"),trigger:"blur"}],gameMode:[{required:!0,message:n("setting.roomBaseFormRules.gameMode"),trigger:"change"}],token:[{required:!0,message:n("setting.roomBaseFormRules.token"),trigger:"blur"}]},ce=W(),F=W({groundSetting:""}),$e={groundSetting:[{required:!0,message:n("setting.roomGroundFormRules.groundSetting"),trigger:"blur"}]},Ce=W(),R=W({caveSetting:""}),Ie={caveSetting:[{required:!0,message:n("setting.roomCaveFormRules.caveSetting"),trigger:"blur"}]},Ae=W(),B=W({modSetting:""}),Ge={modSetting:[{required:!0,message:n("setting.roomModFormRules.modSetting"),trigger:"blur"}]},ee=(d,u)=>{d==="master"&&(u==="endless"&&(F.value.groundSetting=Ne.master),u==="survival"&&(F.value.groundSetting=el.master),K.value&&(r.value.masterPort=11e3,r.value.cavesPort=0,r.value.shardMasterPort=10888,r.value.steamMasterPort=27018,r.value.steamAuthenticationPort=8768,r.value.shardMasterIp="127.0.0.1",r.value.clusterKey=void 0)),d==="caves"&&(u==="endless"&&(R.value.caveSetting=Ne.caves),u==="survival"&&(R.value.caveSetting=el.caves),K.value&&(r.value.masterPort=0,r.value.cavesPort=11001,r.value.shardMasterPort=10888,r.value.steamMasterPort=27019,r.value.steamAuthenticationPort=8769,r.value.shardMasterIp=void 0,r.value.clusterKey=void 0))},tl=()=>{de.room.get().then(d=>{r.value=d.data.base,F.value.groundSetting=d.data.ground,R.value.caveSetting=d.data.cave,B.value.modSetting=d.data.mod,F.value.groundSetting===""?Z.value=!1:(R.value.caveSetting,Z.value=!0),r.value.masterPort===0&&(r.value.masterPort=11e3),r.value.cavesPort===0&&(r.value.cavesPort=11001)})},xe=d=>{switch(d){case"save":al();break;case"saveAndRestart":ol();break;case"generateNewWorld":nl();break}},al=()=>{const d={base:r.value,ground:F.value.groundSetting,cave:R.value.caveSetting,mod:B.value.modSetting};D.value=!0,de.save.post(d).then(u=>{ke(u.message),D.value=!1}).finally(()=>{D.value=!1,ue(()=>{ge()})})},ol=()=>{const d={base:r.value,ground:F.value.groundSetting,cave:R.value.caveSetting,mod:B.value.modSetting};D.value=!0,de.saveAndRestart.post(d).then(u=>{ke(u.message),D.value=!1}).finally(()=>{D.value=!1,ue(()=>{ge()})})},nl=()=>{const d={base:r.value,ground:F.value.groundSetting,cave:R.value.caveSetting,mod:B.value.modSetting};D.value=!0,de.saveAndGenerate.post(d).then(u=>{D.value=!1,ke(u.message)}).finally(()=>{D.value=!1,ue(()=>{ge()})})},ve=W("Code"),Ve=W("Code"),We=d=>{if(d==="Visualization")try{Be()}catch{L(ze.value==="zh"?"可视化配置加载失败":"Visualization load failed")}d==="Code"&&(F.value.groundSetting=Ke(F.value.groundSetting),ue(()=>{fe.value&&fe.value.refresh()}))},Te=d=>{if(d==="Visualization")try{qe()}catch{L(ze.value==="zh"?"可视化配置加载失败":"Visualization load failed")}d==="Code"&&(R.value.caveSetting=Ke(R.value.caveSetting),ue(()=>{se.value&&se.value.refresh()}))},f=W({}),Be=()=>{if(F.value.groundSetting==="")return;const d=J.parse(F.value.groundSetting),u=pe(d);f.value=De(u)},qe=()=>{if(R.value.caveSetting==="")return;const d=J.parse(R.value.caveSetting),u=pe(d);f.value=De(u)};function pe(d){const k=d.body[0].arguments[0];for(const A of k.fields)if(A.key.type==="Identifier"&&A.key.name==="overrides")return A.value;return null}function De(d){const u={};for(const k of d.fields){const A=k.key.name;u[A]=k.value.raw.replace(/"/g,"")}return u}const Ke=d=>{let u=ll.Beautify(d,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1});return u=u.replace(/--\[\[\n\t.+\n\t.+\n--]]\n\n\n\n\n/g,""),u=u.replace(/ = /g,"="),u=u.replace(/\t/g,"  "),u=u.replace(/overrides=\{ +(.+)\n/g,`overrides={
    $1
`),u=u.replace(/^(\w+)=(.+)\n/gm,`    $1=$2
`),u=u.replace(/(.+)},\n/g,`$1
  },
`),u=u.replace(/^ +?\n/gm,""),u},S=d=>{const u=d.name,k=d.value,A=J.parse(F.value.groundSetting),x=pe(A);for(let j of x.fields)j.key.name===u&&(j.value.raw=`"${k}"`);F.value.groundSetting=P(A)},I=d=>{const u=d.name,k=d.value,A=J.parse(R.value.caveSetting),x=pe(A);for(let N of x.fields)N.key.name===u&&(N.value.raw=`"${k}"`);const j=P(A);R.value.caveSetting=ll.Beautify(j,{RenameVariables:!1,RenameGlobals:!1,SolveMath:!1}),se.value&&se.value.refresh()},P=(d,u=0)=>{const k="    ".repeat(u);switch(d.type){case"Chunk":return d.body.map(A=>P(A,u)).join(`
`);case"LocalStatement":return`${k}local ${d.variables.map(P).join(", ")} = ${d.init.map(P).join(", ")}`;case"FunctionDeclaration":return`${k}function ${P(d.identifier)}(${d.parameters.map(P).join(", ")}) 
${P(d.body,u+1)}
${k}end`;case"ReturnStatement":return`${k}return ${d.arguments.map(P).join(", ")}`;case"BinaryExpression":return`${P(d.left)} ${d.operator} ${P(d.right)}`;case"CallStatement":return`${k}${P(d.expression)}`;case"Identifier":return d.name;case"StringLiteral":return`${d.raw}`;case"NumericLiteral":return d.raw;case"VarargLiteral":return"...";case"TableConstructorExpression":return`${k}{ ${d.fields.map(A=>P(A,u+1)).join(`,
`+k)} }`;case"Field":return d.key?`${P(d.key)} = ${P(d.value)}`:P(d.value);case"AssignmentStatement":return`${k}${d.variables.map(P).join(", ")} = ${d.init.map(P).join(", ")}`;case"CallExpression":return`${P(d.base)}(${d.arguments.map(P).join(", ")})`;case"TableKeyString":return`${P(d.key)} = ${P(d.value)}`;case"BooleanLiteral":return d.raw;case"TableValue":return P(d.value);default:throw new Error(`Unsupported node type: ${d.type}`)}},K=W(!1),ul=async()=>{await de.multihost.get().then(d=>{K.value=d.data})},Me=d=>{de.multihost.post({multiHost:!K.value}).then(u=>{K.value=!K.value,d&&je()})},Z=W(!0),je=()=>{F.value.groundSetting="",R.value.caveSetting="",r.value.masterPort=void 0,r.value.cavesPort=void 0,r.value.shardMasterPort=void 0,r.value.steamMasterPort=void 0,r.value.steamAuthenticationPort=void 0,Z.value?r.value.shardMasterIp="127.0.0.1":r.value.shardMasterIp=void 0,r.value.clusterKey=void 0},Ee={masterPort:[{required:!0,message:n("setting.roomWorldFormRules.masterPort"),trigger:"blur"}],cavesPort:[{required:!0,message:n("setting.roomWorldFormRules.cavesPort"),trigger:"blur"}],shardMasterPort:[{required:!0,message:n("setting.roomWorldFormRules.shardMasterPort"),trigger:"blur"}],steamMasterPort:[{required:!0,message:n("setting.roomWorldFormRules.steamMasterPort"),trigger:"blur"}],steamAuthenticationPort:[{required:!0,message:n("setting.roomWorldFormRules.steamAuthenticationPort"),trigger:"blur"}],shardMasterIp:[{required:!0,message:n("setting.roomWorldFormRules.shardMasterIp"),trigger:"blur"}],clusterKey:[{required:!0,message:n("setting.roomWorldFormRules.clusterKey"),trigger:"blur"}]};return pl(()=>ye.selectedDstCluster,(d,u)=>{d&&ue(()=>{ge()})},{immediate:!1}),(d,u)=>{const k=U("el-step"),A=U("el-steps"),x=U("el-card"),j=U("el-col"),N=U("el-row"),T=U("el-button"),$=U("el-input"),w=U("el-form-item"),q=U("el-tooltip"),He=U("el-input-number"),H=U("el-radio"),we=U("el-radio-group"),he=U("el-switch"),_e=U("el-slider"),Oe=U("el-link"),O=U("el-form"),le=U("el-tab-pane"),b=U("el-divider"),be=U("el-tabs"),sl=U("el-alert"),Le=U("el-result"),Je=U("arrow-down"),Qe=U("el-icon"),ie=U("el-dropdown-item"),Xe=U("el-dropdown-menu"),Ye=U("el-dropdown");return s(),g("div",_l,[K.value?z("",!0):(s(),g(_,{key:0},[a(N,{gutter:10},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:o(()=>[a(x,{shadow:"never"},{default:o(()=>[a(A,{active:M.value,"align-center":"","finish-status":"success"},{default:o(()=>[a(k,{title:l(h)?d.$t("setting.roomSettingMobile"):d.$t("setting.roomSetting"),onClick:u[0]||(u[0]=e=>Y(0))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.groundSettingMobile"):d.$t("setting.groundSetting"),onClick:u[1]||(u[1]=e=>Y(1))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.caveSettingMobile"):d.$t("setting.caveSetting"),onClick:u[2]||(u[2]=e=>Y(2))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.modSettingMobile"):d.$t("setting.modSetting"),onClick:u[3]||(u[3]=e=>Y(3))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.finishSettingMobile"):d.$t("setting.finishSetting"),onClick:u[4]||(u[4]=e=>Y(4))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),a(N,{gutter:10,style:{"margin-top":"5px"}},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24},{default:o(()=>[M.value===0?(s(),V(x,{key:0,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:o(()=>[m("div",bl,[m("span",null,i(l(n)("setting.roomSetting")),1),m("div",null,[a(T,{link:"",type:"primary",onClick:u[5]||(u[5]=e=>Me(!0))},{default:o(()=>[p(i(l(n)("setting.baseForm.changeMultiHostMode")),1)]),_:1})])])]),default:o(()=>[a(O,{ref_key:"roomBaseFormRef",ref:ne,"label-position":l(h)?"top":"left","label-width":l(h)?"70":"auto",model:r.value,rules:Pe,size:l(h)?"small":"large"},{default:o(()=>[a(w,{label:l(n)("setting.baseForm.room"),prop:"name"},{default:o(()=>[a($,{modelValue:r.value.name,"onUpdate:modelValue":u[6]||(u[6]=e=>r.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.description"),prop:"description"},{default:o(()=>[a($,{modelValue:r.value.description,"onUpdate:modelValue":u[7]||(u[7]=e=>r.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{prop:"masterPort"},{label:o(()=>[a(q,{content:l(n)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:o(()=>[p(i(l(n)("setting.baseForm.masterPort")),1)]),_:1},8,["content"])]),default:o(()=>[a(He,{modelValue:r.value.masterPort,"onUpdate:modelValue":u[8]||(u[8]=e=>r.value.masterPort=e),max:65535,min:1,size:l(h)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),a(w,{prop:"cavesPort"},{label:o(()=>[a(q,{content:l(n)("setting.roomBaseFormPortToolTip"),effect:"light",placement:"top"},{default:o(()=>[p(i(l(n)("setting.baseForm.cavesPort")),1)]),_:1},8,["content"])]),default:o(()=>[a(He,{modelValue:r.value.cavesPort,"onUpdate:modelValue":u[9]||(u[9]=e=>r.value.cavesPort=e),max:65535,min:1,size:l(h)?"small":"large","controls-position":"right"},null,8,["modelValue","size"])]),_:1}),a(w,{label:l(n)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:o(()=>[a(we,{modelValue:r.value.gameMode,"onUpdate:modelValue":u[10]||(u[10]=e=>r.value.gameMode=e)},{default:o(()=>[a(H,{label:d.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.pvp"),prop:"pvp"},{default:o(()=>[a(he,{modelValue:r.value.pvp,"onUpdate:modelValue":u[11]||(u[11]=e=>r.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.playerNum"),prop:"playerNum"},{default:o(()=>[a(_e,{modelValue:r.value.playerNum,"onUpdate:modelValue":u[12]||(u[12]=e=>r.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.backDays"),prop:"backDays"},{default:o(()=>[a(_e,{modelValue:r.value.backDays,"onUpdate:modelValue":u[13]||(u[13]=e=>r.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.vote"),prop:"vote"},{default:o(()=>[a(he,{modelValue:r.value.vote,"onUpdate:modelValue":u[14]||(u[14]=e=>r.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.password")},{default:o(()=>[a($,{modelValue:r.value.password,"onUpdate:modelValue":u[15]||(u[15]=e=>r.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.token"),prop:"token"},{default:o(()=>[a($,{modelValue:r.value.token,"onUpdate:modelValue":u[16]||(u[16]=e=>r.value.token=e),"show-password":""},null,8,["modelValue"]),m("div",yl,[a(Oe,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:o(()=>[p(i(l(n)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):z("",!0),M.value===1?(s(),V(x,{key:1,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[a(be,{modelValue:ve.value,"onUpdate:modelValue":u[20]||(u[20]=e=>ve.value=e),onTabChange:We},{default:o(()=>[a(le,{label:l(n)("setting.tabCode"),name:"Code"},{default:o(()=>[r.value.gameMode==="endless"?(s(),V(T,{key:0,type:"primary",onClick:u[17]||(u[17]=e=>ee("master","endless"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.endless")),1)]),_:1})):z("",!0),r.value.gameMode==="survival"?(s(),V(T,{key:1,type:"primary",onClick:u[18]||(u[18]=e=>ee("master","survival"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.survival")),1)]),_:1})):z("",!0),a(O,{ref_key:"roomGroundFormRef",ref:ce,"label-width":l(h)?"70":"100",model:F.value,rules:$e,size:l(h)?"small":"large",style:{"margin-top":"10px"}},{default:o(()=>[a(w,{"label-position":"top",prop:"groundSetting"},{default:o(()=>[a(re,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:F.value.groundSetting,"onUpdate:modelValue":u[19]||(u[19]=e=>F.value.groundSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(r.value.gameMode==="endless"||r.value.gameMode==="survival")&&F.value.groundSetting!==""?(s(),V(le,{key:0,lazy:"",label:l(n)("setting.tabVisualization"),name:"Visualization"},{default:o(()=>[a(b,{"content-position":"center"},{default:o(()=>[m("span",Cl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),m("div",Ml,[(s(!0),g(_,null,y(l(G).global,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",wl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),m("div",kl,[(s(!0),g(_,null,y(l(G).events,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",zl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),m("div",Sl,[(s(!0),g(_,null,y(l(G).survivors,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Rl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),m("div",Ul,[(s(!0),g(_,null,y(l(G).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Fl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),m("div",Pl,[(s(!0),g(_,null,y(l(G).resourceRegrowth,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",$l,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),m("div",Il,[(s(!0),g(_,null,y(l(G).unnaturalPortalResource,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Al,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),m("div",Gl,[(s(!0),g(_,null,y(l(G).creatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",xl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),m("div",Wl,[(s(!0),g(_,null,y(l(G).hostileCreatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Tl,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),m("div",Bl,[(s(!0),g(_,null,y(l(G).giants,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",ql,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),m("div",Dl,[(s(!0),g(_,null,y(l(Q).global,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Kl,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),m("div",jl,[(s(!0),g(_,null,y(l(Q).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",El,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),m("div",Hl,[(s(!0),g(_,null,y(l(Q).resources,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Ol,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),m("div",Ll,[(s(!0),g(_,null,y(l(Q).creaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Jl,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),m("div",Ql,[(s(!0),g(_,null,y(l(Q).hostileCreaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):z("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):z("",!0),M.value===2?(s(),V(x,{key:2,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[a(be,{modelValue:Ve.value,"onUpdate:modelValue":u[24]||(u[24]=e=>Ve.value=e),onTabChange:Te},{default:o(()=>[a(le,{label:l(n)("setting.tabCode"),name:"Code"},{default:o(()=>[a(sl,{closable:!1,effect:oe.value?"light":"dark",type:"success"},{default:o(()=>[p(i(l(n)("setting.cavesTip")),1)]),_:1},8,["effect"]),m("div",Xl,[r.value.gameMode==="endless"?(s(),V(T,{key:0,type:"primary",onClick:u[21]||(u[21]=e=>ee("caves","endless"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.endless")),1)]),_:1})):z("",!0),r.value.gameMode==="survival"?(s(),V(T,{key:1,type:"primary",onClick:u[22]||(u[22]=e=>ee("caves","survival"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.survival")),1)]),_:1})):z("",!0)]),a(O,{ref_key:"roomCaveFormRef",ref:Ce,"label-width":l(h)?"70":"100",model:R.value,rules:Ie,size:l(h)?"small":"large",style:{"margin-top":"10px"}},{default:o(()=>[a(w,{"label-position":"top",prop:"caveSetting"},{default:o(()=>[a(re,{ref_key:"editorCavesSettingRef",ref:se,modelValue:R.value.caveSetting,"onUpdate:modelValue":u[23]||(u[23]=e=>R.value.caveSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(r.value.gameMode==="endless"||r.value.gameMode==="survival")&&R.value.caveSetting!==""?(s(),V(le,{key:0,lazy:"",label:l(n)("setting.tabVisualization"),name:"Visualization"},{default:o(()=>[a(b,{"content-position":"center"},{default:o(()=>[m("span",Yl,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),m("div",Zl,[(s(!0),g(_,null,y(l(X).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Nl,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),m("div",et,[(s(!0),g(_,null,y(l(X).resourceRegrowth,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",lt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),m("div",tt,[(s(!0),g(_,null,y(l(X).creatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",at,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),m("div",ot,[(s(!0),g(_,null,y(l(X).hostileCreatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",nt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),m("div",ut,[(s(!0),g(_,null,y(l(X).giants,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",st,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),m("div",it,[(s(!0),g(_,null,y(l(te).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(ae)[e].configs,customConfigsValue:l(ae)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(ae)[e].i18n,image:l(ae)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",dt,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),m("div",rt,[(s(!0),g(_,null,y(l(te).resources,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",mt,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),m("div",gt,[(s(!0),g(_,null,y(l(te).creaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",ft,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),m("div",ct,[(s(!0),g(_,null,y(l(te).hostileCreaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):z("",!0)]),_:1},8,["modelValue"])]),_:1},8,["style"])):z("",!0),M.value===3?(s(),V(x,{key:3,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[a(O,{ref_key:"roomModFormRef",ref:Ae,"label-width":l(h)?"70":"100",model:B.value,rules:Ge,size:l(h)?"small":"large"},{default:o(()=>[a(w,{"label-position":"top",prop:"modSetting"},{default:o(()=>[a(re,{ref:"editor",modelValue:B.value.modSetting,"onUpdate:modelValue":u[25]||(u[25]=e=>B.value.modSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):z("",!0),M.value===4?(s(),V(x,{key:4,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[m("div",{style:E(l(h)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[a(Le,{"sub-title":d.$t("setting.finish.description"),title:d.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):z("",!0)]),_:1})]),_:1}),a(N,{gutter:10},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24},{default:o(()=>[a(x,{shadow:"never"},{default:o(()=>[m("div",vt,[M.value>0?(s(),V(T,{key:0,onClick:Ue},{default:o(()=>[p(i(l(n)("setting.button.prev")),1)]),_:1})):z("",!0),M.value<4?(s(),V(T,{key:1,type:"primary",onClick:Fe},{default:o(()=>[p(i(l(n)("setting.button.next")),1)]),_:1})):z("",!0),M.value===4?(s(),V(Ye,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:xe},{dropdown:o(()=>[a(Xe,null,{default:o(()=>[a(ie,{command:"save"},{default:o(()=>[p(i(l(n)("setting.button.save")),1)]),_:1}),a(ie,{command:"saveAndRestart"},{default:o(()=>[p(i(l(n)("setting.button.saveAndRestart")),1)]),_:1}),a(ie,{command:"generateNewWorld"},{default:o(()=>[p(i(l(n)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:o(()=>[a(T,{loading:D.value,type:"warning"},{default:o(()=>[p(i(l(n)("setting.button.actions"))+" ",1),a(Qe,{class:"el-icon--right"},{default:o(()=>[a(Je)]),_:1})]),_:1},8,["loading"])]),_:1})):z("",!0)])]),_:1})]),_:1})]),_:1})],64)),K.value?(s(),g(_,{key:1},[a(N,{gutter:10},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:o(()=>[a(x,{shadow:"never"},{default:o(()=>[a(A,{active:M.value,"align-center":"","finish-status":"success"},{default:o(()=>[a(k,{title:l(h)?d.$t("setting.roomSettingMobile"):d.$t("setting.roomSetting"),onClick:u[26]||(u[26]=e=>Y(0))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.worldSettingMobile"):d.$t("setting.worldSetting"),onClick:u[27]||(u[27]=e=>Y(1))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.modSettingMobile"):d.$t("setting.modSetting"),onClick:u[28]||(u[28]=e=>Y(3))},null,8,["title"]),a(k,{title:l(h)?d.$t("setting.finishSettingMobile"):d.$t("setting.finishSetting"),onClick:u[29]||(u[29]=e=>Y(2))},null,8,["title"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),a(N,{gutter:10,style:{"margin-top":"5px"}},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24},{default:o(()=>[M.value===0?(s(),V(x,{key:0,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:o(()=>[m("div",Vt,[m("span",null,i(l(n)("setting.roomSetting")),1),m("div",null,[a(T,{link:"",type:"primary",onClick:u[30]||(u[30]=e=>Me(!1))},{default:o(()=>[p(i(l(n)("setting.baseForm.changeSingleHostMode")),1)]),_:1})])])]),default:o(()=>[a(O,{ref_key:"roomBaseFormRef",ref:ne,"label-position":l(h)?"top":"left","label-width":l(h)?"70":"auto",model:r.value,rules:Pe,size:l(h)?"small":"large"},{default:o(()=>[a(w,{label:l(n)("setting.baseForm.room"),prop:"name"},{default:o(()=>[a($,{modelValue:r.value.name,"onUpdate:modelValue":u[31]||(u[31]=e=>r.value.name=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.description"),prop:"description"},{default:o(()=>[a($,{modelValue:r.value.description,"onUpdate:modelValue":u[32]||(u[32]=e=>r.value.description=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.gameMode.name"),prop:"gameMode"},{default:o(()=>[a(we,{modelValue:r.value.gameMode,"onUpdate:modelValue":u[33]||(u[33]=e=>r.value.gameMode=e)},{default:o(()=>[a(H,{label:d.$t("setting.baseForm.gameMode.endless"),value:"endless"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.survival"),value:"survival"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.lavaarena"),value:"lavaarena"},null,8,["label"]),a(H,{label:d.$t("setting.baseForm.gameMode.quagmire"),value:"quagmire"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.pvp"),prop:"pvp"},{default:o(()=>[a(he,{modelValue:r.value.pvp,"onUpdate:modelValue":u[34]||(u[34]=e=>r.value.pvp=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.playerNum"),prop:"playerNum"},{default:o(()=>[a(_e,{modelValue:r.value.playerNum,"onUpdate:modelValue":u[35]||(u[35]=e=>r.value.playerNum=e),max:100,min:2,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.backDays"),prop:"backDays"},{default:o(()=>[a(_e,{modelValue:r.value.backDays,"onUpdate:modelValue":u[36]||(u[36]=e=>r.value.backDays=e),max:50,min:5,"show-input":"",size:"small"},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.vote"),prop:"vote"},{default:o(()=>[a(he,{modelValue:r.value.vote,"onUpdate:modelValue":u[37]||(u[37]=e=>r.value.vote=e)},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.password")},{default:o(()=>[a($,{modelValue:r.value.password,"onUpdate:modelValue":u[38]||(u[38]=e=>r.value.password=e),autocomplete:"new-password","show-password":""},null,8,["modelValue"])]),_:1},8,["label"]),a(w,{label:l(n)("setting.baseForm.token"),prop:"token"},{default:o(()=>[a($,{modelValue:r.value.token,"onUpdate:modelValue":u[39]||(u[39]=e=>r.value.token=e),"show-password":""},null,8,["modelValue"]),m("div",pt,[a(Oe,{underline:!1,href:"https://accounts.klei.com",target:"_blank"},{default:o(()=>[p(i(l(n)("setting.baseForm.tokenHelp")),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["label-position","label-width","model","size"])]),_:1},8,["style"])):z("",!0),M.value===1?(s(),V(x,{key:1,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:o(()=>[m("div",ht,[m("div",null,[a(we,{modelValue:Z.value,"onUpdate:modelValue":u[40]||(u[40]=e=>Z.value=e),onChange:je},{default:o(()=>[a(H,{value:!0,size:"small"},{default:o(()=>[p(i(l(n)("setting.groundSettingMobile")),1)]),_:1}),a(H,{value:!1,size:"small"},{default:o(()=>[p(i(l(n)("setting.caveSettingMobile")),1)]),_:1})]),_:1},8,["modelValue"])])])]),default:o(()=>[Z.value?(s(),V(be,{key:0,modelValue:ve.value,"onUpdate:modelValue":u[50]||(u[50]=e=>ve.value=e),onTabChange:We},{default:o(()=>[a(le,{label:l(n)("setting.tabCode"),name:"Code"},{default:o(()=>[r.value.gameMode==="endless"?(s(),V(T,{key:0,type:"primary",onClick:u[41]||(u[41]=e=>ee("master","endless"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.endless")),1)]),_:1})):z("",!0),r.value.gameMode==="survival"?(s(),V(T,{key:1,type:"primary",onClick:u[42]||(u[42]=e=>ee("master","survival"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.survival")),1)]),_:1})):z("",!0),a(O,{ref_key:"roomBaseFormRef",ref:ne,"label-width":l(h)?"70":"100",model:r.value,rules:Ee,size:l(h)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:o(()=>[a(q,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.masterPort"),"label-position":"top",prop:"masterPort"},{default:o(()=>[a($,{modelValue:r.value.masterPort,"onUpdate:modelValue":u[43]||(u[43]=e=>r.value.masterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:o(()=>[a($,{modelValue:r.value.shardMasterPort,"onUpdate:modelValue":u[44]||(u[44]=e=>r.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:o(()=>[a($,{modelValue:r.value.steamMasterPort,"onUpdate:modelValue":u[45]||(u[45]=e=>r.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:o(()=>[a($,{modelValue:r.value.steamAuthenticationPort,"onUpdate:modelValue":u[46]||(u[46]=e=>r.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:o(()=>[a($,{modelValue:r.value.shardMasterIp,"onUpdate:modelValue":u[47]||(u[47]=e=>r.value.shardMasterIp=e),disabled:"",size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:o(()=>[a($,{modelValue:r.value.clusterKey,"onUpdate:modelValue":u[48]||(u[48]=e=>r.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),a(O,{ref_key:"roomGroundFormRef",ref:ce,"label-width":l(h)?"70":"100",model:F.value,rules:$e,size:l(h)?"small":"large",style:{"margin-top":"10px"}},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.groundSetting"),"label-position":"top",prop:"groundSetting"},{default:o(()=>[a(re,{ref_key:"editorGroundSettingRef",ref:fe,modelValue:F.value.groundSetting,"onUpdate:modelValue":u[49]||(u[49]=e=>F.value.groundSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(r.value.gameMode==="endless"||r.value.gameMode==="survival")&&F.value.groundSetting!==""?(s(),V(le,{key:0,lazy:"",label:l(n)("setting.tabVisualization"),name:"Visualization"},{default:o(()=>[a(b,{"content-position":"center"},{default:o(()=>[m("span",_t,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.global")),1)]),_:1}),m("div",bt,[(s(!0),g(_,null,y(l(G).global,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",yt,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.events")),1)]),_:1}),m("div",Ct,[(s(!0),g(_,null,y(l(G).events,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Mt,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.survivors")),1)]),_:1}),m("div",wt,[(s(!0),g(_,null,y(l(G).survivors,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",kt,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.world")),1)]),_:1}),m("div",zt,[(s(!0),g(_,null,y(l(G).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",St,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),m("div",Rt,[(s(!0),g(_,null,y(l(G).resourceRegrowth,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Ut,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.unnaturalPortalResource")),1)]),_:1}),m("div",Ft,[(s(!0),g(_,null,y(l(G).unnaturalPortalResource,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Pt,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.creatures")),1)]),_:1}),m("div",$t,[(s(!0),g(_,null,y(l(G).creatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",It,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.hostileCreatures")),1)]),_:1}),m("div",At,[(s(!0),g(_,null,y(l(G).hostileCreatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Gt,i(l(n)("setting.groundVisualizationRule")),1),p(" - "+i(l(n)("setting.groundVisualizationRuleItem.giants")),1)]),_:1}),m("div",xt,[(s(!0),g(_,null,y(l(G).giants,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Wt,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.global")),1)]),_:1}),m("div",Tt,[(s(!0),g(_,null,y(l(Q).global,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Bt,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.world")),1)]),_:1}),m("div",qt,[(s(!0),g(_,null,y(l(Q).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Dt,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.resources")),1)]),_:1}),m("div",Kt,[(s(!0),g(_,null,y(l(Q).resources,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",jt,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),m("div",Et,[(s(!0),g(_,null,y(l(Q).creaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Ht,i(l(n)("setting.groundVisualizationGeneration")),1),p(" - "+i(l(n)("setting.groundVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),m("div",Ot,[(s(!0),g(_,null,y(l(Q).hostileCreaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:S},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):z("",!0)]),_:1},8,["modelValue"])):(s(),V(be,{key:1,modelValue:Ve.value,"onUpdate:modelValue":u[60]||(u[60]=e=>Ve.value=e),onTabChange:Te},{default:o(()=>[a(le,{label:l(n)("setting.tabCode"),name:"Code"},{default:o(()=>[m("div",null,[r.value.gameMode==="endless"?(s(),V(T,{key:0,type:"primary",onClick:u[51]||(u[51]=e=>ee("caves","endless"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.endless")),1)]),_:1})):z("",!0),r.value.gameMode==="survival"?(s(),V(T,{key:1,type:"primary",onClick:u[52]||(u[52]=e=>ee("caves","survival"))},{default:o(()=>[p(i(l(n)("setting.luaImportButton.survival")),1)]),_:1})):z("",!0)]),a(O,{ref_key:"roomBaseFormRef",ref:ne,"label-width":l(h)?"70":"100",model:r.value,rules:Ee,size:l(h)?"small":"large",inline:"","label-position":"top",style:{"margin-top":"10px"}},{default:o(()=>[a(q,{"show-after":500,content:"server.ini - [NETWORK] - server_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.cavesPort"),"label-position":"top",prop:"cavesPort"},{default:o(()=>[a($,{modelValue:r.value.cavesPort,"onUpdate:modelValue":u[53]||(u[53]=e=>r.value.cavesPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - master_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.shardMasterPort"),"label-position":"top",prop:"shardMasterPort"},{default:o(()=>[a($,{modelValue:r.value.shardMasterPort,"onUpdate:modelValue":u[54]||(u[54]=e=>r.value.shardMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"server.ini - [STEAM] - server_master_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.steamMasterPort"),"label-position":"top",prop:"steamMasterPort"},{default:o(()=>[a($,{modelValue:r.value.steamMasterPort,"onUpdate:modelValue":u[55]||(u[55]=e=>r.value.steamMasterPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"server.ini - [STEAM] - authentication_port",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.steamAuthenticationPort"),"label-position":"top",prop:"steamAuthenticationPort"},{default:o(()=>[a($,{modelValue:r.value.steamAuthenticationPort,"onUpdate:modelValue":u[56]||(u[56]=e=>r.value.steamAuthenticationPort=e),size:"default",type:"number"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - master_ip",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:"Master IP","label-position":"top",prop:"shardMasterIp"},{default:o(()=>[a($,{modelValue:r.value.shardMasterIp,"onUpdate:modelValue":u[57]||(u[57]=e=>r.value.shardMasterIp=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),a(q,{"show-after":500,content:"cluster.ini - [SHARD] - cluster_key",effect:"light",placement:"top"},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.clusterKey"),"label-position":"top",prop:"clusterKey"},{default:o(()=>[a($,{modelValue:r.value.clusterKey,"onUpdate:modelValue":u[58]||(u[58]=e=>r.value.clusterKey=e),autocomplete:"new-password","show-password":"",size:"default",type:"password"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1},8,["label-width","model","size"]),a(O,{ref_key:"roomCaveFormRef",ref:Ce,"label-width":l(h)?"70":"100",model:R.value,rules:Ie,size:l(h)?"small":"large",style:{"margin-top":"10px"}},{default:o(()=>[a(w,{label:l(n)("setting.roomWorldForm.caveSetting"),"label-position":"top",prop:"caveSetting"},{default:o(()=>[a(re,{ref_key:"editorCavesSettingRef",ref:se,modelValue:R.value.caveSetting,"onUpdate:modelValue":u[59]||(u[59]=e=>R.value.caveSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1},8,["label"])]),_:1},8,["label-width","model","size"])]),_:1},8,["label"]),(r.value.gameMode==="endless"||r.value.gameMode==="survival")&&R.value.caveSetting!==""?(s(),V(le,{key:0,lazy:"",label:l(n)("setting.tabVisualization"),name:"Visualization"},{default:o(()=>[a(b,{"content-position":"center"},{default:o(()=>[m("span",Lt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.world")),1)]),_:1}),m("div",Jt,[(s(!0),g(_,null,y(l(X).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Qt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.resourceRegrowth")),1)]),_:1}),m("div",Xt,[(s(!0),g(_,null,y(l(X).resourceRegrowth,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Yt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.creatures")),1)]),_:1}),m("div",Zt,[(s(!0),g(_,null,y(l(X).creatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",Nt,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.hostileCreatures")),1)]),_:1}),m("div",ea,[(s(!0),g(_,null,y(l(X).hostileCreatures,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",la,i(l(n)("setting.cavesVisualizationRule")),1),p(" - "+i(l(n)("setting.cavesVisualizationRuleItem.giants")),1)]),_:1}),m("div",ta,[(s(!0),g(_,null,y(l(X).giants,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",aa,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.world")),1)]),_:1}),m("div",oa,[(s(!0),g(_,null,y(l(te).world,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(ae)[e].configs,customConfigsValue:l(ae)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(ae)[e].i18n,image:l(ae)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",na,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.resources")),1)]),_:1}),m("div",ua,[(s(!0),g(_,null,y(l(te).resources,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",sa,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.creaturesAndSpawners")),1)]),_:1}),m("div",ia,[(s(!0),g(_,null,y(l(te).creaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))]),a(b,{"content-position":"center"},{default:o(()=>[m("span",da,i(l(n)("setting.cavesVisualizationGeneration")),1),p(" - "+i(l(n)("setting.cavesVisualizationGenerationItem.hostileCreaturesAndSpawners")),1)]),_:1}),m("div",ra,[(s(!0),g(_,null,y(l(te).hostileCreaturesAndSpawners,(e,c)=>(s(),g("div",null,[(s(),V(C,{key:c,modelValue:f.value[e],"onUpdate:modelValue":v=>f.value[e]=v,configs:l(t)[e].configs,customConfigsValue:l(t)[e].customConfigsValue,defaultModelValue:l(t)[e].modelValue,i18n:l(t)[e].i18n,image:l(t)[e].image,name:e,onChangeModelValue:I},null,8,["modelValue","onUpdate:modelValue","configs","customConfigsValue","defaultModelValue","i18n","image","name"]))]))),256))])]),_:1},8,["label"])):z("",!0)]),_:1},8,["modelValue"]))]),_:1},8,["style"])):z("",!0),M.value===2?(s(),V(x,{key:2,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[a(O,{ref_key:"roomModFormRef",ref:Ae,"label-width":l(h)?"70":"100",model:B.value,rules:Ge,size:l(h)?"small":"large"},{default:o(()=>[a(w,{"label-position":"top",prop:"modSetting"},{default:o(()=>[a(re,{ref:"editor",modelValue:B.value.modSetting,"onUpdate:modelValue":u[61]||(u[61]=e=>B.value.modSetting=e),height:l(h)?320:500,theme:oe.value?"darcula":"idea",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])]),_:1})]),_:1},8,["label-width","model","size"])]),_:1},8,["style"])):z("",!0),M.value===3?(s(),V(x,{key:3,style:E(l(h)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{default:o(()=>[m("div",{style:E(l(h)?"min-height: 360px":"min-height: 560px"),class:"fcc"},[a(Le,{"sub-title":d.$t("setting.finish.description"),title:d.$t("setting.finish.title"),icon:"success"},null,8,["sub-title","title"])],4)]),_:1},8,["style"])):z("",!0)]),_:1})]),_:1}),a(N,{gutter:10},{default:o(()=>[a(j,{lg:24,md:24,sm:24,span:24,xs:24},{default:o(()=>[a(x,{shadow:"never"},{default:o(()=>[m("div",ma,[M.value>0?(s(),V(T,{key:0,onClick:Ue},{default:o(()=>[p(i(l(n)("setting.button.prev")),1)]),_:1})):z("",!0),M.value<3?(s(),V(T,{key:1,type:"primary",onClick:Fe},{default:o(()=>[p(i(l(n)("setting.button.next")),1)]),_:1})):z("",!0),M.value===3?(s(),V(Ye,{key:2,style:{"margin-left":"12px"},trigger:"click",onCommand:xe},{dropdown:o(()=>[a(Xe,null,{default:o(()=>[a(ie,{command:"save"},{default:o(()=>[p(i(l(n)("setting.button.save")),1)]),_:1}),a(ie,{command:"saveAndRestart"},{default:o(()=>[p(i(l(n)("setting.button.saveAndRestart")),1)]),_:1}),a(ie,{command:"generateNewWorld"},{default:o(()=>[p(i(l(n)("setting.button.generateNewWorld")),1)]),_:1})]),_:1})]),default:o(()=>[a(T,{loading:D.value,type:"warning"},{default:o(()=>[p(i(l(n)("setting.button.actions"))+" ",1),a(Qe,{class:"el-icon--right"},{default:o(()=>[a(Je)]),_:1})]),_:1},8,["loading"])]),_:1})):z("",!0)])]),_:1})]),_:1})]),_:1})],64)):z("",!0)])}}}),_a=il(fa,[["__scopeId","data-v-55c3bb8c"]]);export{_a as default};
